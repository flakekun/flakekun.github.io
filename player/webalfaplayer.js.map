{"version":3,"sources":["webpack:///scripts/webalfaplayer.js","webpack:///webpack/bootstrap 0427b23153cf89013669","webpack:///./src/scripts/system/eventSystem.js","webpack:///./src/scripts/ui/styles.js","webpack:///./src/scripts/data/constants.js","webpack:///./src/scripts/data/settings.js","webpack:///./src/vendor/vpaid-flash-client/js/utils.js","webpack:///./src/scripts/system/errors.js","webpack:///./src/scripts/data/userAgent.js","webpack:///./src/scripts/utils/common.js","webpack:///./src/scripts/ui/utils.js","webpack:///./src/scripts/system/networking.js","webpack:///./src/scripts/utils/url.js","webpack:///./src/vendor/vpaid-flash-client/js/registry.js","webpack:///./node_modules/alfa-common/lib/utils/url.js","webpack:///./src/scripts/parser/data.js","webpack:///./src/scripts/utils/stage.js","webpack:///./node_modules/alfa-common/lib/polyfills/assign.js","webpack:///./node_modules/alfa-common/lib/utils/array.js","webpack:///./src/vendor/swfobject/swfobject/src/swfobject.js","webpack:///./src/vendor/vpaid-flash-client/js/jsFlashBridge.js","webpack:///./src/scripts/ui/contextMenu.js","webpack:///./src/scripts/system/notifier.js","webpack:///./src/scripts/index.js","webpack:///./node_modules/alfa-common/lib/utils/uuid.js","webpack:///./src/scripts/data/storage.js","webpack:///./node_modules/alfa-common/lib/utils/storage.js","webpack:///./src/scripts/WebAlfaPlayer.js","webpack:///./src/scripts/system/scheduler.js","webpack:///./src/scripts/utils/flags.js","webpack:///./src/styles/player.scss","webpack:///./src/scripts/ui/companionArea.js","webpack:///./src/scripts/data/config.js","webpack:///./src/scripts/ui/uiManager.js","webpack:///./node_modules/fscreen/lib/index.js","webpack:///./node_modules/iphone-inline-video/dist/iphone-inline-video.es-modules.js","webpack:///./node_modules/intervalometer/dist/intervalometer.es-modules.js","webpack:///./src/scripts/players/youtube.js","webpack:///./src/scripts/players/vpaid.js","webpack:///./src/vendor/vpaid-flash-client/js/VPAIDFLASHClient.js","webpack:///./src/vendor/vpaid-flash-client/js/jsFlashBridgeRegistry.js","webpack:///./src/vendor/vpaid-flash-client/js/VPAIDAdUnit.js","webpack:///./src/vendor/vpaid-flash-client/js/IVPAIDAdUnit.js","webpack:///./src/vendor/vpaid-flash-client/js/flashTester.js","webpack:///./src/scripts/ui/background.js","webpack:///./src/scripts/ui/iconsContainer.js","webpack:///./src/scripts/ui/icon.js","webpack:///./src/scripts/ui/overlay.js","webpack:///./src/scripts/ui/skipButton.js","webpack:///./src/scripts/ui/adultDialog.js","webpack:///./src/scripts/ui/controlsBar.js","webpack:///./src/scripts/ui/timeBar.js","webpack:///./src/scripts/ui/timeLabel.js","webpack:///./src/scripts/ui/volumeBar.js","webpack:///./src/scripts/ui/shareButton.js","webpack:///./src/scripts/ui/shareDialog.js","webpack:///./src/scripts/data/socialNetworks.js","webpack:///./src/scripts/utils/viewability.js","webpack:///./src/scripts/system/vastNotifier.js","webpack:///./src/scripts/parser/index.js","webpack:///./src/scripts/parser/parserVast1.js","webpack:///./src/scripts/parser/parserVast2.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","EventSystem","this","events","eventName","listeners","args","undefined","arguments","Array","slice","apply","func","addEventListener","removeEventListener","push","indexOf","splice","default","STYLES","css","_player","_player2","obj","playerCss","ROOT","FULLSCREEN","TRANSITION_VISIBLE","OPACITY_VISIBLE","OPACITY_HIDDEN","DISPLAY_NONE","NO_SELECT","CLICKABLE","LOADING_INDICATOR","LOADING_INDICATOR_VPAID","TIMEBAR","TIMEBAR_RAIL","TIMEBAR_RAIL_FILLING","TIMEBAR_SEEK_RAIL","TIMEBAR_SEEK_RAIL_FILLING","TIMEBAR_BUFF_RAIL","TIMEBAR_BUFF_RAIL_FILLING","TIMEBAR_PLAY_RAIL","TIMEBAR_PLAY_RAIL_FILLING","TIMEBAR_THUMB","VOLUME_BAR","VOLUME_BAR_RAIL_GROUP","VOLUME_BAR_RAIL","VOLUME_BAR_CURRENT_GROUP","VOLUME_BAR_CURRENT","VOLUME_BAR_THUMB","BUTTON_VOLUME","BUTTON_VOLUME_MUTE","ICON_PAUSE","ICON_PLAY","BACKGROUND_FULL_PAGE","PASSBACK_HTML_IFRAME","URL","NOTIFY_ON_LOAD","NOTIFY_ON_LOAD_DEV","NOTIFY_ERROR","NOTIFY_ERROR_DEV","NOTIFY_INFO","NOTIFY_INFO_DEV","SHORTENER_URL","SHORTENER_URL_DEV","VAST_BASE_APP","VAST_BASE_WEB","VAST_BASE_DEV","SHOW_AD","VPAID_FLASH","MIME","JS","FLASH","VIDEO_TYPE","HTML5","VAST_EVENTS","CREATIVE_VIEW","START","FIRST_QUARTILE","MIDPOINT","THIRD_QUARTILE","COMPLETE","MUTE","UNMUTE","PAUSE","REWIND","RESUME","EXIT_FULLSCREEN","EXPAND","COLLAPSE","ACCEPT_INVITATION","ACCEPT_INVITATION_LINEAR","CLOSE","CLOSE_LINEAR","SKIP","PROGRESS","PLAYER_EVENTS","PLAYER_CREATED","BUFFERING","CLICK","VIDEO_ERROR","EMPTY_ADS_LIST","AD_IMPRESSION","AD_FINISHED","AD_SKIPPED","AD_CLICK_THROUGH","AD_TRACKING","VPAID_EVENT","VAST_WARNING","MEDIA_EVENTS","abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","MEDIA_ERROR","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","DEFAULTS","SKIP_AD_TIME","settings","Settings","INITIAL_SID","_uuid","_url","_constants","_storage","uuid","isInitialSIDUsed","isRotated","isDebug","urlProtocol","storage","Storage","isDev","url","ensureProtocol","read","str","num","isNaN","set","write","parseFloat","env","unique","prefix","count","f","noop","callbackTimeout","timer","onSuccess","onTimeout","timeout","setTimeout","clearTimeout","createElementWithID","parent","id","cleanContent","nEl","document","createElement","innerHTML","appendChild","isPositiveInt","newVal","oldVal","isFinite","stringEndsWith","string","search","endsWith","hideFlashEl","el","style","position","left","top","width","height","String","searchString","subjectString","toString","lastIndex","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","registerGlobalErrorHandler","global","onerror","__oldHandler","handler","unregisterGlobalErrorHandler","createError","msg","AlfaError","createVastError","code","source","VastError","sendError","data","message","body","type","getAppType","sid","ver","_networking","lineNo","columnNo","handledError","CriticalError","NoAdsError","PLAYER_ERRORS","VAST_ERRORS","_settings","PARSING_ERROR","SCHEMA_ERROR","VERSION_NOT_SUPPORTED","TRAFFICKING_ERROR","DIFFERENT_LINEARITY","DIFFERENT_DURATION","DIFFERENT_SIZE","WRAPPER_ERROR","WRAPPER_TIMEOUT","WRAPPER_LIMIT","WRAPPER_NO_ADS","LINEAR_ERROR","LINEAR_NOT_FOUND","LINEAR_TIMEOUT","LINEAR_NOT_SUPPORTED","LINEAR_NOT_DISPLAYING","NONLINEAR_ERROR","NONLINEAR_TOO_LARGE","NONLINEAR_FETCH","NONLINEAR_SUPPORT","COMPANION_ERROR","COMPANION_TOO_LARGE","COMPANION_DISPLAY","COMPANION_FETCH","COMPANION_SUPPORT","UNDEFINED_ERROR","VPAID_ERROR","GENERAL_ERROR","NO_ADS","CRITICAL_ERROR","_extendableBuiltin2","_this","getPrototypeOf","cls","ExtendableBuiltin","Error","_AlfaError","_this2","_AlfaError2","_this3","_AlfaError3","_this4","DEVICE_NAMES_REGEX","DEVICE_MODELS_REGEX","FORMATS_DEFAULT","FORMATS_FOR_IOS_DEVICES","BITRATE_LIMIT_DEFAULT","BITRATE_LIMIT_FOR_MOBILE_DEVICES","UserAgent","userAgent","isAndroid","isIOS","test","isIOSSmall","isIE","isUCBrowser","isChrome","isFirefox","isMobile","substr","isFacebook","supportedVideoFormats","bitrateLimit","format","parsedUA","parse","navigator","rawUA","parseTime","timeString","msIndex","ar","split","result","parseInt","formatTime","seconds","Infinity","Math","floor","h","getUrlContentAsync","callback","location","protocol","xhr","XMLHttpRequest","open","onload","readyState","status","responseText","e","send","parseXML","trim","parser","DOMParser","xml","parseFromString","parserErrorTag","querySelector","innerText","getCDATA","xmlNode","firstChild","wholeText","playWhenCan","videoElement","successCallback","errorCallback","onCanPlay","runPlay","onError","paused","promise","then","catch","HAVE_FUTURE_DATA","isChildOf","parentNode","isElementInViewport","rect","getBoundingClientRect","bottom","window","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","isElementPartiallyInViewport","heightPart","widthPart","viewHeight","viewWidth","getCursorPosition","canvas","event","x","clientX","y","clientY","normalizePercent","percent","doGet","options","getRequest","doPost","post","Request","req","requests","getShortURL","queries","tinyUrl","getShortenerUrl","reqUrl","sendOnLoad","sendPostRequest","getNotifyOnLoadUrl","sendInfo","getNotifyInfoUrl","getNotifyErrorUrl","JSON","stringify","_common","RequestError","statusText","active","success","method","ontimeout","headers","headerName","setRequestHeader","prepareFetchVastUrl","replace","checkHttpsAwareness","httpsRegex","RegExp","parseYoutubeID","regExp","match","embedRegExp","embedMatch","MultipleValuesRegistry","_registries","keys","filter","index","old","findByValue","map","remove","SingleValueRegistry","isUrl","URL_PREFIXES","toLowerCase","Companion","staticResource","htmlResource","iframeResource","clickThrough","Icon","NonLinear","MediaFile","Linear","AdTag","Vast","_assign","_array","VAST_TYPE","VPAID","WRAPPER","INLINE","version","adTags","text","STARTS","adSystem","impressions","linears","companions","nonLinears","icons","linear","mediaFile","eventsLinear","eventsNonLinear","isSupported","hasIcons","byTime","icon","isValidForTime","byProgram","forEach","program","prop","ua","screenSize","mediaFiles","flatten","pick","pickAppropriate","item","assign","parameters","isVPAID","apiFramework","duration","skipOffset","clickTrackings","clickCustoms","delivery","codec","bitrate","scalable","maintainAspectRatio","_ref","pickLargest","largest","pickSmallest","smallest","vpaidFiles","largestMediaFile","reduce","smallestMediaFile","supportedMediaFiles","isSupportedVideoFormat","clickTracking","nonLinear","xPosition","yPosition","staticResourceType","offset","viewTracking","STAGES","BEGIN","MAIN_VIDEO","PRE_ROLL","MID_ROLL","POST_ROLL","END","Stage","_stages","stage","current","isPreRoll","isMidRoll","isPostRoll","varArgs","to","nextSource","nextKey","uniq","array","isInvalidOrEmpty","elem","propName","acc","items","concat","isArray","callDomLoadFunctions","isDomLoaded","getElementsByTagName","t","span","display","doc","removeChild","dl","domLoadFnArr","addDomLoadEvent","fn","addLoadEvent","win","UNDEF","attachEvent","addListener","fnOld","testPlayerVersion","pv","matchVersions","b","OBJECT","setAttribute","FLASH_MIME_TYPE","counter","checkGetVariable","GetVariable","toInt","rl","regObjArr","cb","callbackFn","cbObj","getElementById","hasPlayerVersion","swfVersion","wk","expressInstall","canExpressInstall","att","getAttribute","styleclass","align","par","pl","j","showExpressInstall","displayFbContent","setVisibility","ref","getObjectById","SetVariable","objectIdStr","r","nodeName","toUpperCase","isExpressInstallActive","mac","replaceElemIdStr","getId","storedCallbackFn","storedCallbackObj","storedFbContent","abstractFbContent","storedFbContentId","EXPRESS_INSTALL_ID","pt","ie","fv","encodeURIComponent","title","flashvars","newObj","insertBefore","removeSWF","createSWF","replaceChild","ac","nestedObj","childNodes","cl","nodeType","cloneNode","createIeObject","paramStr","div","attObj","parObj","attr","attrLower","param","createObjParam","objIdArr","pName","pValue","removeSWFInIE","isElement","thing","eventType","listenersArr","rv","v","createCSS","sel","decl","media","newStyle","dynamicStylesheet","dynamicStylesheetMedia","styleSheets","addRule","createTextNode","isVisible","autoHideShow","visibility","urlEncodeIfNecessary","exec","isChromium","chrome","winNav","vendorName","vendor","isOpera","opr","isIEedge","nav","plugin","encodeURIEnabled","w3cdom","u","platform","windows","webkit","appName","playerVersion","plugins","description","mimeTypes","enabledPlugin","ActiveXObject","a","w3","detach","detachEvent","checkDomLoadedIE","doScroll","checkDomLoadedWK","swfobject","ll","il","k","registerObject","swfVersionStr","xiSwfUrlStr","regObj","embedSWF","swfUrlStr","widthStr","heightStr","flashvarsObj","callbackObj","switchOffAutoHideShow","enableUriEncoding","bool","getFlashPlayerVersion","major","minor","release","hasFlashPlayerVersion","objElemIdStr","selStr","declStr","mediaStr","newStyleBoolean","getQueryParamValue","q","hash","pairs","substring","expressInstallCallback","$asyncCallback","callbackID","err","_callbacks","registry","JSFlashBridge","flashURL","flashID","loadHandShake","_el","_flashID","_flashURL","_width","_height","_handlers","_uniqueMethodIdentifier","_ready","_handShakeHandler","addInstance","add","removeByKey","removeAll","methodName","_trigger","removeByValue","suffix","filterKeys","trigger","newWidth","newHeight","setSize","offAll","removeAllCallbacks","removeInstanceByID","parentElement","typeID","typeName","getInstanceByID","_handShake","_callCallback","showContextMenuAt","menuItems","hideCurrentMenu","menu","constructMenu","DEFAULT_MENU_ITEMS","currentMenu","temp","className","element","createItemElement","menuItem","href","createLinkItemElement","createSpanItemElement","dataset","_styles","genBody","notifyInfo","notifyCreate","_ref2","notifyError","_errors","_WebAlfaPlayer","_WebAlfaPlayer2","_notifier","WebAlfaPlayer","TEMPLATE","random","localStorage","isReadable","isStorageReadable","isWritable","isStorageWritable","getItem","setItem","removeItem","_interopRequireDefault","PLAYER_COMMIT","PLAYER_VERSION","pui","wap","bind","getShareLink","showAd","currentTime","volume","ui","getVolume","setVolume","vpaid","VPAIDPlayer","commit","_userAgent","_scheduler","_scheduler2","_eventSystem","_eventSystem2","_companionArea","_stage","_config","_config2","_uiManager","_uiManager2","_vastNotifier","_parser","DEFAULT_PUI","_EventSystem","config","Config","vast","state","initial","finishedMain","nextSID","currentAd","currentAdNumber","currentCompanion","mainVideoTime","notifier","VastNotifier","UIManager","scheduler","Scheduler","thisTimeUpdateEvent","onTimeupdateEvent","fireLinearOnce","emit","fireImpressions","init","createMainUI","isAutoGetAds","onConfigApplied","loadVast","fillNotifyProps","viewability","getViewability","fillCurrentAdProps","debug","fireError","getVastType","mediafile","getFetchVastUrl","vastUrl","getVideoElement","resultXML","initVast","getProvidedVastXML","vastXML","warning","notifyVastError","precacheAd","onPlayerClick","background","on","getYoutubeID","youtubePlayer","HTML5Player","haveAdTags","setCurrentAd","isAutoplay","isAdult","isAndroidSDK","isMute","setupTouchAutoplay","_this5","touchAutoplay","isInBounds","stopPropagation","isGettingAd","isInViewport","getAdTags","number","_this6","iosfwdlimit","hideNonLinear","getCompanionConfig","CompanionArea","fireByUrl","companionInfo","COMPANION_EVENTS","VAST_ERROR","hideStartButton","showShareButton","watchForAutoplay","willPlayAdASAP","mediaSpan","classList","onPlayEvent","next","playCurrentAd","videoElementPlay","showVideoControls","showStartButton","hideMessage","src","videoMain","showVPAIDPlayer","hideShareButton","morphToAdsLayout","videoStage","preCachedAd","showHTML5Player","isAdOnly","playMainVideo","playVPAIDAd","playHTML5Ad","showIcons","getSkipOffset","showSkipButton","notifyOnce","fireLinear","_this7","getVideoFile","isVideo","hideCloseButton","hideSkipButton","hideIcons","morphToNormalLayout","isAllowYoutubeWrapper","showEndingScreen","resetTimeAndSeek","showYoutubePlayer","onPauseEvent","showLoadingIndicator","getSupportedNonLinear","showNonLinear","seekToTime","hideLoadingIndicator","showMessage","disablePlay","morphToWaitingAdsLayout","size","shareUrl","getShareUrl","showShareDialog","getShowAdUrl","destroy","fireNonLinear","isAd","time","Date","prevTimeNotify","notifyImpressions","hasProgressEvents","fireProgress","previousTime","log","__playerClickTimeStamp","timeStamp","isBegin","isValidForClickThrough","isPaused","onClickThrough","videoClickThrough","onPlayerClickMain","playerHandles","_this8","getVideoClickTrackings","resume","isVideoControlVisible","isNoUI","onPlayFinished","isSeekingNow","onAdFinished","wasFired","markAsFired","playNextAd","hideVideoControls","onMainFinishedEvent","onEnterFullscreen","onExitFullscreen","onMute","onUnmute","onVideoError","passedError","Event","errorCode","errorMessage","MediaError","hasPassback","tryBackupVast","showError","showRestartButton","onSkipAdClick","onAdSkipped","onCloseClick","onPrerollAdFinished","injectPassbackHTML","rootElement","passbackURL","frame","cssText","scrolling","injectPassbackJS","passbackJS","jsNode","_url2","FLAGS","_flags","_data","INITIAL","GETTING_AD","PARSING_VAST","PLAY_AD_ASAP","HAVE_AD_IN_CACHE","Flags","timeBackupLastTried","timeLastAdRequest","timeLastAdFinished","adCount","has","generateVastTagUrl","getPlayerSize","requestAd","showWaitingForAd","include","abortPlaying","currTime","getPassback","getPassbackJS","passbackHTML","getPassbackHTML","isTimeoutBetweenBackupsExpired","parentElem","getParentElement","shouldPlayMainVideo","exclude","isTimeoutBetweenAdsExpired","isAdRequestTimeExpired","currentVideoTime","shouldPlayAd","shouldPlayNextAd","previous","requestOptions","Content-Type","res","looksLikeVast","sendNoAdsError","requestError","responseData","checkAutoplay","__flags","_len","flags","_key","flag","_len2","_key2","_len3","_key3","EVENTS","companion","content","companionRoot","margin","padding","onCompanionClick","companionConfig","filtered","creativeType","__generateShareUrl","encodeURI","__joinParams","params","__urlParam","separator","__get","propNames","defaultValue","__pick","__getB","__config","ads","gui","__shareUrl","__youtubeID","externalConfig","adult","videoURL","getProtocol","app_bundle","Boolean","noUI","noGUI","noSharing","showMuted","androidsdk","autoPlay","video_autoplay","autoplay","autogetad","adOnly","adonly","ssl","passback","passback_js","passbackjs","passback_html","passbackhtml","skipoffset","file","site_url","referrer","isshare","isInApp","getSiteUrl","vasturl","vastxml","lang","language","vast_url","subDomain","parentId","companiondiv","videoTag","getPUI","getSource","w","getWidth","getHeight","mute","_fscreen","_fscreen2","_iphoneInlineVideo","_iphoneInlineVideo2","_youtube","_youtube2","_vpaid","_vpaid2","_background","_iconsContainer","_overlay","_skipButton","_adultDialog","_controlsBar","_shareButton","_shareDialog","_contextMenu","_utils","_viewability","randomId","_volume","Background","shareButton","ShareButton","shareDialog","ShareDialog","videoPoster","loadingIndicator","skipButton","closeButton","buttonStart","iconsContainer","IconsContainer","controlsBar","ControlsBar","hideControlsTimer","onThisPauseEvent","onThisPlayEvent","onWindowMessage","onContextMenuRequested","BACKGROUND_EVENTS","MOUSE_OVER_PLAYER","onMouseOverPlayer","MOUSE_OUT_OF_PLAYER","onMouseOutOfPlayer","ViewabilityObserver","VIEWABILITY_EVENTS","VISIBLE","shouldRespectViewability","viewabilityPlay","HIDDEN","viewabilityPause","addElement","createVideoTag","youtube","YoutubePlayer","includeYoutubeAPI","onDurationchangeEvent","onBuffering","showAdultDialog","showUI","onCheckCurrentPlayer","elementReplaced","enableTranslucence","iPad","muted","listenVideoEvents","CONTROLS_BAR_EVENTS","PLAY_PAUSE_CLICK","onPlayPauseClick","VOLUME_CLICK","onVolumeClick","VOLUME_CHANGE","setupHideControlsTimer","FULLSCREEN_CLICK","onFullscreenClick","TIME_SEEK_START","onTimeBarSeekStart","TIME_SEEK","onTimeBarSeek","TIME_SEEK_END","onTimeBarSeekEnd","fscreen","fullscreenEnabled","onFullscreenChangeEvent","setVolumeUI","onProgressEvent","onCanPlaythroughEvent","onLoadstartEvent","readyMetadata","dialog","AdultDialog","ADULT_DIALOG_EVENTS","AGREED","REJECT","createPoster","createSharingUI","createVideoControl","hide","show","isInstant","totalTime","setTime","vpaidPlayer","load","hidePoster","removeElement","SkipButton","SKIP_BUTTON_EVENTS","messageDiv","timeBar","isSeeking","hideRestartButton","hideEndingScreen","onPlayClick","bgSize","marginLeft","nonLinearData","_this9","Overlay","OVERLAY_EVENTS","VIEW","onNonLinearView","onNonLinearClose","CONTENT_CLICK","info","onNonLinearContentClick","_this10","isNoSharingUI","SHARE_BUTTON_EVENTS","shareCurrentVideo","SHARE_DIALOG_EVENTS","DONE","restartButton","doRestart","curTime","showPoster","endingScreen","shareDiv","sharePanel","round","setPlayPosition","_this11","ICON_EVENTS","ICON_VIEW","onIconView","ICON_CLICK","onIconClick","off","setPosition","showPauseButton","len","buffered","lastSec","end","getBufferedPosition","setBufferedPosition","vol","hasAttribute","removeAttribute","updateVolume","posterUrl","getPosterUrl","backgroundImage","fullscreenElement","isFullscreen","requestFullscreen","enterFullscreen","exitFullscreen","onParentResize","__wasPausedByViewability","toElement","preventDefault","currentPlay","_previousVolume","showPlayButton","wnd","postMessage","isAdsLayout","update","resizeToVideo","getIconsForTime","remain","setText","calculateBufferWidth","wasPlayingBeforeSeek","newTime","fullscreenchange","fullscreenerror","moz","ms","requestFullscreenFunction","val","onfullscreenchange","onfullscreenerror","__webpack_exports__","preventEvent","stopImmediatePropagation","proxyProperty","propertyName","sourceObject","copyFirst","proxyEvent","dispatchEvent","dispatchEventAsync","Promise","resolve","getAudioFromVideo","video","audio","Audio","crossOrigin","currentSrc","rememberOnly","lastTimeupdateEvent","now","IIVEvent","lastRequests","requestIndex","isPlayerEnded","player","driver","timeDiff","hasAudio","playbackRate","loop","networkState","NETWORK_IDLE","IIV","webkitDisplayingFullscreen","IIVPlay","updater","start","HAVE_ENOUGH_DATA","forceEvents","stop","IIVPause","addPlayer","__WEBPACK_IMPORTED_MODULE_0_intervalometer__","wasEmpty","preventWithPropOrFullscreen","isAllowed","overloadAPI","enableInlineVideo","opts","everywhere","iOS8or9","ipad","willAutoplay","restoreAutoplay","head","matchMedia","matches","intervalometer","request","cancel","requestParameter","requestId","previousLoopTime","frameIntervalometer","requestAnimationFrame","cancelAnimationFrame","Youtube","_src","_currentTime","_duration","_isReady","_error","_isEnded","_container","_overflow","YT","tag","firstScriptTag","videoId","onYouTubeIframeAPIReady","container","onOverflowClick","Player","playerVars","controls","showinfo","html5","modestbranding","rel","onStateChange","onReady","onErrorEvent","PlayerState","PAUSED","clearInterval","tweenTimeInterval","ytTime","getCurrentTime","PLAYING","dur","getDuration","setInterval","tweenTime","stopVideo","ENDED","CUED","_playOnReady","playVideo","time_update","getPlayerState","last_time_update","pauseVideo","seekTo","generateHTML5FrameSource","_VPAIDFLASHClient","_VPAIDFLASHClient2","FlashClientOpts","videoEl","_videoEl","_paused","_id","_parent","_wap","_type","_errorSent","_frameContainer","_adLoadTimeoutTimer","_emitError","createHTML5Frame","createFlashFrame","border","overflow","_frame","contentWindow","alfaLoad","onIFrameReady","alfaError","close","boundingClientRect","evt","CustomEvent","bubbles","cancelable","vpaidFlashClient","VPAIDFLASHClient","loadAdUnit","adUnit","_creative","initAd","AdParameters","adParameters","resumeAd","pauseAd","skipAd","viewMode","resizeAd","expandAd","collapseAd","getAdLinear","getAdExpanded","getAdSkippableState","startAd","_checkTimeInterval","_readDurationAndTime","setAdVolume","vastError","_readVolume","getAdVolume","getAdDuration","getAdRemainingTime","vpaidAD","getVPAIDAd","adEl","subscribe","slot","videoSlot","$throwIfDestroyed","_destroyed","$loadPendedAdUnit","_loadLater","setStaticProperty","VPAIDAdUnit","uniqueVPAID","createFlashTester","flashTester","vpaidParentEl","swfConfig","wmode","salign","allowScriptAccess","scale","allowFullScreen","quality","vpaidOptions","me","_vpaidParentEl","movie","FlashVars","VPAID_FLASH_HANDLER","_flash","_destroyAdUnit","_adUnitLoad","removeCallback","_adUnit","_destroy","adURL","isReady","callFlashMethod","getFlashID","getFlashURL","supported","instances","JSFlashBridgeRegistry","IVPAIDAdUnit","ALL_VPAID_METHODS","getOwnPropertyNames","_IVPAIDAdUnit","flash","removeCallbackByMethodName","offEvent","playerVPAIDVersion","desiredBitrate","creativeData","environmentVars","flashVars","soundVolume","FLASH_TEST","FLASH_TEST_EL","utils","FlashTester","parentEl","_isSupported","__bindMouseEvents","offsetHeight","offsetWidth","styleElement","child","contains","root","relatedTarget","_icon","videoElementRect","videoHeight","videoWidth","relativeHeight","relativeWidth","newIconRecords","visibleIconElements","iconsToDestroy","iconElement","newIconRecord","iconRecordsToCreate","iconRecord","positionElement","img","contentFrame","image","updateGeometry","availableWidth","availableHeight","scaleWidth","scaleHeight","minScale","skipText","skipTime","skipAdOffset","innerBase","innerCenter","mainText","warningText","showButton","showButtonRow","leaveButton","_timeBar","_timeLabel","_volumeBar","playButton","TimeBar","TimeLabel","volumeButton","volumeBar","createVolumeRegulator","isFullscreenRestricted","createFullscreenButton","TIME_BAR_EVENTS","SEEK_START","SEEK","SEEK_END","VolumeBar","VOLUME_BAR_EVENTS","ev","related","fullScreenButton","immediate","thumb","playRail","buffRail","__isSeeking","seekRail","seekRailFilling","buffRailFilling","playRailFilling","__onSeekStart","__onSeek","__onSeekEnd","changedTouches","__calculateSeekPercent","railCurrent","hideTimer","railGroup","rail","railCurrentGroup","onClick","__setupHideTimer","pos","BORDERS_OFFSET","parentWidth","parentHeight","_socialNetworks","_socialNetworks2","SocialButton","social","isBig","hideDialogTimer","link","_EventSystem2","isEndScreen","shareButtons","socialButtonsElement","socialNetworks","network","socialButton","setupHideTimeout","resetHideTimeout","shareURL","button","setLink","defineNetwork","rei","SocialNetwork","playerUrl","initViewabilityChecks","vo","isIntersectionObserverSupported","initViewabilityChecksWithObserver","initViewabilityChecksWithInterval","threshold","VIEWABILITY_THRESHOLD","io","IntersectionObserver","entries","intersectionRatio","observe","disconnect","viewabilityCallback","ratio","interval","VIEWABILITY_CHECK_TIMEOUT","initFocusChecks","onBlur","onFocus","initActiveTabChecks","checkCallback","isActiveTab","ACTIVE_TAB_CHECK_TIMEOUT","viewport","getViewportProps","calculateViewability","getElementProps","sl","pageXOffset","scrollLeft","st","pageYOffset","scrollTop","elementBoundingBox","horizontal","vertical","IntersectionObserverEntry","VIEWABILITY","FOCUS","ACTIVITY","isFocused","visibilityRatio","__cancelFocusChecks","focused","checkVisibility","__cancelActiveTabChecks","previousVisible","__cancelViewabilityChecks","ceil","hidden","webkitHidden","normalizeUrls","urls","bus","onceGuard","pending","ad","__formatEventName","progressEvents","rnd","imgCode","onVastWarning","firstTag","ParserVast1","ParserVast2","_parserVast","_parserVast2","_parserVast3","_parserVast4","wrapperCounter","adTag","mediaFileTag","tracking","__readOffset","__readCompanionTag","companionClickThrough","__readTrackingArray","intoTarget","trackingTags","sources","adTagIndex","readTagFunc","readAdTag","mergeLinearEvents","screen","availWidth","availHeight","selectMediaFile","__emitVastWarning","adNode","followAdditionalWrappers","inlineTags","wrapperTags","inInLine","adChildTag","adSystemTags","errorTags","impressionTags","impressionText","creativeTags","linearTags","__readLinearTag","companionTags","nonLinearAdsTags","nonLinearTags","nl","__readNonLinearTag","types","join","iconTags","__readIconTag","followAdditionalWrappersAttr","followNext","followWrapper","wrapper","tagURI","durationTags","durationText","mediaFileTags","__readMediaFile","customClick","nonLinearClickThrough","nonLinearClickTracking","readPosition","resource","viewTrackingTags","clickThroughTags","clickTrackingTags"],"mappings":"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","file":"scripts/webalfaplayer.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 21);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EventSystem = function () {\n    function EventSystem() {\n        _classCallCheck(this, EventSystem);\n\n        this.events = {};\n    }\n\n    _createClass(EventSystem, [{\n        key: \"emit\",\n        value: function emit(eventName) {\n            var listeners = this.events[eventName];\n            if (!listeners) {\n                return;\n            }\n\n            // collect arguments passed to listeners (rest from second)\n            var args = undefined;\n            if (arguments.length > 1) {\n                args = Array.prototype.slice.call(arguments, 1);\n            }\n\n            // run listeners with provided arguments\n            for (var i = 0; i < listeners.length; i++) {\n                listeners[i].apply(null, args);\n            }\n        }\n    }, {\n        key: \"on\",\n        value: function on(eventName, func) {\n            this.addEventListener(eventName, func);\n        }\n    }, {\n        key: \"off\",\n        value: function off(eventName, func) {\n            this.removeEventListener(eventName, func);\n        }\n    }, {\n        key: \"addEventListener\",\n        value: function addEventListener(eventName, func) {\n            if (!this.events[eventName]) {\n                this.events[eventName] = [];\n            }\n            this.events[eventName].push(func);\n        }\n    }, {\n        key: \"removeEventListener\",\n        value: function removeEventListener(eventName, func) {\n            if (this.events[eventName]) {\n                if (func) {\n                    var i = this.events[eventName].indexOf(func);\n                    if (i >= 0) {\n                        this.events[eventName].splice(i, 1);\n                    }\n                } else {\n                    this.events[eventName] = [];\n                }\n            }\n        }\n    }]);\n\n    return EventSystem;\n}();\n\nexports.default = EventSystem;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.STYLES = exports.css = undefined;\n\nvar _player = __webpack_require__(28);\n\nvar _player2 = _interopRequireDefault(_player);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar css = exports.css = _player2.default;\n\nvar STYLES = exports.STYLES = {\n    ROOT: 'alfa-root',\n\n    FULLSCREEN: 'alfa-fullscreen',\n    TRANSITION_VISIBLE: 'alfa-visible-animation',\n    OPACITY_VISIBLE: 'alfa-opacity-visible',\n    OPACITY_HIDDEN: 'alfa-opacity-hide',\n    DISPLAY_NONE: 'alfa-display-none',\n    NO_SELECT: 'alfa-noselect',\n    CLICKABLE: 'alfa-clickable',\n\n    LOADING_INDICATOR: 'alfa-loading-indicator',\n    LOADING_INDICATOR_VPAID: 'alfa-loading-indicator--vpaid',\n\n    TIMEBAR: 'alfa-timebar',\n    TIMEBAR_RAIL: 'alfa-timebar__rail',\n    TIMEBAR_RAIL_FILLING: 'alfa-timebar__rail-filling',\n    TIMEBAR_SEEK_RAIL: 'alfa-timebar__seek-rail',\n    TIMEBAR_SEEK_RAIL_FILLING: 'alfa-timebar__seek-rail-filling',\n    TIMEBAR_BUFF_RAIL: 'alfa-timebar__buff-rail',\n    TIMEBAR_BUFF_RAIL_FILLING: 'alfa-timebar__buff-rail-filling',\n    TIMEBAR_PLAY_RAIL: 'alfa-timebar__play-rail',\n    TIMEBAR_PLAY_RAIL_FILLING: 'alfa-timebar__play-rail-filling',\n    TIMEBAR_THUMB: 'alfa-timebar__thumb',\n\n    VOLUME_BAR: 'alfa-volume__bar',\n    VOLUME_BAR_RAIL_GROUP: 'alfa-volume__rail-group',\n    VOLUME_BAR_RAIL: 'alfa-volume__rail',\n    VOLUME_BAR_CURRENT_GROUP: 'alfa-volume__current-group',\n    VOLUME_BAR_CURRENT: 'alfa-volume__current',\n    VOLUME_BAR_THUMB: 'alfa-volume__thumb',\n\n    BUTTON_VOLUME: 'alfa-volume__button',\n    BUTTON_VOLUME_MUTE: 'alfa-volume__button--mute',\n\n    ICON_PAUSE: 'pause-icon',\n    ICON_PLAY: 'play-icon',\n\n    BACKGROUND_FULL_PAGE: 'position:relative;top:0;left:0;right:0;bottom:0',\n    PASSBACK_HTML_IFRAME: 'position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;border:none;overflow:hidden'\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar URL = exports.URL = {\n    NOTIFY_ON_LOAD: 'player.logs.videmob.com/onload',\n    NOTIFY_ON_LOAD_DEV: '34.225.76.139:8851/onload',\n\n    NOTIFY_ERROR: 'player.logs.videmob.com/error',\n    NOTIFY_ERROR_DEV: '34.225.76.139:8851',\n\n    NOTIFY_INFO: 'player.logs.videmob.com/info',\n    NOTIFY_INFO_DEV: '34.225.76.139:8851/info',\n\n    SHORTENER_URL: 'd20cu0stheph7f.cloudfront.net',\n    SHORTENER_URL_DEV: 'dwhsvxfkehdnj.cloudfront.net',\n\n    VAST_BASE_APP: '//vast.videmob.com/vmvast.php',\n    VAST_BASE_WEB: '//vastweb.videmob.com/vmvast.php',\n    VAST_BASE_DEV: '//adservernodejs.dimsem.com/vmvast',\n    SHOW_AD: 'websdk.cdn.videmob.com/player',\n    VPAID_FLASH: '//websdk.cdn.videmob.com/player/VPAIDFlash.swf'\n};\n\nvar MIME = exports.MIME = {\n    JS: 'application/javascript',\n    FLASH: 'application/x-shockwave-flash'\n};\n\nvar VIDEO_TYPE = exports.VIDEO_TYPE = {\n    HTML5: 'html5',\n    FLASH: 'flash'\n};\n\n// all event names are lowercased here and in VAST parsing for consistency\nvar VAST_EVENTS = exports.VAST_EVENTS = {\n    CREATIVE_VIEW: 'creativeview',\n    START: 'start',\n    FIRST_QUARTILE: 'firstquartile',\n    MIDPOINT: 'midpoint',\n    THIRD_QUARTILE: 'thirdquartile',\n    COMPLETE: 'complete',\n    MUTE: 'mute',\n    UNMUTE: 'unmute',\n    PAUSE: 'pause',\n    REWIND: 'rewind',\n    RESUME: 'resume',\n    FULLSCREEN: 'fullscreen',\n    EXIT_FULLSCREEN: 'exitfullscreen',\n    EXPAND: 'expand',\n    COLLAPSE: 'collapse',\n    ACCEPT_INVITATION: 'acceptinvitation',\n    ACCEPT_INVITATION_LINEAR: 'acceptinvitationlinear',\n    CLOSE: 'close',\n    CLOSE_LINEAR: 'closelinear',\n    SKIP: 'skip',\n    PROGRESS: 'progress'\n};\n\nvar PLAYER_EVENTS = exports.PLAYER_EVENTS = {\n    PLAYER_CREATED: 'playerCreated',\n    BUFFERING: 'buffering',\n    CLICK: 'click',\n    VIDEO_ERROR: 'videoerror',\n    EMPTY_ADS_LIST: 'emptyadslist',\n    AD_IMPRESSION: 'adimpression',\n    AD_FINISHED: 'adfinished',\n    AD_SKIPPED: 'adskipped',\n    AD_CLICK_THROUGH: 'adclickthrough',\n    AD_TRACKING: 'adtracking',\n    VPAID_EVENT: 'vpaidEvent',\n    VAST_WARNING: 'vastWarning'\n};\n\n// HTML5 audio\\video tags events\nvar MEDIA_EVENTS = exports.MEDIA_EVENTS = {\n    abort: 'abort', // Sent when playback is aborted; for example, if the media is playing and is restarted from the beginning, this event is sent.\n    canplay: 'canplay', // Sent when enough data is available that the media can be played, at least for a couple of frames.  This corresponds to the HAVE_ENOUGH_DATA readyState.\n    canplaythrough: 'canplaythrough', // Sent when the ready state changes to CAN_PLAY_THROUGH, indicating that the entire media can be played without interruption, assuming the download rate remains at least at the current level. It will also be fired when playback is toggled between paused and playing. Note: Manually setting the currentTime will eventually fire a canplaythrough event in firefox. Other browsers might not fire this event.\n    durationchange: 'durationchange', // The metadata has loaded or changed, indicating a change in duration of the media.  This is sent, for example, when the media has loaded enough that the duration is known.\n    emptied: 'emptied', // The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it.\n    encrypted: 'encrypted', // The user agent has encountered initialization data in the media data.\n    ended: 'ended', // Sent when playback completes.\n    error: 'error', // Sent when an error occurs.  The element's error attribute contains more information. See HTMLMediaElement.error for details.\n    interruptbegin: 'interruptbegin', // Sent when audio playing on a Firefox OS device is interrupted, either because the app playing the audio is sent to the background, or audio in a higher priority audio channel begins to play. See Using the AudioChannels API for more details.\n    interruptend: 'interruptend', // Sent when previously interrupted audio on a Firefox OS device commences playing again — when the interruption ends. This is when the associated app comes back to the foreground, or when the higher priority audio finished playing. See Using the AudioChannels API for more details.\n    loadeddata: 'loadeddata', // The first frame of the media has finished loading.\n    loadedmetadata: 'loadedmetadata', // The media's metadata has finished loading; all attributes now contain as much useful information as they're going to.\n    loadstart: 'loadstart', // Sent when loading of the media begins.\n    pause: 'pause', // Sent when playback is paused.\n    play: 'play', // Sent when playback of the media starts after having been paused; that is, when playback is resumed after a prior pause event.\n    playing: 'playing', // Sent when the media begins to play (either for the first time, after having been paused, or after ending and then restarting).\n    progress: 'progress', // Sent periodically to inform interested parties of progress downloading the media. Information about the current amount of the media that has been downloaded is available in the media element's buffered attribute.\n    ratechange: 'ratechange', // Sent when the playback speed changes.\n    seeked: 'seeked', // Sent when a seek operation completes.\n    seeking: 'seeking', // Sent when a seek operation begins.\n    stalled: 'stalled', // Sent when the user agent is trying to fetch media data, but data is unexpectedly not forthcoming.\n    suspend: 'suspend', // Sent when loading of the media is suspended; this may happen either because the download has completed or because it has been paused for any other reason.\n    timeupdate: 'timeupdate', // The time indicated by the element's currentTime attribute has changed.\n    volumechange: 'volumechange', // Sent when the audio volume changes (both when the volume is set and when the muted attribute is changed).\n    waiting: 'waiting' // Sent when the requested operation (such as playback) is delayed pending the completion of another operation (such as a seek).\n};\n\nvar MEDIA_ERROR = exports.MEDIA_ERROR = {\n    MEDIA_ERR_ABORTED: 1,\n    MEDIA_ERR_NETWORK: 2,\n    MEDIA_ERR_DECODE: 3,\n    MEDIA_ERR_SRC_NOT_SUPPORTED: 4\n};\n\nvar DEFAULTS = exports.DEFAULTS = {\n    SKIP_AD_TIME: 7\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.settings = exports.Settings = exports.INITIAL_SID = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _uuid = __webpack_require__(22);\n\nvar _url = __webpack_require__(12);\n\nvar _constants = __webpack_require__(2);\n\nvar _storage = __webpack_require__(23);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar KEY_VOLUME = 'AlfaPlayerVolume';\nvar KEY_CURRENT_PLAY = 'alfa_current_play';\nvar KEY_ENV = 'alfa_env';\nvar KEY_VAST_URL = 'alfa_vast_url';\n\n// this SID used in 'load' event and for first player instance\nvar INITIAL_SID = exports.INITIAL_SID = (0, _uuid.uuid)();\nvar isInitialSIDUsed = false;\n\nvar Settings = exports.Settings = function () {\n    function Settings() {\n        _classCallCheck(this, Settings);\n\n        this.isRotated = false;\n        this.isDebug = false;\n        this.urlProtocol = '';\n        this.storage = new _storage.Storage();\n    }\n\n    _createClass(Settings, [{\n        key: 'nextSID',\n        value: function nextSID() {\n            if (!isInitialSIDUsed) {\n                isInitialSIDUsed = true;\n                return INITIAL_SID;\n            } else {\n                return (0, _uuid.uuid)();\n            }\n        }\n    }, {\n        key: 'getShortenerUrl',\n        value: function getShortenerUrl() {\n            return this.isDev ? _constants.URL.SHORTENER_URL_DEV : _constants.URL.SHORTENER_URL;\n        }\n    }, {\n        key: 'getAppType',\n        value: function getAppType() {\n            var APP_NAME = 'webplayer';\n\n            if (false) {\n                return APP_NAME + '.r';\n            } else if (false) {\n                return APP_NAME + '.vpaid';\n            }\n            return APP_NAME;\n        }\n    }, {\n        key: 'getNotifyOnLoadUrl',\n        value: function getNotifyOnLoadUrl() {\n            var url = this.isDev ? _constants.URL.NOTIFY_ON_LOAD_DEV : _constants.URL.NOTIFY_ON_LOAD;\n            return (0, _url.ensureProtocol)(url, this.urlProtocol);\n        }\n    }, {\n        key: 'getNotifyInfoUrl',\n        value: function getNotifyInfoUrl() {\n            var url = this.isDev ? _constants.URL.NOTIFY_INFO_DEV : _constants.URL.NOTIFY_INFO;\n            return (0, _url.ensureProtocol)(url, this.urlProtocol);\n        }\n    }, {\n        key: 'getNotifyErrorUrl',\n        value: function getNotifyErrorUrl() {\n            var url = this.isDev ? _constants.URL.NOTIFY_ERROR_DEV : _constants.URL.NOTIFY_ERROR;\n            return (0, _url.ensureProtocol)(url, this.urlProtocol);\n        }\n    }, {\n        key: 'env',\n        get: function get() {\n            return this.storage.read(KEY_ENV) || '';\n        }\n    }, {\n        key: 'vast_url',\n        get: function get() {\n            return this.storage.read(KEY_VAST_URL) || _constants.URL.VAST_BASE_DEV;\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            var str = this.storage.read(KEY_VOLUME);\n            if (!str) {\n                return 1;\n            }\n            var num = +str;\n            return !isNaN(num) ? num : 1;\n        },\n        set: function set(value) {\n            this.storage.write(KEY_VOLUME, value);\n        }\n    }, {\n        key: 'currentPlay',\n        get: function get() {\n            var num = parseFloat(this.storage.read(KEY_CURRENT_PLAY));\n            return !isNaN(num) ? num : 0;\n        },\n        set: function set(value) {\n            this.storage.write(KEY_CURRENT_PLAY, value);\n        }\n    }, {\n        key: 'skipAdOffset',\n        get: function get() {\n            return this.isDev ? 1 : _constants.DEFAULTS.SKIP_AD_TIME;\n        }\n    }, {\n        key: 'isDev',\n        get: function get() {\n            return this.env === 'dev';\n        }\n    }]);\n\n    return Settings;\n}();\n\nvar settings = exports.settings = new Settings();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.unique = unique;\nexports.noop = noop;\nexports.callbackTimeout = callbackTimeout;\nexports.createElementWithID = createElementWithID;\nexports.isPositiveInt = isPositiveInt;\nexports.stringEndsWith = stringEndsWith;\nexports.hideFlashEl = hideFlashEl;\nfunction unique(prefix) {\n    var count = -1;\n    return function (f) {\n        return prefix + '_' + ++count;\n    };\n}\n\nfunction noop() {}\n\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n\n    var timeout = setTimeout(function () {\n\n        onSuccess = noop;\n        onTimeout();\n    }, timer);\n\n    return function () {\n        clearTimeout(timeout);\n        onSuccess.apply(this, arguments);\n    };\n}\n\nfunction createElementWithID(parent, id) {\n    var cleanContent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    if (cleanContent) {\n        parent.innerHTML = '';\n    }\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction isPositiveInt(newVal, oldVal) {\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\nvar endsWith = function () {\n    if (String.prototype.endsWith) return String.prototype.endsWith;\n    return function endsWith(searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n}();\n\nfunction stringEndsWith(string, search) {\n    return endsWith.call(string, search);\n}\n\nfunction hideFlashEl(el) {\n    // can't use display none or visibility none because will block flash in some browsers\n    el.style.position = 'absolute';\n    el.style.left = '-1px';\n    el.style.top = '-1px';\n    el.style.width = '1px';\n    el.style.height = '1px';\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.NoAdsError = exports.VastError = exports.CriticalError = exports.AlfaError = exports.PLAYER_ERRORS = exports.VAST_ERRORS = undefined;\nexports.registerGlobalErrorHandler = registerGlobalErrorHandler;\nexports.unregisterGlobalErrorHandler = unregisterGlobalErrorHandler;\nexports.createError = createError;\nexports.createVastError = createVastError;\nexports.sendError = sendError;\n\nvar _networking = __webpack_require__(9);\n\nvar _settings = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n    function ExtendableBuiltin() {\n        cls.apply(this, arguments);\n    }\n\n    ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n        constructor: {\n            value: cls,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n\n    if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(ExtendableBuiltin, cls);\n    } else {\n        ExtendableBuiltin.__proto__ = cls;\n    }\n\n    return ExtendableBuiltin;\n}\n\nvar __oldHandler = null;\n\nvar VAST_ERRORS = exports.VAST_ERRORS = {\n    PARSING_ERROR: 100, // XML parsing error\n    SCHEMA_ERROR: 101, // VAST schema validation error\n    VERSION_NOT_SUPPORTED: 102, // VAST version of response not supported\n\n    TRAFFICKING_ERROR: 200, // Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display.\n    DIFFERENT_LINEARITY: 201, // Video player expecting different linearity\n    DIFFERENT_DURATION: 202, // Video player expecting different duration\n    DIFFERENT_SIZE: 203, // Video player expecting different size\n\n    WRAPPER_ERROR: 300, // General Wrapper error\n    WRAPPER_TIMEOUT: 301, // Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)\n    WRAPPER_LIMIT: 302, // Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response\n    WRAPPER_NO_ADS: 303, // No Ads VAST response after one or more Wrappers\n\n    LINEAR_ERROR: 400, // General Linear error. Video player is unable to display the Linear Ad\n    LINEAR_NOT_FOUND: 401, // File not found. Unable to find Linear/MediaFile from URI\n    LINEAR_TIMEOUT: 402, // Timeout of MediaFile URI\n    LINEAR_NOT_SUPPORTED: 403, // Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element\n    LINEAR_NOT_DISPLAYING: 405, // Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn’t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc\n\n    NONLINEAR_ERROR: 500, // General NonLinearAds error\n    NONLINEAR_TOO_LARGE: 501, // Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)\n    NONLINEAR_FETCH: 502, // Unable to fetch NonLinearAds/NonLinear resource\n    NONLINEAR_SUPPORT: 503, // Couldn’t find NonLinear resource with supported type\n\n    COMPANION_ERROR: 600, // General CompanionAds error\n    COMPANION_TOO_LARGE: 601, // Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)\n    COMPANION_DISPLAY: 602, // Unable to display Required Companion\n    COMPANION_FETCH: 603, // Unable to fetch CompanionAds/Companion resource\n    COMPANION_SUPPORT: 604, // Couldn’t find Companion resource with supported type\n\n    UNDEFINED_ERROR: 900, // Undefined Error\n    VPAID_ERROR: 901 // General VPAID error\n};\n\nvar PLAYER_ERRORS = exports.PLAYER_ERRORS = {\n    GENERAL_ERROR: 10000,\n    NO_ADS: 10001,\n    CRITICAL_ERROR: 10100\n};\n\n/*\r\nPOST JSON to: http://34.225.76.139:8551/\r\nWEB GUI: http://dev:ba3jus5yi8@34.225.76.139:8500/errorlogger-env1\r\n */\n\nvar AlfaError = exports.AlfaError = function (_extendableBuiltin2) {\n    _inherits(AlfaError, _extendableBuiltin2);\n\n    function AlfaError(msg) {\n        _classCallCheck(this, AlfaError);\n\n        var _this = _possibleConstructorReturn(this, (AlfaError.__proto__ || Object.getPrototypeOf(AlfaError)).call(this));\n\n        _this.name = 'AlfaError';\n        _this.message = msg;\n        _this.code = PLAYER_ERRORS.GENERAL_ERROR;\n        return _this;\n    }\n\n    return AlfaError;\n}(_extendableBuiltin(Error));\n\nvar CriticalError = exports.CriticalError = function (_AlfaError) {\n    _inherits(CriticalError, _AlfaError);\n\n    function CriticalError(msg) {\n        _classCallCheck(this, CriticalError);\n\n        var _this2 = _possibleConstructorReturn(this, (CriticalError.__proto__ || Object.getPrototypeOf(CriticalError)).call(this, msg));\n\n        _this2.name = 'CriticalError';\n        _this2.code = PLAYER_ERRORS.CRITICAL_ERROR;\n        return _this2;\n    }\n\n    return CriticalError;\n}(AlfaError);\n\nvar VastError = exports.VastError = function (_AlfaError2) {\n    _inherits(VastError, _AlfaError2);\n\n    function VastError(code, msg, source) {\n        _classCallCheck(this, VastError);\n\n        var _this3 = _possibleConstructorReturn(this, (VastError.__proto__ || Object.getPrototypeOf(VastError)).call(this, msg));\n\n        _this3.name = 'VastError';\n        _this3.code = code;\n        _this3.source = source;\n        return _this3;\n    }\n\n    return VastError;\n}(AlfaError);\n\nvar NoAdsError = exports.NoAdsError = function (_AlfaError3) {\n    _inherits(NoAdsError, _AlfaError3);\n\n    function NoAdsError(msg) {\n        _classCallCheck(this, NoAdsError);\n\n        var _this4 = _possibleConstructorReturn(this, (NoAdsError.__proto__ || Object.getPrototypeOf(NoAdsError)).call(this, msg));\n\n        _this4.name = 'NoAdsError';\n        _this4.code = PLAYER_ERRORS.NO_ADS;\n        return _this4;\n    }\n\n    return NoAdsError;\n}(AlfaError);\n\n/**\r\n * Register a global error listener to passed WINDOW global object.\r\n * Store previous registered listener.\r\n *\r\n * @param global\r\n */\n\n\nfunction registerGlobalErrorHandler(global) {\n    if (global.onerror) {\n        __oldHandler = global.onerror;\n    }\n\n    global.onerror = handler;\n\n    console.log('[alfa] Global Error Handler registered');\n}\n\n/**\r\n * Remove registered listener.\r\n * Restore previous listener, if any.\r\n *\r\n * @param global\r\n */\nfunction unregisterGlobalErrorHandler(global) {\n    if (__oldHandler) {\n        global.onerror = __oldHandler;\n        __oldHandler = null;\n    } else {\n        global.onerror = null;\n    }\n}\n\nfunction createError(msg) {\n    return new AlfaError(msg);\n}\n\nfunction createVastError(code, msg, source) {\n    return new VastError(code, msg, source);\n}\n\n/**\r\n * Send error to server\r\n*/\nfunction sendError(error, data) {\n    error = error || {};\n    var message = (error.name ? '[' + error.name + ']' : '') + ' ' + (error.message || '');\n\n    var body = {\n        name: 'err',\n        msg: message,\n        code: error.code || 0,\n        type: _settings.settings.getAppType(),\n        sid: error.sid || undefined,\n        ver: \"2.8.15\" || 'dev',\n        data: data\n    };\n    console.warn('[alfa] Error: ' + JSON.stringify(body));\n\n    (0, _networking.sendError)(body);\n}\n\nfunction handler(msg, url, lineNo, columnNo, handledError) {\n    console.log('[alfa global error] msg: ' + msg + ', url: ' + url + ', lineNo: ' + lineNo + ', columnNo: ' + columnNo);\n    console.log('[alfa global error]', handledError);\n\n    if (url) {\n        msg = msg + ' (url: \\'' + url + '\\', lineNo: ' + lineNo + ', columnNo: ' + columnNo + ')';\n    }\n\n    var error = new CriticalError(msg);\n    sendError(error);\n\n    if (__oldHandler) {\n        return __oldHandler.apply(this, arguments);\n    }\n\n    return true;\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEVICE_NAMES_REGEX = /(android|bb\\d+|meego)|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i;\nvar DEVICE_MODELS_REGEX = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;\n\nvar FORMATS_DEFAULT = ['video/mp4', 'mp4', 'video/webm', 'webm'];\nvar FORMATS_FOR_IOS_DEVICES = ['video/mp4', 'mp4'];\n\nvar BITRATE_LIMIT_DEFAULT = 2500;\nvar BITRATE_LIMIT_FOR_MOBILE_DEVICES = 1000;\n\nvar UserAgent = exports.UserAgent = function () {\n    function UserAgent() {\n        var userAgent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n        _classCallCheck(this, UserAgent);\n\n        this.isAndroid = userAgent.indexOf('Android') >= 0;\n        this.isIOS = /(iPhone|iPod|iPad)/g.test(userAgent);\n        this.isIOSSmall = /(iPhone|iPod)/g.test(userAgent);\n\n        this.isIE = /MSIE|rv:11/i.test(userAgent);\n        this.isUCBrowser = /(UCBrowser)/g.test(userAgent);\n        this.isChrome = userAgent.indexOf('Chrome') >= 0 || userAgent.indexOf('CriOS') >= 0; // 'CriOS' is chrome in ios\n        this.isFirefox = userAgent.indexOf('Firefox') >= 0;\n\n        this.isMobile = DEVICE_NAMES_REGEX.test(userAgent) || DEVICE_MODELS_REGEX.test(userAgent.substr(0, 4));\n        this.isFacebook = userAgent.indexOf('FB_IAB') >= 0 || userAgent.indexOf('FBAV') >= 0;\n\n        this.supportedVideoFormats = this.isIOS ? FORMATS_FOR_IOS_DEVICES : FORMATS_DEFAULT;\n        this.bitrateLimit = this.isMobile ? BITRATE_LIMIT_FOR_MOBILE_DEVICES : BITRATE_LIMIT_DEFAULT;\n    }\n\n    _createClass(UserAgent, [{\n        key: 'isSupportedVideoFormat',\n        value: function isSupportedVideoFormat(format) {\n            return this.supportedVideoFormats.indexOf(format) >= 0;\n        }\n    }], [{\n        key: 'parse',\n        value: function parse(userAgent) {\n            return new UserAgent(userAgent);\n        }\n    }]);\n\n    return UserAgent;\n}();\n\nvar parsedUA = exports.parsedUA = UserAgent.parse(navigator.userAgent);\nvar rawUA = exports.rawUA = navigator.userAgent;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parseTime = parseTime;\nexports.formatTime = formatTime;\nexports.getUrlContentAsync = getUrlContentAsync;\nexports.parseXML = parseXML;\nexports.getCDATA = getCDATA;\nexports.playWhenCan = playWhenCan;\nexports.noop = noop;\n\nvar _constants = __webpack_require__(2);\n\nfunction parseTime(timeString) {\n    if (!timeString) {\n        return 0;\n    }\n\n    var msIndex = timeString.indexOf('.');\n    if (msIndex > 0) {\n        timeString = timeString.slice(0, msIndex);\n    }\n\n    var ar = timeString.split(':');\n    var result = 0;\n    if (ar.length === 3) {\n        result = parseInt(ar[2]) + parseInt(ar[1]) * 60 + parseInt(ar[0]) * 3600;\n    } else if (ar.length === 2) {\n        result = parseInt(ar[1]) + parseInt(ar[0]) * 60;\n    } else {\n        return 0;\n    }\n    return result;\n}\n\nfunction formatTime(seconds) {\n    // handle invalid times\n    if (seconds == null || seconds < 0 || isNaN(seconds) || seconds === Infinity) {\n        return '-';\n    }\n\n    var s = Math.floor(seconds % 60),\n        m = Math.floor(seconds / 60 % 60),\n        h = Math.floor(seconds / 3600);\n\n    h = h > 0 ? h + ':' : '';\n    m = (m < 10 ? '0' + m : m) + ':';\n    s = s < 10 ? '0' + s : s;\n\n    return h + m + s;\n}\n\nfunction getUrlContentAsync(url, callback) {\n    if (location.protocol === 'https:' && url.toString().substr(0, 5) === 'http:') {\n        console.error('Incorrect URL protocol. Expected to be HTTPS request');\n        return callback();\n    }\n\n    try {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n\n        xhr.onload = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    callback(xhr.responseText);\n                } else {\n                    callback();\n                }\n            }\n        };\n\n        xhr.onerror = function (e) {\n            console.error(e.message);\n            callback();\n        };\n\n        xhr.send();\n    } catch (e) {\n        console.error(e.message);\n        callback();\n    }\n}\n\nfunction parseXML(source) {\n    source = (source || '').trim();\n\n    var parser = new DOMParser();\n    var xml = parser.parseFromString(source, 'text/xml');\n\n    // check if parser done without errors\n    var parserErrorTag = xml.querySelector('parsererror');\n    if (parserErrorTag) {\n        throw new Error(parserErrorTag.innerText);\n    }\n\n    return xml;\n}\n\nfunction getCDATA(xmlNode) {\n    if (xmlNode && xmlNode.firstChild) {\n        if (xmlNode.firstChild.wholeText) {\n            return xmlNode.firstChild.wholeText.trim();\n        }\n        return xmlNode.firstChild.data;\n    }\n\n    return '';\n}\n\nfunction playWhenCan(videoElement, successCallback, errorCallback) {\n    // check if video is already buffered enough to start playing ...\n    if (videoElement.readyState >= videoElement.HAVE_FUTURE_DATA) {\n        runPlay(successCallback, errorCallback);\n    } else {\n        // ... if not - try to run play to overcome play-on-touch problem on mobile devices and additionally set callback on CANPLAY event\n        runPlay();\n        videoElement.addEventListener(_constants.MEDIA_EVENTS.canplay, onCanPlay);\n    }\n\n    function onCanPlay() {\n        runPlay();\n        videoElement.removeEventListener(_constants.MEDIA_EVENTS.canplay, onCanPlay);\n    }\n\n    function runPlay(onSuccess, onError) {\n        onSuccess = onSuccess || noop;\n        onError = onError || noop;\n\n        if (!videoElement.paused) {\n            return;\n        }\n\n        var promise = videoElement.play();\n        if (promise) {\n            promise.then(onSuccess).catch(onError);\n        } else {\n            setTimeout(function () {\n                // if video is paused, then probably there was an error\n                if (videoElement.paused && onError) {\n                    onError();\n                }\n            }, 100);\n        }\n    }\n}\n\nfunction noop() {}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isChildOf = isChildOf;\nexports.isElementInViewport = isElementInViewport;\nexports.isElementPartiallyInViewport = isElementPartiallyInViewport;\nexports.getCursorPosition = getCursorPosition;\nexports.normalizePercent = normalizePercent;\nfunction isChildOf(c, p) {\n    if (c) {\n        while ((c = c.parentNode) && c !== p) {}\n    }\n    return !!c;\n}\n\nfunction isElementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\n\nfunction isElementPartiallyInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    var heightPart = rect.height / 5;\n    var widthPart = rect.width / 5;\n    var viewHeight = window.innerHeight || document.documentElement.clientHeight;\n    var viewWidth = window.innerWidth || document.documentElement.clientWidth;\n    return rect.bottom >= heightPart && rect.right >= widthPart && rect.top + heightPart < viewHeight || rect.bottom >= heightPart && rect.left + widthPart < viewWidth && rect.top + heightPart < viewHeight || rect.top + heightPart < viewHeight && rect.right >= widthPart && rect.bottom > heightPart || rect.top + heightPart < viewHeight && rect.left + widthPart < viewWidth && rect.bottom > heightPart;\n}\n\nfunction getCursorPosition(canvas, event) {\n    var rect = canvas.getBoundingClientRect();\n    var xx = event.clientX - rect.left;\n    var yy = event.clientY - rect.top;\n\n    return { x: xx, y: yy };\n}\n\nfunction normalizePercent(percent) {\n    if (percent < 0) percent = 0;else if (percent > 1) percent = 1;\n    return percent;\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.doGet = doGet;\nexports.doPost = doPost;\nexports.getRequest = getRequest;\nexports.getShortURL = getShortURL;\nexports.sendOnLoad = sendOnLoad;\nexports.sendInfo = sendInfo;\nexports.sendError = sendError;\n\nvar _settings = __webpack_require__(3);\n\nvar _common = __webpack_require__(7);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n    function ExtendableBuiltin() {\n        cls.apply(this, arguments);\n    }\n\n    ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n        constructor: {\n            value: cls,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n\n    if (Object.setPrototypeOf) {\n        Object.setPrototypeOf(ExtendableBuiltin, cls);\n    } else {\n        ExtendableBuiltin.__proto__ = cls;\n    }\n\n    return ExtendableBuiltin;\n}\n\nvar requests = {};\n\nvar RequestError = function (_extendableBuiltin2) {\n    _inherits(RequestError, _extendableBuiltin2);\n\n    function RequestError(xhr) {\n        _classCallCheck(this, RequestError);\n\n        var _this = _possibleConstructorReturn(this, (RequestError.__proto__ || Object.getPrototypeOf(RequestError)).call(this));\n\n        _this.status = xhr.status;\n        if (_this.status) {\n            _this.message = xhr.statusText;\n        } else {\n            _this.message = 'Request aborted';\n        }\n        return _this;\n    }\n\n    return RequestError;\n}(_extendableBuiltin(Error));\n\nvar Request = function () {\n    function Request() {\n        _classCallCheck(this, Request);\n\n        this.xhr = new XMLHttpRequest();\n\n        this.active = false;\n        this.success = false;\n        this.error = false;\n    }\n\n    _createClass(Request, [{\n        key: 'send',\n        value: function send(url, options, callback) {\n            var _this2 = this;\n\n            // defaulting params\n            options = options || {};\n            callback = callback || _common.noop;\n            var method = options.method || 'GET';\n\n            // if request was active - abort it\n            this.abort();\n\n            // reset status flags to working status\n            this.active = true;\n            this.success = false;\n            this.error = false;\n\n            // setup actual request\n            this.xhr.open(method, url, true);\n\n            // if request timeout was set - setup it\n            this.xhr.timeout = options.timeout || 0;\n\n            this.xhr.onload = function () {\n                _this2.active = false;\n                _this2.success = true;\n\n                callback(null, _this2.xhr.responseText);\n            };\n\n            this.xhr.onerror = function () {\n                _this2.active = false;\n                _this2.error = true;\n\n                console.error('[alfa] Error in request to: ' + url);\n                callback(new RequestError(_this2.xhr));\n            };\n\n            this.xhr.ontimeout = function () {\n                _this2.active = false;\n                _this2.error = true;\n\n                console.error('[alfa] Timeout in request to: ' + url);\n                callback(new RequestError(_this2.xhr));\n            };\n\n            // setup request headers\n            if (options.headers) {\n                for (var headerName in options.headers) {\n                    if (options.headers.hasOwnProperty(headerName)) {\n                        this.xhr.setRequestHeader(headerName, options.headers[headerName]);\n                    }\n                }\n            }\n\n            // actually start request\n            try {\n                if (options.body != null) {\n                    this.xhr.send(options.body);\n                } else {\n                    this.xhr.send();\n                }\n            } catch (e) {\n                callback(e);\n            }\n        }\n    }, {\n        key: 'post',\n        value: function post(url, options, callback) {\n            options.method = 'POST';\n            this.send(url, options, callback);\n        }\n    }, {\n        key: 'abort',\n        value: function abort() {\n            if (this.xhr && this.active) {\n                this.active = false;\n                this.xhr.abort();\n\n                // create new XHR instance\n                this.xhr = new XMLHttpRequest();\n            }\n        }\n    }]);\n\n    return Request;\n}();\n\n/**\r\n * Run a GET request\r\n *\r\n * @param url\r\n * @param [options]\r\n * @param [callback]\r\n */\n\n\nfunction doGet(url, options, callback) {\n    options = options || {};\n    callback = callback || _common.noop;\n\n    var req = getRequest();\n    req.send(url, options, callback);\n}\n\n/**\r\n * Run a POST request\r\n *\r\n * @param url\r\n * @param [options]\r\n * @param [callback]\r\n */\nfunction doPost(url, options, callback) {\n    options = options || {};\n    callback = callback || _common.noop;\n\n    var req = getRequest();\n    req.post(url, options, callback);\n}\n\n/**\r\n *\r\n * @param [name]\r\n * @returns {Request}\r\n */\nfunction getRequest(name) {\n    if (!name) {\n        return new Request();\n    }\n\n    var req = requests[name];\n    if (!req) {\n        req = new Request();\n        requests[name] = req;\n    }\n    return req;\n}\n\nfunction getShortURL(queries, callback) {\n    var REQUEST_TIMEOUT = 3000;\n    callback = callback || _common.noop;\n\n    var tinyUrl = '//' + _settings.settings.getShortenerUrl() + '/generate';\n    var reqUrl = tinyUrl + '?' + queries;\n\n    var req = getRequest('shareUrl');\n    req.send(reqUrl, {\n        timeout: REQUEST_TIMEOUT\n    }, function (error, result) {\n        if (error) {\n            return callback();\n        }\n        callback(result);\n    });\n}\n\nfunction sendOnLoad(body) {\n    sendPostRequest('OnLoad', _settings.settings.getNotifyOnLoadUrl(), body);\n}\n\nfunction sendInfo(body) {\n    sendPostRequest('Info', _settings.settings.getNotifyInfoUrl(), body);\n}\n\nfunction sendError(body) {\n    sendPostRequest('Error', _settings.settings.getNotifyErrorUrl(), body);\n}\n\nfunction sendPostRequest(type, url, body) {\n    var REQUEST_TIMEOUT = 1000;\n\n    var req = getRequest();\n    req.post(url, {\n        timeout: REQUEST_TIMEOUT,\n        body: JSON.stringify(body)\n    }, function (e) {\n        if (e) {\n            console.warn('[alfa] Could not report ' + type + ' to server');\n        } else {\n            console.info('[alfa] ' + type + ' reported to server');\n        }\n    });\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.prepareFetchVastUrl = prepareFetchVastUrl;\nexports.checkHttpsAwareness = checkHttpsAwareness;\nexports.parseYoutubeID = parseYoutubeID;\nfunction prepareFetchVastUrl(url, rect) {\n    if (url.indexOf('player_width=') > 0) {\n        url = url.replace(/player_width=\\d.*?(?=&|$)/, 'player_width=' + rect.width);\n        url = url.replace(/player_height=\\d.*?(?=&|$)/, 'player_height=' + rect.height);\n    } else {\n        url += '&player_width=' + rect.width + '&player_height=' + rect.height;\n    }\n\n    return url;\n}\n\nfunction checkHttpsAwareness(url) {\n    var HTTPS_AD_DOMAINS = '' + 'ad.doubleclick.net|' + 'bid.g.doubleclick.net|' + 'corp.google.com|' + 'ggpht.com|' + 'google.co.uk|' + 'google.com|' + 'googleads.g.doubleclick.net|' + 'googleads4.g.doubleclick.net|' + 'googleadservices.com|' + 'googlesyndication.com|' + 'googleusercontent.com|' + 'gstatic.com|' + 'prod.google.com|' + 'pubads.g.doubleclick.net|' + 's0.2mdn.net|' + 'static.doubleclick.net|' + 'surveys.g.doubleclick.net|' + 'youtube.com|' + 'ytimg.com';\n    var httpsRegex = new RegExp('^https?://([a-z0-9-]{1,63}\\\\.)*(' + HTTPS_AD_DOMAINS + ')(:[0-9]+)?([/?#]|$)', 'i');\n\n    if ('https:' === location.protocol && httpsRegex.test(url)) return url.replace(/^http:/i, 'https:');\n    return url;\n}\n\nfunction parseYoutubeID(url) {\n    if (!url || typeof url !== 'string') {\n        return '';\n    }\n\n    var regExp = /^.*youtu\\.?be\\/?(\\.com\\/watch\\?.*&?\\??v=)?([^.\\\\#&?]*).*/;\n    var match = url.match(regExp);\n    if (match && match[2].length >= 11) {\n        return match[2];\n    }\n\n    var embedRegExp = /youtube\\.com\\/embed\\/([^#&?]+)/;\n    var embedMatch = url.match(embedRegExp);\n    if (embedMatch && embedMatch[1].length >= 11) {\n        return embedMatch[1];\n    }\n\n    return '';\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MultipleValuesRegistry = exports.MultipleValuesRegistry = function () {\n    function MultipleValuesRegistry() {\n        _classCallCheck(this, MultipleValuesRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(MultipleValuesRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            if (!this._registries[id]) {\n                this._registries[id] = [];\n            }\n            if (this._registries[id].indexOf(value) === -1) {\n                this._registries[id].push(value);\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id] || [];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this = this;\n\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this._registries[key].indexOf(value) !== -1;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key, value) {\n            if (!this._registries[key]) {\n                return;\n            }\n\n            var index = this._registries[key].indexOf(value);\n\n            if (index < 0) {\n                return;\n            }\n            return this._registries[key].splice(index, 1);\n        }\n    }, {\n        key: 'removeByKey',\n        value: function removeByKey(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this2 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this2.remove(key, value);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return MultipleValuesRegistry;\n}();\n\nvar SingleValueRegistry = exports.SingleValueRegistry = function () {\n    function SingleValueRegistry() {\n        _classCallCheck(this, SingleValueRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(SingleValueRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            this._registries[id] = value;\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this3 = this;\n\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this3._registries[key] === value;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this4 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this4.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return SingleValueRegistry;\n}();\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isUrl = isUrl;\nexports.ensureProtocol = ensureProtocol;\nfunction isUrl(str) {\n    var URL_PREFIXES = ['//', 'http://', 'https://'];\n\n    // prepare input\n    str = (str || '').trim().toLowerCase();\n    if (!str) {\n        return false;\n    }\n\n    // check\n    for (var i = 0; i < URL_PREFIXES.length; i++) {\n        var prefix = URL_PREFIXES[i];\n        if (str.substr(0, prefix.length) === prefix) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction ensureProtocol(url, protocol) {\n    url = (url || '').trim();\n    if (!url) {\n        return '';\n    }\n    if (!url.match(/^[a-zA-Z]+:\\/\\//i)) {\n        return protocol + '//' + url;\n    } else {\n        return url;\n    }\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Icon = exports.NonLinear = exports.MediaFile = exports.Linear = exports.AdTag = exports.Vast = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.Companion = Companion;\n\nvar _assign = __webpack_require__(15);\n\nvar _array = __webpack_require__(16);\n\nvar _constants = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar VAST_TYPE = {\n    VPAID: 'vpaid',\n    WRAPPER: 'wrapper',\n    INLINE: 'inline'\n};\n\nvar Vast = exports.Vast = function () {\n    function Vast(version) {\n        _classCallCheck(this, Vast);\n\n        this.version = version || 0;\n        this.source = '';\n        this.adTags = [];\n    }\n\n    _createClass(Vast, null, [{\n        key: 'looksLikeVast',\n        value: function looksLikeVast(text) {\n            text = (text || '').trim();\n            var STARTS = ['<?xml', '<VAST', '<VideoAdServingTemplate'];\n            for (var i = 0; i < STARTS.length; i++) {\n                if (text.indexOf(STARTS[i]) === 0) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }]);\n\n    return Vast;\n}();\n\nvar AdTag = exports.AdTag = function () {\n    function AdTag() {\n        _classCallCheck(this, AdTag);\n\n        // VAST data\n        this.adSystem = '';\n        this.error = '';\n        this.impressions = [];\n        this.linears = [];\n        this.companions = [];\n        this.nonLinears = [];\n        this.icons = [];\n\n        // selection from entire VAST\n        this.linear = null;\n        this.mediaFile = null;\n\n        // events\n        this.eventsLinear = {}; // merged from all linears\n        this.eventsNonLinear = {};\n    }\n\n    _createClass(AdTag, [{\n        key: 'getSupportedNonLinear',\n        value: function getSupportedNonLinear() {\n            for (var i = 0; i < this.nonLinears.length; i++) {\n                if (this.nonLinears[i].isSupported()) {\n                    return this.nonLinears[i];\n                }\n            }\n            return null;\n        }\n    }, {\n        key: 'hasIcons',\n        value: function hasIcons() {\n            return this.icons && this.icons.length > 0;\n        }\n    }, {\n        key: 'getIconsForTime',\n        value: function getIconsForTime(seconds) {\n            if (!this.hasIcons()) {\n                return [];\n            }\n\n            // filter by time\n            var byTime = this.icons.filter(function (icon) {\n                return icon.isValidForTime(seconds);\n            });\n\n            // filter by 'program' - take one by each program, closest to actual video\n            var byProgram = {};\n            byTime.forEach(function (icon) {\n                byProgram[icon.program] = icon;\n            });\n\n            var result = [];\n            for (var prop in byProgram) {\n                result.push(byProgram[prop]);\n            }\n\n            return result;\n        }\n    }, {\n        key: 'hasProgressEvents',\n        value: function hasProgressEvents() {\n            var events = this.eventsLinear[_constants.VAST_EVENTS.PROGRESS];\n            return events && events.length > 0;\n        }\n    }, {\n        key: 'mergeLinearEvents',\n        value: function mergeLinearEvents() {\n            var _this = this;\n\n            this.linears.forEach(function (linear) {\n                Object.keys(linear.events).forEach(function (event) {\n                    if (!_this.eventsLinear[event]) {\n                        _this.eventsLinear[event] = [];\n                    }\n                    [].push.apply(_this.eventsLinear[event], linear.events[event]);\n                });\n            });\n        }\n    }, {\n        key: 'selectMediaFile',\n        value: function selectMediaFile(ua, screenSize) {\n            // collect all mediafiles in one array\n            var mediaFiles = (0, _array.flatten)((0, _array.pick)(this.linears, 'mediaFiles'));\n\n            // if we don't find any mediafiles - just exit\n            if (mediaFiles.length === 0) {\n                return;\n            }\n\n            // select appropriate mediafile by format, resolution and bitrate\n            var mediaFile = MediaFile.pickAppropriate(mediaFiles, ua, screenSize);\n\n            // select linear that has selected mediaFile\n            var linears = this.linears.filter(function (item) {\n                return item.mediaFiles.indexOf(mediaFile) >= 0;\n            });\n            if (linears && linears.length > 0) {\n                this.linear = linears[0];\n            }\n\n            // copy selected mediafile data, so we can edit it\n            this.mediaFile = (0, _assign.assign)(new MediaFile(), mediaFile);\n            if (this.mediaFile.url && this.linear && this.linear.parameters) {\n                this.mediaFile.url += '?' + this.linear.parameters;\n            }\n        }\n    }, {\n        key: 'getVideoClickTrackings',\n        value: function getVideoClickTrackings() {\n            return this.linears ? (0, _array.flatten)((0, _array.pick)(this.linears, 'clickTrackings')) : [];\n        }\n    }, {\n        key: 'getVastType',\n        value: function getVastType() {\n            if (this.mediaFile) {\n                return this.mediaFile.isVPAID() ? VAST_TYPE.VPAID : VAST_TYPE.INLINE;\n            }\n            return VAST_TYPE.WRAPPER;\n        }\n    }, {\n        key: 'videoClickThrough',\n        get: function get() {\n            return this.linear ? this.linear.clickThrough : '';\n        }\n    }, {\n        key: 'adParameters',\n        get: function get() {\n            return this.linear ? this.linear.parameters : '';\n        }\n    }, {\n        key: 'apiFramework',\n        get: function get() {\n            return this.mediaFile ? this.mediaFile.apiFramework : '';\n        }\n    }]);\n\n    return AdTag;\n}();\n\nvar Linear = exports.Linear = function Linear() {\n    _classCallCheck(this, Linear);\n\n    this.duration = 0;\n    this.skipOffset = 0;\n    this.parameters = null;\n    this.events = {};\n    this.mediaFiles = [];\n    this.clickThrough = '';\n    this.clickTrackings = [];\n    this.clickCustoms = [];\n};\n\nvar MediaFile = exports.MediaFile = function () {\n    function MediaFile() {\n        _classCallCheck(this, MediaFile);\n\n        this.delivery = '';\n        this.type = '';\n        this.width = 0;\n        this.height = 0;\n        this.codec = '';\n        this.id = '';\n        this.bitrate = 0;\n        this.scalable = true;\n        this.maintainAspectRatio = true;\n        this.url = '';\n        this.apiFramework = '';\n    }\n\n    _createClass(MediaFile, [{\n        key: 'isVPAID',\n        value: function isVPAID() {\n            return this.type === _constants.MIME.JS || this.type === _constants.MIME.FLASH;\n        }\n    }], [{\n        key: 'pickAppropriate',\n        value: function pickAppropriate(mediaFiles, ua, _ref) {\n            var width = _ref.width,\n                height = _ref.height;\n\n            // filter out VPAID files\n            var vpaidFiles = mediaFiles.filter(function (item) {\n                return item.isVPAID();\n            });\n\n            // try to look for VPAID\n            if (vpaidFiles.length > 0) {\n                // ios only supports JS VPAID\n                if (ua.isIOS) {\n                    vpaidFiles = vpaidFiles.filter(function (item) {\n                        return item.type === _constants.MIME.JS;\n                    });\n                }\n\n                // try to pick media with largest dimensions\n                var _largestMediaFile = vpaidFiles.reduce(pickLargest, null);\n                if (_largestMediaFile) {\n                    return _largestMediaFile;\n                }\n\n                // try to pick media with smallest dimensions\n                var smallestMediaFile = vpaidFiles.reduce(pickSmallest, null);\n                if (smallestMediaFile) {\n                    return smallestMediaFile;\n                }\n            }\n\n            // pick only media files with supported format\n            var supportedMediaFiles = mediaFiles.filter(function (item) {\n                return ua.isSupportedVideoFormat(item.type);\n            });\n\n            // look for largest media file of supported formats\n            var largestMediaFile = supportedMediaFiles.reduce(pickLargest, null);\n            if (largestMediaFile) {\n                return largestMediaFile;\n            }\n\n            // if we couldn't find appropriate media file by size, then pick smallest available\n            return supportedMediaFiles.reduce(pickSmallest, null);\n\n            function pickLargest(largest, item) {\n                // skip files that larger than screen or over bitrate limit\n                if (item.width > width || item.height > height || item.bitrate > ua.bitrateLimit) {\n                    return largest;\n                }\n\n                if (!largest) {\n                    return item;\n                }\n\n                // pick largest media ...\n                if (item.width > largest.width || item.height > largest.height) {\n                    return item;\n                }\n\n                // ... or media with the biggest bitrate\n                if (item.width === largest.width && item.height === largest.height && item.bitrate > largest.bitrate) {\n                    return item;\n                }\n\n                return largest;\n            }\n\n            function pickSmallest(smallest, item) {\n                if (!smallest) {\n                    return item;\n                }\n\n                // pick smallest by width media\n                if (item.width < smallest.width) {\n                    return item;\n                }\n\n                return smallest;\n            }\n        }\n    }]);\n\n    return MediaFile;\n}();\n\nfunction Companion() {\n    this.width = 0;\n    this.height = 0;\n    this.staticResource = null;\n    this.htmlResource = null;\n    this.iframeResource = null;\n    this.clickThrough = null;\n    this.events = {};\n}\n\nvar NonLinear = exports.NonLinear = function () {\n    function NonLinear() {\n        _classCallCheck(this, NonLinear);\n\n        this.type = null;\n        this.width = 0;\n        this.height = 0;\n        this.staticResource = null;\n        this.htmlResource = null;\n        this.iframeResource = null;\n        this.clickThrough = null;\n        this.clickTracking = null;\n    }\n\n    _createClass(NonLinear, [{\n        key: 'isSupported',\n        value: function isSupported() {\n            return NonLinear.isSupported(this);\n        }\n    }], [{\n        key: 'isSupported',\n        value: function isSupported(nonLinear) {\n            if (!nonLinear.staticResource) {\n                return false;\n            }\n            return nonLinear.type && '' + nonLinear.type.indexOf('image') >= 0;\n        }\n    }]);\n\n    return NonLinear;\n}();\n\nvar Icon = exports.Icon = function () {\n    function Icon() {\n        _classCallCheck(this, Icon);\n\n        this.index = 0;\n        // required\n        this.program = '';\n        this.width = 0;\n        this.height = 0;\n        this.xPosition = 0;\n        this.yPosition = 0;\n        // resource\n        this.staticResource = '';\n        this.staticResourceType = '';\n        this.htmlResource = '';\n        this.iframeResource = '';\n        // optional\n        this.apiFramework = '';\n        this.offset = 0;\n        this.duration = 0;\n\n        this.clickThrough = '';\n        this.viewTracking = [];\n        this.clickTracking = [];\n    }\n\n    _createClass(Icon, [{\n        key: 'isValidForTime',\n        value: function isValidForTime(seconds) {\n            return this.offset <= seconds && this.offset + this.duration >= seconds;\n        }\n    }]);\n\n    return Icon;\n}();\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HISTORY_COUNT = 32;\n\nvar STAGES = exports.STAGES = {\n    BEGIN: 'begin',\n    MAIN_VIDEO: 'mainvideo',\n    PRE_ROLL: 'preroll',\n    MID_ROLL: 'midroll',\n    POST_ROLL: 'postroll',\n    END: 'end'\n};\n\nvar Stage = exports.Stage = function () {\n    function Stage() {\n        _classCallCheck(this, Stage);\n\n        // start with BEGIN stage\n        this._stages = [STAGES.BEGIN];\n    }\n\n    _createClass(Stage, [{\n        key: 'next',\n        value: function next(stage) {\n            // do not change anything, if stage is the same as current\n            if (this.current === stage) {\n                return;\n            }\n\n            // add current stage to stage history\n            this._stages.push(stage);\n            // reduce 'stages' count to limit\n            this._stages = this._stages.slice(-1 * HISTORY_COUNT);\n        }\n    }, {\n        key: 'isBegin',\n        value: function isBegin() {\n            return this.current === STAGES.BEGIN;\n        }\n    }, {\n        key: 'isPreRoll',\n        value: function isPreRoll() {\n            return this.current === STAGES.PRE_ROLL;\n        }\n    }, {\n        key: 'isMidRoll',\n        value: function isMidRoll() {\n            return this.current === STAGES.MID_ROLL;\n        }\n    }, {\n        key: 'isPostRoll',\n        value: function isPostRoll() {\n            return this.current === STAGES.POST_ROLL;\n        }\n    }, {\n        key: 'isVideo',\n        value: function isVideo() {\n            return this.current === STAGES.MAIN_VIDEO;\n        }\n    }, {\n        key: 'isEnd',\n        value: function isEnd() {\n            return this.current === STAGES.END;\n        }\n    }, {\n        key: 'isAd',\n        value: function isAd() {\n            return this.isPreRoll() || this.isMidRoll() || this.isPostRoll();\n        }\n    }, {\n        key: 'current',\n        get: function get() {\n            return this._stages && this._stages.slice(-1)[0] || STAGES.BEGIN;\n        }\n    }, {\n        key: 'previous',\n        get: function get() {\n            return this._stages && this._stages.slice(-2, -1)[0] || STAGES.BEGIN;\n        }\n    }]);\n\n    return Stage;\n}();\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.assign = assign;\n/**\r\n * Slightly edited polyfill from MDN\r\n */\nfunction assign(target, varArgs) {\n    // .length of function is 2\n    if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n            // Skip over if undefined or null\n            for (var nextKey in nextSource) {\n                // Avoid bugs when hasOwnProperty is shadowed\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                    to[nextKey] = nextSource[nextKey];\n                }\n            }\n        }\n    }\n    return to;\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.uniq = uniq;\nexports.pick = pick;\nexports.flatten = flatten;\nfunction uniq(array) {\n    if (isInvalidOrEmpty(array)) {\n        return [];\n    }\n\n    var result = [];\n    for (var i = 0; i < array.length; i++) {\n        var elem = array[i];\n        if (result.indexOf(elem) === -1) {\n            result.push(elem);\n        }\n    }\n\n    return result;\n}\n\nfunction pick(array, propName) {\n    if (isInvalidOrEmpty(array)) {\n        return [];\n    }\n\n    return array.map(function (item) {\n        return item[propName];\n    });\n}\n\nfunction flatten(array) {\n    if (isInvalidOrEmpty(array)) {\n        return [];\n    }\n\n    return array.reduce(function (acc, items) {\n        return acc.concat(items);\n    }, []);\n}\n\nfunction isInvalidOrEmpty(array) {\n    return !Array.isArray(array) || !array.length;\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>\nis released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\n*/\n\n/* global ActiveXObject: false */\n\nvar UNDEF = 'undefined',\n    OBJECT = 'object',\n    SHOCKWAVE_FLASH = 'Shockwave Flash',\n    SHOCKWAVE_FLASH_AX = 'ShockwaveFlash.ShockwaveFlash',\n    FLASH_MIME_TYPE = 'application/x-shockwave-flash',\n    EXPRESS_INSTALL_ID = 'SWFObjectExprInst',\n    ON_READY_STATE_CHANGE = 'onreadystatechange',\n    win = window,\n    doc = document,\n    nav = navigator,\n    plugin = false,\n    domLoadFnArr = [],\n    regObjArr = [],\n    objIdArr = [],\n    listenersArr = [],\n    storedFbContent = void 0,\n    storedFbContentId = void 0,\n    storedCallbackFn = void 0,\n    storedCallbackObj = void 0,\n    isDomLoaded = false,\n    isExpressInstallActive = false,\n    dynamicStylesheet = void 0,\n    dynamicStylesheetMedia = void 0,\n    autoHideShow = true,\n    encodeURIEnabled = false;\n\n/* Centralized function for browser feature detection\n    - User agent string detection is only used when no good alternative is possible\n    - Is executed directly for optimal performance\n*/\nvar ua = function () {\n    var w3cdom = typeof doc.getElementById !== UNDEF && typeof doc.getElementsByTagName !== UNDEF && typeof doc.createElement !== UNDEF,\n        u = nav.userAgent.toLowerCase(),\n        p = nav.platform.toLowerCase(),\n        windows = p ? /win/.test(p) : /win/.test(u),\n        mac = p ? /mac/.test(p) : /mac/.test(u),\n        webkit = /webkit/.test(u) ? parseFloat(u.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/, '$1')) : false,\n        // returns either the webkit version or false if not webkit\n    ie = nav.appName === 'Microsoft Internet Explorer',\n        playerVersion = [0, 0, 0],\n        d = null;\n    if (typeof nav.plugins !== UNDEF && typeof nav.plugins[SHOCKWAVE_FLASH] === OBJECT) {\n        d = nav.plugins[SHOCKWAVE_FLASH].description;\n        // nav.mimeTypes[\"application/x-shockwave-flash\"].enabledPlugin indicates whether plug-ins are enabled or disabled in Safari 3+\n        if (d && typeof nav.mimeTypes !== UNDEF && nav.mimeTypes[FLASH_MIME_TYPE] && nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin) {\n            plugin = true;\n            ie = false; // cascaded feature detection for Internet Explorer\n            d = d.replace(/^.*\\s+(\\S+\\s+\\S+$)/, '$1');\n            playerVersion[0] = toInt(d.replace(/^(.*)\\..*$/, '$1'));\n            playerVersion[1] = toInt(d.replace(/^.*\\.(.*)\\s.*$/, '$1'));\n            playerVersion[2] = /[a-zA-Z]/.test(d) ? toInt(d.replace(/^.*[a-zA-Z]+(.*)$/, '$1')) : 0;\n        }\n    } else if (typeof win.ActiveXObject !== UNDEF) {\n        try {\n            var a = new ActiveXObject(SHOCKWAVE_FLASH_AX);\n            if (a) {\n                // a will return null when ActiveX is disabled\n                d = a.GetVariable('$version');\n                if (d) {\n                    ie = true; // cascaded feature detection for Internet Explorer\n                    d = d.split(' ')[1].split(',');\n                    playerVersion = [toInt(d[0]), toInt(d[1]), toInt(d[2])];\n                }\n            }\n        } catch (e) {}\n    }\n    return { w3: w3cdom, pv: playerVersion, wk: webkit, ie: ie, win: windows, mac: mac };\n}();\n\n/* Cross-browser onDomLoad\n    - Will fire an event as soon as the DOM of a web page is loaded\n    - Internet Explorer workaround based on Diego Perini's solution: http://javascript.nwbox.com/IEContentLoaded/\n    - Regular onload serves as fallback\n*/\nvar onDomLoad = function () {\n    if (!ua.w3) {\n        return;\n    }\n    if (typeof doc.readyState !== UNDEF && (doc.readyState === 'complete' || doc.readyState === 'interactive') || typeof doc.readyState === UNDEF && (doc.getElementsByTagName('body')[0] || doc.body)) {\n        // function is fired after onload, e.g. when script is inserted dynamically\n        callDomLoadFunctions();\n    }\n    if (!isDomLoaded) {\n        if (typeof doc.addEventListener !== UNDEF) {\n            doc.addEventListener('DOMContentLoaded', callDomLoadFunctions, false);\n        }\n        if (ua.ie) {\n            doc.attachEvent(ON_READY_STATE_CHANGE, function detach() {\n                if (doc.readyState === 'complete') {\n                    doc.detachEvent(ON_READY_STATE_CHANGE, detach);\n                    callDomLoadFunctions();\n                }\n            });\n            if (win === top) {\n                // if not inside an iframe\n                (function checkDomLoadedIE() {\n                    if (isDomLoaded) {\n                        return;\n                    }\n                    try {\n                        doc.documentElement.doScroll('left');\n                    } catch (e) {\n                        setTimeout(checkDomLoadedIE, 0);\n                        return;\n                    }\n                    callDomLoadFunctions();\n                })();\n            }\n        }\n        if (ua.wk) {\n            (function checkDomLoadedWK() {\n                if (isDomLoaded) {\n                    return;\n                }\n                if (!/loaded|complete/.test(doc.readyState)) {\n                    setTimeout(checkDomLoadedWK, 0);\n                    return;\n                }\n                callDomLoadFunctions();\n            })();\n        }\n    }\n}();\n\nfunction callDomLoadFunctions() {\n    if (isDomLoaded || !document.getElementsByTagName('body')[0]) {\n        return;\n    }\n    try {\n        // test if we can really add/remove elements to/from the DOM; we don't want to fire it too early\n        var t = void 0,\n            span = createElement('span');\n        span.style.display = 'none'; //hide the span in case someone has styled spans via CSS\n        t = doc.getElementsByTagName('body')[0].appendChild(span);\n        t.parentNode.removeChild(t);\n        t = null; //clear the variables\n        span = null;\n    } catch (e) {\n        return;\n    }\n    isDomLoaded = true;\n    var dl = domLoadFnArr.length;\n    for (var i = 0; i < dl; i++) {\n        domLoadFnArr[i]();\n    }\n}\n\nfunction addDomLoadEvent(fn) {\n    if (isDomLoaded) {\n        fn();\n    } else {\n        domLoadFnArr[domLoadFnArr.length] = fn; // Array.push() is only available in IE5.5+\n    }\n}\n\n/* Cross-browser onload\n    - Based on James Edwards' solution: http://brothercake.com/site/resources/scripts/onload/\n    - Will fire an event as soon as a web page including all of its assets are loaded\n */\nfunction addLoadEvent(fn) {\n    if (typeof win.addEventListener !== UNDEF) {\n        win.addEventListener('load', fn, false);\n    } else if (typeof doc.addEventListener !== UNDEF) {\n        doc.addEventListener('load', fn, false);\n    } else if (typeof win.attachEvent !== UNDEF) {\n        addListener(win, 'onload', fn);\n    } else if (typeof win.onload === 'function') {\n        var fnOld = win.onload;\n        win.onload = function () {\n            fnOld();\n            fn();\n        };\n    } else {\n        win.onload = fn;\n    }\n}\n\n/* Detect the Flash Player version for non-Internet Explorer browsers\n    - Detecting the plug-in version via the object element is more precise than using the plugins collection item's description:\n      a. Both release and build numbers can be detected\n      b. Avoid wrong descriptions by corrupt installers provided by Adobe\n      c. Avoid wrong descriptions by multiple Flash Player entries in the plugin Array, caused by incorrect browser imports\n    - Disadvantage of this method is that it depends on the availability of the DOM, while the plugins collection is immediately available\n*/\nfunction testPlayerVersion() {\n    // monkey patch for new versions of chrome - we have FP v100, RIP\n    if (isChrome()) {\n        ua.pv = [100, 0, 0];\n        matchVersions();\n        return;\n    }\n\n    var b = doc.getElementsByTagName('body')[0];\n    var o = createElement(OBJECT);\n    o.setAttribute('style', 'visibility: hidden;');\n    o.setAttribute('type', FLASH_MIME_TYPE);\n    var t = b.appendChild(o);\n    if (t) {\n        var counter = 0;\n        (function checkGetVariable() {\n            try {\n                if (typeof t.GetVariable !== UNDEF) {\n                    try {\n                        var d = t.GetVariable('$version');\n                        if (d) {\n                            d = d.split(' ')[1].split(',');\n                            ua.pv = [toInt(d[0]), toInt(d[1]), toInt(d[2])];\n                        }\n                    } catch (e) {\n                        // t.GetVariable(\"$version\") is known to fail in Flash Player 8 on Firefox\n                        // If this error is encountered, assume FP8 or lower. Time to upgrade.\n                        ua.pv = [8, 0, 0];\n                    }\n                } else if (counter < 10) {\n                    counter++;\n                    setTimeout(checkGetVariable, 10);\n                    return;\n                }\n            } catch (e) {}\n            b.removeChild(o);\n            t = null;\n            matchVersions();\n        })();\n    } else {\n        matchVersions();\n    }\n}\n\n/* Perform Flash Player and SWF version matching; static publishing only\n*/\nfunction matchVersions() {\n    var rl = regObjArr.length;\n    if (rl > 0) {\n        for (var i = 0; i < rl; i++) {\n            // for each registered object element\n            var id = regObjArr[i].id;\n            var cb = regObjArr[i].callbackFn;\n            var cbObj = { success: false, id: id };\n            if (ua.pv[0] > 0) {\n                var obj = getElementById(id);\n                if (obj) {\n                    if (hasPlayerVersion(regObjArr[i].swfVersion) && !(ua.wk && ua.wk < 312)) {\n                        // Flash Player version >= published SWF version: Houston, we have a match!\n                        setVisibility(id, true);\n                        if (cb) {\n                            cbObj.success = true;\n                            cbObj.ref = _getObjectById(id);\n                            cbObj.id = id;\n                            cb(cbObj);\n                        }\n                    } else if (regObjArr[i].expressInstall && canExpressInstall()) {\n                        // show the Adobe Express Install dialog if set by the web page author and if supported\n                        var att = {};\n                        att.data = regObjArr[i].expressInstall;\n                        att.width = obj.getAttribute('width') || '0';\n                        att.height = obj.getAttribute('height') || '0';\n                        if (obj.getAttribute('class')) {\n                            att.styleclass = obj.getAttribute('class');\n                        }\n                        if (obj.getAttribute('align')) {\n                            att.align = obj.getAttribute('align');\n                        }\n                        // parse HTML object param element's name-value pairs\n                        var par = {};\n                        var p = obj.getElementsByTagName('param');\n                        var pl = p.length;\n                        for (var j = 0; j < pl; j++) {\n                            if (p[j].getAttribute('name').toLowerCase() !== 'movie') {\n                                par[p[j].getAttribute('name')] = p[j].getAttribute('value');\n                            }\n                        }\n                        _showExpressInstall(att, par, id, cb);\n                    } else {\n                        // Flash Player and SWF version mismatch or an older Webkit engine that ignores the HTML object element's nested param elements: display fallback content instead of SWF\n                        displayFbContent(obj);\n                        if (cb) {\n                            cb(cbObj);\n                        }\n                    }\n                }\n            } else {\n                // if no Flash Player is installed or the fp version cannot be detected we let the HTML object element do its job (either show a SWF or fallback content)\n                setVisibility(id, true);\n                if (cb) {\n                    var o = _getObjectById(id); // test whether there is an HTML object element or not\n                    if (o && typeof o.SetVariable !== UNDEF) {\n                        cbObj.success = true;\n                        cbObj.ref = o;\n                        cbObj.id = o.id;\n                    }\n                    cb(cbObj);\n                }\n            }\n        }\n    }\n}\n\n/* Main function\n    - Will preferably execute onDomLoad, otherwise onload (as a fallback)\n*/\ndomLoadFnArr[0] = function () {\n    if (plugin) {\n        testPlayerVersion();\n    } else {\n        matchVersions();\n    }\n};\n\nfunction _getObjectById(objectIdStr) {\n    var r = null,\n        o = getElementById(objectIdStr);\n\n    if (o && o.nodeName.toUpperCase() === 'OBJECT') {\n        //If targeted object is valid Flash file\n        if (typeof o.SetVariable !== UNDEF) {\n            r = o;\n        } else {\n            //If SetVariable is not working on targeted object but a nested object is\n            //available, assume classic nested object markup. Return nested object.\n\n            //If SetVariable is not working on targeted object and there is no nested object,\n            //return the original object anyway. This is probably new simplified markup.\n\n            r = o.getElementsByTagName(OBJECT)[0] || o;\n        }\n    }\n\n    return r;\n}\n\n/* Requirements for Adobe Express Install\n    - only one instance can be active at a time\n    - fp 6.0.65 or higher\n    - Win/Mac OS only\n    - no Webkit engines older than version 312\n*/\nfunction canExpressInstall() {\n    return !isExpressInstallActive && hasPlayerVersion('6.0.65') && (ua.win || ua.mac) && !(ua.wk && ua.wk < 312);\n}\n\n/* Show the Adobe Express Install dialog\n    - Reference: http://www.adobe.com/cfusion/knowledgebase/index.cfm?id=6a253b75\n*/\nfunction _showExpressInstall(att, par, replaceElemIdStr, callbackFn) {\n\n    var obj = getElementById(replaceElemIdStr);\n\n    //Ensure that replaceElemIdStr is really a string and not an element\n    replaceElemIdStr = getId(replaceElemIdStr);\n\n    isExpressInstallActive = true;\n    storedCallbackFn = callbackFn || null;\n    storedCallbackObj = { success: false, id: replaceElemIdStr };\n\n    if (obj) {\n        if (obj.nodeName.toUpperCase() === 'OBJECT') {\n            // static publishing\n            storedFbContent = abstractFbContent(obj);\n            storedFbContentId = null;\n        } else {\n            // dynamic publishing\n            storedFbContent = obj;\n            storedFbContentId = replaceElemIdStr;\n        }\n        att.id = EXPRESS_INSTALL_ID;\n        if (typeof att.width === UNDEF || !/%$/.test(att.width) && toInt(att.width) < 310) {\n            att.width = '310';\n        }\n        if (typeof att.height === UNDEF || !/%$/.test(att.height) && toInt(att.height) < 137) {\n            att.height = '137';\n        }\n        var pt = ua.ie ? 'ActiveX' : 'PlugIn',\n            fv = 'MMredirectURL=' + encodeURIComponent(win.location.toString().replace(/&/g, '%26')) + '&MMplayerType=' + pt + '&MMdoctitle=' + encodeURIComponent(doc.title.slice(0, 47) + ' - Flash Player Installation');\n        if (typeof par.flashvars !== UNDEF) {\n            par.flashvars += '&' + fv;\n        } else {\n            par.flashvars = fv;\n        }\n        // IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\n        // because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn't work\n        if (ua.ie && obj.readyState != 4) {\n            var newObj = createElement('div');\n            replaceElemIdStr += 'SWFObjectNew';\n            newObj.setAttribute('id', replaceElemIdStr);\n            obj.parentNode.insertBefore(newObj, obj); // insert placeholder div that will be replaced by the object element that loads expressinstall.swf\n            obj.style.display = 'none';\n            _removeSWF(obj); //removeSWF accepts elements now\n        }\n        _createSWF(att, par, replaceElemIdStr);\n    }\n}\n\n/* Functions to abstract and display fallback content\n*/\nfunction displayFbContent(obj) {\n    if (ua.ie && obj.readyState != 4) {\n        // IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\n        // because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn't work\n        obj.style.display = 'none';\n        var el = createElement('div');\n        obj.parentNode.insertBefore(el, obj); // insert placeholder div that will be replaced by the fallback content\n        el.parentNode.replaceChild(abstractFbContent(obj), el);\n        _removeSWF(obj); //removeSWF accepts elements now\n    } else {\n        obj.parentNode.replaceChild(abstractFbContent(obj), obj);\n    }\n}\n\nfunction abstractFbContent(obj) {\n    var ac = createElement('div');\n    if (ua.win && ua.ie) {\n        ac.innerHTML = obj.innerHTML;\n    } else {\n        var nestedObj = obj.getElementsByTagName(OBJECT)[0];\n        if (nestedObj) {\n            var c = nestedObj.childNodes;\n            if (c) {\n                var cl = c.length;\n                for (var i = 0; i < cl; i++) {\n                    if (!(c[i].nodeType == 1 && c[i].nodeName === 'PARAM') && !(c[i].nodeType == 8)) {\n                        ac.appendChild(c[i].cloneNode(true));\n                    }\n                }\n            }\n        }\n    }\n    return ac;\n}\n\nfunction createIeObject(url, paramStr) {\n    var div = createElement('div');\n    div.innerHTML = '<object classid=\\'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\\'><param name=\\'movie\\' value=\\'' + url + '\\'>' + paramStr + '</object>';\n    return div.firstChild;\n}\n\n/* Cross-browser dynamic SWF creation\n*/\nfunction _createSWF(attObj, parObj, id) {\n    var r = void 0,\n        el = getElementById(id);\n    id = getId(id); // ensure id is truly an ID and not an element\n\n    if (ua.wk && ua.wk < 312) {\n        return r;\n    }\n\n    if (el) {\n        var o = ua.ie ? createElement('div') : createElement(OBJECT),\n            attr = void 0,\n            attrLower = void 0,\n            param = void 0;\n\n        if (typeof attObj.id === UNDEF) {\n            // if no 'id' is defined for the object element, it will inherit the 'id' from the fallback content\n            attObj.id = id;\n        }\n\n        //Add params\n        for (param in parObj) {\n            //filter out prototype additions from other potential libraries and IE specific param element\n            if (parObj.hasOwnProperty(param) && param.toLowerCase() !== 'movie') {\n                createObjParam(o, param, parObj[param]);\n            }\n        }\n\n        //Create IE object, complete with param nodes\n        if (ua.ie) {\n            o = createIeObject(attObj.data, o.innerHTML);\n        }\n\n        //Add attributes to object\n        for (attr in attObj) {\n            if (attObj.hasOwnProperty(attr)) {\n                // filter out prototype additions from other potential libraries\n                attrLower = attr.toLowerCase();\n\n                // 'class' is an ECMA4 reserved keyword\n                if (attrLower === 'styleclass') {\n                    o.setAttribute('class', attObj[attr]);\n                } else if (attrLower !== 'classid' && attrLower !== 'data') {\n                    o.setAttribute(attr, attObj[attr]);\n                }\n            }\n        }\n\n        if (ua.ie) {\n            objIdArr[objIdArr.length] = attObj.id; // stored to fix object 'leaks' on unload (dynamic publishing only)\n        } else {\n            o.setAttribute('type', FLASH_MIME_TYPE);\n            o.setAttribute('data', attObj.data);\n        }\n\n        el.parentNode.replaceChild(o, el);\n        r = o;\n    }\n\n    return r;\n}\n\nfunction createObjParam(el, pName, pValue) {\n    var p = createElement('param');\n    p.setAttribute('name', pName);\n    p.setAttribute('value', pValue);\n    el.appendChild(p);\n}\n\n/* Cross-browser SWF removal\n    - Especially needed to safely and completely remove a SWF in Internet Explorer\n*/\nfunction _removeSWF(id) {\n    var obj = getElementById(id);\n    if (obj && obj.nodeName.toUpperCase() === 'OBJECT') {\n        if (ua.ie) {\n            obj.style.display = 'none';\n            (function removeSWFInIE() {\n                if (obj.readyState == 4) {\n                    //This step prevents memory leaks in Internet Explorer\n                    for (var i in obj) {\n                        if (typeof obj[i] === 'function') {\n                            obj[i] = null;\n                        }\n                    }\n                    obj.parentNode.removeChild(obj);\n                } else {\n                    setTimeout(removeSWFInIE, 10);\n                }\n            })();\n        } else {\n            obj.parentNode.removeChild(obj);\n        }\n    }\n}\n\nfunction isElement(id) {\n    return id && id.nodeType && id.nodeType === 1;\n}\n\nfunction getId(thing) {\n    return isElement(thing) ? thing.id : thing;\n}\n\n/* Functions to optimize JavaScript compression\n*/\nfunction getElementById(id) {\n\n    //Allow users to pass an element OR an element's ID\n    if (isElement(id)) {\n        return id;\n    }\n\n    var el = null;\n    try {\n        el = doc.getElementById(id);\n    } catch (e) {}\n    return el;\n}\n\nfunction createElement(el) {\n    return doc.createElement(el);\n}\n\n//To aid compression; replaces 14 instances of pareseInt with radix\nfunction toInt(str) {\n    return parseInt(str, 10);\n}\n\n/* Updated attachEvent function for Internet Explorer\n    - Stores attachEvent information in an Array, so on unload the detachEvent functions can be called to avoid memory leaks\n*/\nfunction addListener(target, eventType, fn) {\n    target.attachEvent(eventType, fn);\n    listenersArr[listenersArr.length] = [target, eventType, fn];\n}\n\n/* Flash Player and SWF content version matching\n*/\nfunction hasPlayerVersion(rv) {\n    rv += ''; //Coerce number to string, if needed.\n    var pv = ua.pv,\n        v = rv.split('.');\n    v[0] = toInt(v[0]);\n    v[1] = toInt(v[1]) || 0; // supports short notation, e.g. \"9\" instead of \"9.0.0\"\n    v[2] = toInt(v[2]) || 0;\n    return pv[0] > v[0] || pv[0] == v[0] && pv[1] > v[1] || pv[0] == v[0] && pv[1] == v[1] && pv[2] >= v[2] ? true : false;\n}\n\n/* Cross-browser dynamic CSS creation\n    - Based on Bobby van der Sluis' solution: http://www.bobbyvandersluis.com/articles/dynamicCSS.php\n*/\nfunction _createCSS(sel, decl, media, newStyle) {\n    var h = doc.getElementsByTagName('head')[0];\n    if (!h) {\n        return;\n    } // to also support badly authored HTML pages that lack a head element\n    var m = typeof media === 'string' ? media : 'screen';\n    if (newStyle) {\n        dynamicStylesheet = null;\n        dynamicStylesheetMedia = null;\n    }\n    if (!dynamicStylesheet || dynamicStylesheetMedia != m) {\n        // create dynamic stylesheet + get a global reference to it\n        var s = createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.setAttribute('media', m);\n        dynamicStylesheet = h.appendChild(s);\n        if (ua.ie && typeof doc.styleSheets !== UNDEF && doc.styleSheets.length > 0) {\n            dynamicStylesheet = doc.styleSheets[doc.styleSheets.length - 1];\n        }\n        dynamicStylesheetMedia = m;\n    }\n    // add style rule\n    if (dynamicStylesheet) {\n        if (typeof dynamicStylesheet.addRule !== UNDEF) {\n            dynamicStylesheet.addRule(sel, decl);\n        } else if (typeof doc.createTextNode !== UNDEF) {\n            dynamicStylesheet.appendChild(doc.createTextNode(sel + ' {' + decl + '}'));\n        }\n    }\n}\n\nfunction setVisibility(id, isVisible) {\n    if (!autoHideShow) {\n        return;\n    }\n    var v = isVisible ? 'visible' : 'hidden',\n        el = getElementById(id);\n    if (isDomLoaded && el) {\n        el.style.visibility = v;\n    } else if (typeof id === 'string') {\n        _createCSS('#' + id, 'visibility:' + v);\n    }\n}\n\n/* Filter to avoid XSS attacks\n*/\nfunction urlEncodeIfNecessary(s) {\n    var regex = /[\\\\\\\"<>\\.;]/;\n    var hasBadChars = regex.exec(s) !== null;\n    return hasBadChars && typeof encodeURIComponent !== UNDEF ? encodeURIComponent(s) : s;\n}\n\n/* Release memory to avoid memory leaks caused by closures, fix hanging audio/video threads and force open sockets/NetConnections to disconnect (Internet Explorer only)\n*/\nvar cleanup = function () {\n    if (ua.ie) {\n        window.attachEvent('onunload', function () {\n            // remove listeners to avoid memory leaks\n            var ll = listenersArr.length;\n            for (var i = 0; i < ll; i++) {\n                listenersArr[i][0].detachEvent(listenersArr[i][1], listenersArr[i][2]);\n            }\n            // cleanup dynamically embedded objects to fix audio/video threads and force open sockets and NetConnections to disconnect\n            var il = objIdArr.length;\n            for (var j = 0; j < il; j++) {\n                _removeSWF(objIdArr[j]);\n            }\n            // cleanup library's main closures to avoid memory leaks\n            for (var k in ua) {\n                ua[k] = null;\n            }\n            ua = null;\n            for (var l in swfobject) {\n                swfobject[l] = null;\n            }\n            swfobject = null;\n        });\n    }\n}();\n\nfunction isChrome() {\n    var isChromium = window.chrome;\n    var winNav = window.navigator;\n    var vendorName = winNav.vendor;\n    var isOpera = typeof window.opr !== 'undefined';\n    var isIEedge = winNav.userAgent.indexOf('Edge') > -1;\n    var isIOSChrome = winNav.userAgent.match('CriOS');\n\n    if (isIOSChrome) {\n        return true;\n    } else return isChromium !== null && typeof isChromium !== 'undefined' && vendorName === 'Google Inc.' && isOpera === false && isIEedge === false;\n}\n\nvar swfobject = module.exports = {\n    /* Public API\n        - Reference: http://code.google.com/p/swfobject/wiki/documentation\n    */\n    registerObject: function registerObject(objectIdStr, swfVersionStr, xiSwfUrlStr, callbackFn) {\n        if (ua.w3 && objectIdStr && swfVersionStr) {\n            var regObj = {};\n            regObj.id = objectIdStr;\n            regObj.swfVersion = swfVersionStr;\n            regObj.expressInstall = xiSwfUrlStr;\n            regObj.callbackFn = callbackFn;\n            regObjArr[regObjArr.length] = regObj;\n            setVisibility(objectIdStr, false);\n        } else if (callbackFn) {\n            callbackFn({ success: false, id: objectIdStr });\n        }\n    },\n\n    getObjectById: function getObjectById(objectIdStr) {\n        if (ua.w3) {\n            return _getObjectById(objectIdStr);\n        }\n    },\n\n    embedSWF: function embedSWF(swfUrlStr, replaceElemIdStr, widthStr, heightStr, swfVersionStr, xiSwfUrlStr, flashvarsObj, parObj, attObj, callbackFn) {\n\n        var id = getId(replaceElemIdStr),\n            callbackObj = { success: false, id: id };\n\n        if (ua.w3 && !(ua.wk && ua.wk < 312) && swfUrlStr && replaceElemIdStr && widthStr && heightStr && swfVersionStr) {\n            setVisibility(id, false);\n            addDomLoadEvent(function () {\n                widthStr += ''; // auto-convert to string\n                heightStr += '';\n                var att = {};\n                if (attObj && typeof attObj === OBJECT) {\n                    for (var i in attObj) {\n                        // copy object to avoid the use of references, because web authors often reuse attObj for multiple SWFs\n                        att[i] = attObj[i];\n                    }\n                }\n                att.data = swfUrlStr;\n                att.width = widthStr;\n                att.height = heightStr;\n                var par = {};\n                if (parObj && typeof parObj === OBJECT) {\n                    for (var j in parObj) {\n                        // copy object to avoid the use of references, because web authors often reuse parObj for multiple SWFs\n                        par[j] = parObj[j];\n                    }\n                }\n                if (flashvarsObj && typeof flashvarsObj === OBJECT) {\n                    for (var k in flashvarsObj) {\n                        // copy object to avoid the use of references, because web authors often reuse flashvarsObj for multiple SWFs\n                        if (flashvarsObj.hasOwnProperty(k)) {\n\n                            var key = encodeURIEnabled ? encodeURIComponent(k) : k,\n                                value = encodeURIEnabled ? encodeURIComponent(flashvarsObj[k]) : flashvarsObj[k];\n\n                            if (typeof par.flashvars !== UNDEF) {\n                                par.flashvars += '&' + key + '=' + value;\n                            } else {\n                                par.flashvars = key + '=' + value;\n                            }\n                        }\n                    }\n                }\n                try {\n                    // create SWF\n                    var obj = _createSWF(att, par, replaceElemIdStr);\n                    if (att.id == id) {\n                        setVisibility(id, true);\n                    }\n                    callbackObj.success = true;\n                    callbackObj.ref = obj;\n                    callbackObj.id = obj.id;\n                } catch (e) {\n                    // show fallback content\n                    setVisibility(id, true);\n                }\n                if (callbackFn) {\n                    callbackFn(callbackObj);\n                }\n            });\n        } else if (callbackFn) {\n            callbackFn(callbackObj);\n        }\n    },\n\n    switchOffAutoHideShow: function switchOffAutoHideShow() {\n        autoHideShow = false;\n    },\n\n    enableUriEncoding: function enableUriEncoding(bool) {\n        encodeURIEnabled = typeof bool === UNDEF ? true : bool;\n    },\n\n    ua: ua,\n\n    getFlashPlayerVersion: function getFlashPlayerVersion() {\n        return { major: ua.pv[0], minor: ua.pv[1], release: ua.pv[2] };\n    },\n\n    hasFlashPlayerVersion: hasPlayerVersion,\n\n    createSWF: function createSWF(attObj, parObj, replaceElemIdStr) {\n        if (ua.w3) {\n            return _createSWF(attObj, parObj, replaceElemIdStr);\n        } else {\n            return undefined;\n        }\n    },\n\n    showExpressInstall: function showExpressInstall(att, par, replaceElemIdStr, callbackFn) {\n        if (ua.w3 && canExpressInstall()) {\n            _showExpressInstall(att, par, replaceElemIdStr, callbackFn);\n        }\n    },\n\n    removeSWF: function removeSWF(objElemIdStr) {\n        if (ua.w3) {\n            _removeSWF(objElemIdStr);\n        }\n    },\n\n    createCSS: function createCSS(selStr, declStr, mediaStr, newStyleBoolean) {\n        if (ua.w3) {\n            _createCSS(selStr, declStr, mediaStr, newStyleBoolean);\n        }\n    },\n\n    addDomLoadEvent: addDomLoadEvent,\n\n    addLoadEvent: addLoadEvent,\n\n    getQueryParamValue: function getQueryParamValue(param) {\n        var q = doc.location.search || doc.location.hash;\n        if (q) {\n            if (/\\?/.test(q)) {\n                q = q.split('?')[1];\n            } // strip question mark\n            if (!param) {\n                return urlEncodeIfNecessary(q);\n            }\n            var pairs = q.split('&');\n            for (var i = 0; i < pairs.length; i++) {\n                if (pairs[i].substring(0, pairs[i].indexOf('=')) == param) {\n                    return urlEncodeIfNecessary(pairs[i].substring(pairs[i].indexOf('=') + 1));\n                }\n            }\n        }\n        return '';\n    },\n\n    // For internal usage only\n    expressInstallCallback: function expressInstallCallback() {\n        if (isExpressInstallActive) {\n            var obj = getElementById(EXPRESS_INSTALL_ID);\n            if (obj && storedFbContent) {\n                obj.parentNode.replaceChild(storedFbContent, obj);\n                if (storedFbContentId) {\n                    setVisibility(storedFbContentId, true);\n                    if (ua.ie) {\n                        storedFbContent.style.display = 'block';\n                    }\n                }\n                if (storedCallbackFn) {\n                    storedCallbackFn(storedCallbackObj);\n                }\n            }\n            isExpressInstallActive = false;\n        }\n    },\n\n    version: '2.3'\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar unique = __webpack_require__(4).unique;\nvar isPositiveInt = __webpack_require__(4).isPositiveInt;\nvar stringEndsWith = __webpack_require__(4).stringEndsWith;\nvar SingleValueRegistry = __webpack_require__(11).SingleValueRegistry;\nvar MultipleValuesRegistry = __webpack_require__(11).MultipleValuesRegistry;\nvar registry = __webpack_require__(38);\nvar VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nvar ERROR = 'AdError';\n\nvar JSFlashBridge = exports.JSFlashBridge = function () {\n    function JSFlashBridge(el, flashURL, flashID, width, height, loadHandShake) {\n        _classCallCheck(this, JSFlashBridge);\n\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._ready = false;\n        this._handShakeHandler = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    _createClass(JSFlashBridge, [{\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            return this._handlers.remove(eventName, callback);\n        }\n    }, {\n        key: 'offEvent',\n        value: function offEvent(eventName) {\n            return this._handlers.removeByKey(eventName);\n        }\n    }, {\n        key: 'offAll',\n        value: function offAll() {\n            return this._handlers.removeAll();\n        }\n    }, {\n        key: 'callFlashMethod',\n        value: function callFlashMethod(methodName) {\n            var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n            var callbackID = '';\n            // if no callback, some methods the return is void so they don't need callback\n            if (callback) {\n                callbackID = this._uniqueMethodIdentifier() + '_' + methodName;\n                this._callbacks.add(callbackID, callback);\n            }\n\n            try {\n                //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n                //this code will throw an error\n                this._el[methodName]([callbackID].concat(args));\n            } catch (e) {\n                if (callback) {\n                    $asyncCallback.call(this, callbackID, e);\n                } else {\n\n                    //if there isn't any callback to return error use error event handler\n                    this._trigger(ERROR, e);\n                }\n            }\n        }\n    }, {\n        key: 'removeCallback',\n        value: function removeCallback(callback) {\n            return this._callbacks.removeByValue(callback);\n        }\n    }, {\n        key: 'removeCallbackByMethodName',\n        value: function removeCallbackByMethodName(suffix) {\n            var _this = this;\n\n            this._callbacks.filterKeys(function (key) {\n                return stringEndsWith(key, suffix);\n            }).forEach(function (key) {\n                _this._callbacks.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAllCallbacks',\n        value: function removeAllCallbacks() {\n            return this._callbacks.removeAll();\n        }\n    }, {\n        key: '_trigger',\n        value: function _trigger(eventName, event) {\n            var _this2 = this;\n\n            this._handlers.get(eventName).forEach(function (callback) {\n                //clickThru has to be sync, if not will be block by the popupblocker\n                if (eventName === 'AdClickThru') {\n                    callback(event);\n                } else {\n                    setTimeout(function () {\n                        if (_this2._handlers.get(eventName).length > 0) {\n                            callback(event);\n                        }\n                    }, 0);\n                }\n            });\n        }\n    }, {\n        key: '_callCallback',\n        value: function _callCallback(methodName, callbackID, err, result) {\n\n            var callback = this._callbacks.get(callbackID);\n\n            //not all methods callback's are mandatory\n            //but if there exist an error, fire the error event\n            if (!callback) {\n                if (err && callbackID === '') {\n                    this.trigger(ERROR, err);\n                }\n                return;\n            }\n\n            $asyncCallback.call(this, callbackID, err, result);\n        }\n    }, {\n        key: '_handShake',\n        value: function _handShake(err, data) {\n            this._ready = true;\n            if (this._handShakeHandler) {\n                this._handShakeHandler(err, data);\n                delete this._handShakeHandler;\n            }\n        }\n\n        //methods like properties specific to this implementation of VPAID\n\n    }, {\n        key: 'getSize',\n        value: function getSize() {\n            return { width: this._width, height: this._height };\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(newWidth, newHeight) {\n            this._width = isPositiveInt(newWidth, this._width);\n            this._height = isPositiveInt(newHeight, this._height);\n            this._el.setAttribute('width', this._width);\n            this._el.setAttribute('height', this._height);\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this._width;\n        }\n    }, {\n        key: 'setWidth',\n        value: function setWidth(newWidth) {\n            this.setSize(newWidth, this._height);\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this._height;\n        }\n    }, {\n        key: 'setHeight',\n        value: function setHeight(newHeight) {\n            this.setSize(this._width, newHeight);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            return this._flashID;\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            return this._flashURL;\n        }\n    }, {\n        key: 'isReady',\n        value: function isReady() {\n            return this._ready;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.offAll();\n            this.removeAllCallbacks();\n            registry.removeInstanceByID(this._flashID);\n            if (this._el.parentElement) {\n                this._el.parentElement.removeChild(this._el);\n            }\n        }\n    }]);\n\n    return JSFlashBridge;\n}();\n\nfunction $asyncCallback(callbackID, err, result) {\n    var _this3 = this;\n\n    setTimeout(function () {\n        var callback = _this3._callbacks.get(callbackID);\n        if (callback) {\n            _this3._callbacks.remove(callbackID);\n            callback(err, result);\n        }\n    }, 0);\n}\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\n/**\r\n * External interface handler\r\n *\r\n * @param {string} flashID identifier of the flash who call this\r\n * @param {string} typeID what type of message is, can be 'event' or 'callback'\r\n * @param {string} typeName if the typeID is a event the typeName will be the eventName, if is a callback the typeID is the methodName that is related this callback\r\n * @param {string} callbackID only applies when the typeID is 'callback', identifier of the callback to call\r\n * @param {object} error error object\r\n * @param {object} data\r\n */\nwindow[VPAID_FLASH_HANDLER] = function (flashID, typeID, typeName, callbackID, error, data) {\n    var instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (typeName === 'handShake') {\n        instance._handShake(error, data);\n    } else {\n        if (typeID !== 'event') {\n            instance._callCallback(typeName, callbackID, error, data);\n        } else {\n            instance._trigger(typeName, data);\n        }\n    }\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.showContextMenuAt = showContextMenuAt;\n\nvar _styles = __webpack_require__(1);\n\nvar DEFAULT_MENU_ITEMS = [{ id: 'about', text: 'About HTML5 player' }];\n\nvar parentElement = null;\nvar currentMenu = null;\n\ndocument.addEventListener('click', hideCurrentMenu, true);\nwindow.addEventListener('blur', hideCurrentMenu, true);\n\nfunction showContextMenuAt(x, y, menuItems, parent) {\n    hideCurrentMenu();\n\n    parentElement = parent || document.body;\n\n    var menu = constructMenu(menuItems || DEFAULT_MENU_ITEMS);\n    parentElement.appendChild(menu);\n    menu.style.left = x + 'px';\n    menu.style.top = y + 'px';\n\n    currentMenu = menu;\n}\n\nfunction hideCurrentMenu() {\n    if (currentMenu) {\n        var temp = currentMenu;\n\n        // in removeChild call 'blur' event will fire again, so we should erase 'currentMenu' variable prior to that\n        currentMenu = null;\n        parentElement.removeChild(temp);\n    }\n}\n\nfunction constructMenu(items) {\n    var menu = document.createElement('ul');\n    menu.className = 'alfa-context-menu';\n\n    items.forEach(function (item) {\n        var element = createItemElement(item);\n        var menuItem = document.createElement('li');\n        menuItem.appendChild(element);\n        menu.appendChild(menuItem);\n    });\n    return menu;\n}\n\nfunction createItemElement(item) {\n    var element = item.href ? createLinkItemElement(item) : createSpanItemElement(item);\n    element.className = 'alfa-context-item ' + _styles.STYLES.NO_SELECT;\n    element.innerHTML = item.text;\n    element.dataset.id = item.id;\n    return element;\n}\n\nfunction createLinkItemElement(item) {\n    var element = document.createElement('a');\n    element.setAttribute('target', '_blank');\n    element.setAttribute('href', item.href);\n    return element;\n}\n\nfunction createSpanItemElement() {\n    return document.createElement('span');\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.notifyInfo = notifyInfo;\nexports.notifyCreate = notifyCreate;\nexports.notifyError = notifyError;\n\nvar _settings = __webpack_require__(3);\n\nvar _networking = __webpack_require__(9);\n\nfunction genBody(name, sid) {\n    return {\n        name: name,\n        ver: \"2.8.15\" || 'dev',\n        type: _settings.settings.getAppType(),\n        sid: sid || undefined\n    };\n}\n\nfunction notifyInfo(name, _ref) {\n    var sid = _ref.sid,\n        data = _ref.data;\n\n    // request data\n    var body = genBody(name || 'info', sid);\n    body.data = data;\n\n    // make request\n    (0, _networking.sendInfo)(body);\n}\n\nfunction notifyCreate(_ref2) {\n    var sid = _ref2.sid,\n        data = _ref2.data;\n\n    // request data\n    var body = genBody('create', sid);\n    body.data = data;\n\n    // make request\n    (0, _networking.sendOnLoad)(body);\n}\n\nfunction notifyError() {}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _errors = __webpack_require__(5);\n\nvar _WebAlfaPlayer = __webpack_require__(25);\n\nvar _WebAlfaPlayer2 = _interopRequireDefault(_WebAlfaPlayer);\n\nvar _settings = __webpack_require__(3);\n\nvar _notifier = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// registration of global error handler\n(0, _errors.registerGlobalErrorHandler)(window);\n\n// if ROTATED build - enable ad rotation\nif (false) {\n    _settings.settings.isRotated = true;\n}\n\n// if DEBUG build - enable DEBUG mode\nif (false) {\n    _settings.settings.isDebug = true;\n}\n\n// notify server about LOAD event\n(0, _notifier.notifyInfo)('load', { sid: _settings.INITIAL_SID });\n\n// if VPAID build - expose 'getVPAIDAd' function to global\nif (false) {\n    window.getVPAIDAd = require('@/VPAIDVideoPlayer').getVPAIDAd;\n}\n\n// expose player to global variable\nwindow.WebAlfaPlayer = _WebAlfaPlayer2.default;\n\n// if we in DEV mode, write console version and commit info\nif (_settings.settings.isDev) {\n    console.log('[alfa] version \\'' + _WebAlfaPlayer.PLAYER_VERSION + '\\', commit \\'' + _WebAlfaPlayer.PLAYER_COMMIT + '\\'');\n}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.uuid = uuid;\nvar TEMPLATE = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\n/**\r\n * Generate RFC4122 version 4 compliant UUID\r\n * @returns {string}\r\n */\nfunction uuid() {\n    return TEMPLATE.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0;\n        var v = c === 'x' ? r : r & 0x3 | 0x8;\n        return v.toString(16);\n    });\n}\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Storage = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _storage = __webpack_require__(24);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Storage = exports.Storage = function () {\n    function Storage() {\n        _classCallCheck(this, Storage);\n\n        this.storage = localStorage;\n        this.isReadable = (0, _storage.isStorageReadable)(this.storage);\n        this.isWritable = (0, _storage.isStorageWritable)(this.storage);\n    }\n\n    _createClass(Storage, [{\n        key: 'read',\n        value: function read(key) {\n            if (!this.isReadable) {\n                return null;\n            }\n\n            return this.storage.getItem(key);\n        }\n    }, {\n        key: 'write',\n        value: function write(key, value) {\n            if (!this.isWritable) {\n                return;\n            }\n\n            var valueType = typeof value;\n            if (valueType === 'object') {\n                value = JSON.stringify(value);\n            }\n\n            this.storage.setItem(key, value);\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key) {\n            if (!this.isWritable) {\n                return;\n            }\n\n            this.storage.removeItem(key);\n        }\n    }]);\n\n    return Storage;\n}();\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isStorageReadable = isStorageReadable;\nexports.isStorageWritable = isStorageWritable;\n/**\r\n * Is browser storage (local, session) currently support reading\r\n * @param storage\r\n * @returns {boolean}\r\n */\nfunction isStorageReadable(storage) {\n    var KEY = 'test';\n    try {\n        storage.getItem(KEY);\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\n\n/**\r\n * Is browser storage (local, session) currently support writing\r\n * @param storage\r\n * @returns {boolean}\r\n */\nfunction isStorageWritable(storage) {\n    var KEY = 'test';\n    try {\n        storage.setItem(KEY, '1');\n        storage.removeItem(KEY);\n        return true;\n    } catch (error) {\n        return false;\n    }\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.PLAYER_COMMIT = exports.PLAYER_VERSION = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (pui) {\n    var wap = new WebAlfaPlayer(pui);\n    return {\n        create: wap.create.bind(wap),\n        getShareLink: wap.getShareLink.bind(wap),\n        showAd: wap.showAd.bind(wap),\n        addEventListener: wap.addEventListener.bind(wap),\n        removeEventListener: wap.removeEventListener.bind(wap),\n        play: wap.play.bind(wap),\n        pause: wap.pause.bind(wap),\n\n        get currentTime() {\n            return wap.currentTime;\n        },\n        set currentTime(value) {\n            wap.currentTime = value;\n        },\n\n        get volume() {\n            return wap.ui.getVolume();\n        },\n        set volume(value) {\n            wap.ui.setVolume(value);\n        },\n\n        get vpaid() {\n            return wap.ui.VPAIDPlayer;\n        },\n\n        get version() {\n            return \"2.8.15\" || 'dev';\n        },\n        get commit() {\n            return \"\" || '';\n        }\n    };\n};\n\nvar _constants = __webpack_require__(2);\n\nvar _userAgent = __webpack_require__(6);\n\nvar _errors = __webpack_require__(5);\n\nvar _networking = __webpack_require__(9);\n\nvar _scheduler = __webpack_require__(26);\n\nvar _scheduler2 = _interopRequireDefault(_scheduler);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _companionArea = __webpack_require__(29);\n\nvar _styles = __webpack_require__(1);\n\nvar _common = __webpack_require__(7);\n\nvar _url = __webpack_require__(10);\n\nvar _stage = __webpack_require__(14);\n\nvar _config = __webpack_require__(30);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _uiManager = __webpack_require__(31);\n\nvar _uiManager2 = _interopRequireDefault(_uiManager);\n\nvar _settings = __webpack_require__(3);\n\nvar _vastNotifier = __webpack_require__(56);\n\nvar _parser = __webpack_require__(57);\n\nvar _notifier = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_PUI = '35vz1fd5a348b2bf6841a0a4b8g3e281',\n    VAST_CLOSE_AFTER_SHOW_MIDROLL = true,\n    VAST_CLOSE_AFTER_SHOW_ONLOAD = true;\n\nvar WebAlfaPlayer = function (_EventSystem) {\n    _inherits(WebAlfaPlayer, _EventSystem);\n\n    function WebAlfaPlayer(pui) {\n        _classCallCheck(this, WebAlfaPlayer);\n\n        var _this = _possibleConstructorReturn(this, (WebAlfaPlayer.__proto__ || Object.getPrototypeOf(WebAlfaPlayer)).call(this));\n\n        _this.config = new _config2.default(pui || DEFAULT_PUI);\n        _this.vast = null;\n        _this.state = {\n            // Just loaded, haven't played anything\n            initial: true,\n            // is main video file playing finished\n            finishedMain: false\n        };\n        // session ID for this player instance\n        _this.sid = _settings.settings.nextSID();\n\n        _this.currentAd = null;\n        _this.currentAdNumber = 0;\n        _this.currentCompanion = null;\n        _this.mainVideoTime = 0;\n\n        _this.notifier = new _vastNotifier.VastNotifier();\n        _this.ui = new _uiManager2.default(_this);\n        _this.scheduler = new _scheduler2.default(_this);\n        _this.thisTimeUpdateEvent = _this.onTimeupdateEvent.bind(_this);\n        return _this;\n    }\n\n    _createClass(WebAlfaPlayer, [{\n        key: 'notifyOnce',\n        value: function notifyOnce(eventName) {\n            var fired = this.notifier.fireLinearOnce(eventName);\n            if (fired) {\n                this.emit(_constants.PLAYER_EVENTS.AD_TRACKING, eventName);\n            }\n        }\n    }, {\n        key: 'notifyImpressions',\n        value: function notifyImpressions() {\n            var fired = this.notifier.fireImpressions();\n            if (fired) {\n                this.emit(_constants.PLAYER_EVENTS.AD_IMPRESSION);\n\n                // in debug build do info report about impressions firing\n                if (_settings.settings.isDebug) {\n                    this.notifyInfo('impressions');\n                }\n            }\n        }\n    }, {\n        key: 'create',\n        value: function create(config) {\n            var _this2 = this;\n\n            this.state.initial = true;\n\n            // reading player config\n            this.config.init(config);\n\n            // creating of UI and video elements\n            this.ui.createMainUI(this.config);\n\n            // we should notify server about successful player creation\n            this.notifyCreate();\n\n            // setup debug 'unload' event reporting\n            if (_settings.settings.isDebug) {\n                window.addEventListener('unload', function () {\n                    return _this2.notifyInfo('unload');\n                });\n            }\n\n            // if ads will be requested from server by PUI\n            if (this.config.isAutoGetAds()) {\n                this.onConfigApplied();\n            } else {\n                // try to load VAST data from provided XML or URL\n                this.loadVast(function () {\n                    return _this2.onConfigApplied();\n                });\n            }\n        }\n\n        /**\n         * notify server about successful player creation\n         */\n\n    }, {\n        key: 'notifyCreate',\n        value: function notifyCreate() {\n            // additional data\n            var data = {};\n\n            // additional data from config\n            this.config.fillNotifyProps(data);\n\n            // report initial viewability\n            if (this.ui.viewability) {\n                data.viewability = this.ui.viewability.getViewability();\n            }\n\n            // make request\n            (0, _notifier.notifyCreate)({\n                sid: this.sid,\n                data: data\n            });\n        }\n    }, {\n        key: 'notifyInfo',\n        value: function notifyInfo(name) {\n            // additional data\n            var data = {};\n\n            // additional data from config\n            this.config.fillNotifyProps(data);\n\n            // additional data about current ad\n            this.fillCurrentAdProps(data);\n\n            // report initial viewability\n            if (this.ui.viewability) {\n                data.viewability = this.ui.viewability.getViewability();\n            }\n\n            // make request\n            (0, _notifier.notifyInfo)(name, {\n                sid: this.sid,\n                data: data\n            });\n        }\n    }, {\n        key: 'notifyError',\n        value: function notifyError(error) {\n            // add player instance ID\n            error.sid = this.sid;\n\n            // additional error data\n            var data = {};\n            // additional data from config\n            this.config.fillNotifyProps(data);\n\n            // additional data about current ad\n            this.fillCurrentAdProps(data);\n\n            // in DEBUG build we report VAST content in case of VastError\n            if (_settings.settings.isDebug && error instanceof _errors.VastError) {\n                data.debug = error.source || this.vast && this.vast.source || '';\n            }\n\n            // notify our server about error\n            (0, _errors.sendError)(error, data);\n        }\n    }, {\n        key: 'notifyVastError',\n        value: function notifyVastError(error) {\n            // notify VAST provider about VAST error\n            if (error.code > 0) {\n                this.notifier.fireError(error.code);\n            }\n\n            // notify our server about error\n            this.notifyError(error);\n        }\n    }, {\n        key: 'fillCurrentAdProps',\n        value: function fillCurrentAdProps(data) {\n            // if we already selected AD\n            if (this.currentAd) {\n                // vast type\n                data.vast = this.currentAd.getVastType();\n\n                // if we determined mediaFile\n                if (this.currentAd.mediaFile) {\n                    data.mediafile = this.currentAd.mediaFile;\n                }\n            }\n        }\n    }, {\n        key: 'loadVast',\n        value: function loadVast(callback) {\n            var _this3 = this;\n\n            if (this.config.getFetchVastUrl()) {\n                // prepare URL to fetch VAST file from server\n                var vastUrl = this.config.getFetchVastUrl();\n                if (this.config.isVPAID() && this.config.getVideoElement() && this.config.getVideoElement().getBoundingClientRect) {\n                    vastUrl = (0, _url.prepareFetchVastUrl)(vastUrl, this.config.getVideoElement().getBoundingClientRect());\n                }\n\n                console.log('[alfa] Fetching VAST from url: ' + vastUrl);\n                (0, _common.getUrlContentAsync)(vastUrl, function (resultXML) {\n                    if (!resultXML) {\n                        return callback();\n                    }\n\n                    _this3.initVast(resultXML, callback);\n                });\n            } else if (this.config.getProvidedVastXML()) {\n                this.initVast(this.config.getProvidedVastXML(), callback);\n            } else {\n                callback();\n            }\n        }\n    }, {\n        key: 'initVast',\n        value: function initVast(vastXML, callback) {\n            var _this4 = this;\n\n            // listen to 'warning' events that may appear while parsing VAST xml\n            (0, _parser.parse)(vastXML, function (warning) {\n                _this4.notifyVastError(warning);\n            }, function (error, data) {\n                // if critical error occurred while parsing\n                if (error) {\n                    _this4.notifyVastError(error);\n\n                    _this4.vast = null;\n                } else {\n                    _this4.vast = data;\n                }\n\n                callback();\n            });\n        }\n    }, {\n        key: 'onConfigApplied',\n        value: function onConfigApplied() {\n            if (_userAgent.parsedUA.isMobile) {\n                this.scheduler.precacheAd();\n            }\n\n            // setup OnClick listener on video element, if it was provided by config\n            var videoElement = this.config.getVideoElement();\n            if (videoElement) {\n                videoElement.addEventListener(_userAgent.parsedUA.isMobile ? 'touchend' : 'click', this.onPlayerClick.bind(this));\n            }\n            // setup OnClick listener on player root element\n            this.ui.background.on(_constants.PLAYER_EVENTS.CLICK, this.onPlayerClick.bind(this));\n\n            if (this.config.getYoutubeID() && this.ui.youtubePlayer) {\n                this.ui.youtubePlayer.addEventListener(_constants.MEDIA_EVENTS.timeupdate, this.thisTimeUpdateEvent);\n            }\n            this.ui.HTML5Player.addEventListener(_constants.MEDIA_EVENTS.timeupdate, this.thisTimeUpdateEvent);\n\n            if (this.haveAdTags()) {\n                this.setCurrentAd(0);\n            }\n\n            // if video is not marked as adult, we can run autoplay, or setup autoplay on touch\n            if (this.config.isAutoplay() && !this.config.isAdult()) {\n                if (this.config.isAndroidSDK() || !_userAgent.parsedUA.isMobile) {\n                    this.play();\n                } else if (_userAgent.parsedUA.isMobile) {\n                    // if video is muted - try to play it automatically, it's allowed on devices with iOS >= 10 and android+chrome >= 53\n                    if (this.config.isMute()) {\n                        this.play();\n                    }\n\n                    // setup autoplay on any touch event on page (even if we started muted video)\n                    this.setupTouchAutoplay();\n                }\n            }\n\n            this.emit(_constants.PLAYER_EVENTS.PLAYER_CREATED);\n        }\n\n        /**\n         * Setup TOUCHEND handler on document and parent document, if player is in IFRAME.\n         * Handler will be capturing, so we can disable bubbling in case touch was in player borders.\n         */\n\n    }, {\n        key: 'setupTouchAutoplay',\n        value: function setupTouchAutoplay() {\n            var _this5 = this;\n\n            var touchAutoplay = function touchAutoplay(e) {\n                // prevent from firing TOUCHEND handler on backgroundElement, if this touch was in its borders\n                if (_this5.ui.background.isInBounds(e.target)) {\n                    e.stopPropagation();\n                }\n\n                // if we already playing video - simply remove handlers\n                if (!_this5.state.initial) {\n                    document.body.removeEventListener('touchend', touchAutoplay, true);\n                    try {\n                        if (window.parent && window.parent.document) {\n                            window.parent.document.removeEventListener('touchend', touchAutoplay, true);\n                        }\n                    } catch (e) {\n                        // catch all\n                    }\n                }\n\n                if (_this5.scheduler.isGettingAd()) {\n                    return;\n                }\n\n                // start playing video only of player is in browser viewport\n                if (_this5.ui.isInViewport()) {\n                    document.body.removeEventListener('touchend', touchAutoplay, true);\n                    if (_this5.state.initial) {\n                        _this5.play();\n                    }\n                }\n            };\n\n            console.log('[alfa] setup video_autoplay on touchend');\n            document.body.addEventListener('touchend', touchAutoplay, true);\n            try {\n                if (window.parent && window.parent.document) {\n                    window.parent.document.addEventListener('touchend', touchAutoplay, true);\n                }\n            } catch (e) {\n                console.log('[alfa] Error:', e.toString());\n            }\n        }\n    }, {\n        key: 'getAdTags',\n        value: function getAdTags() {\n            if (!this.vast) {\n                return [];\n            }\n            return this.vast.adTags || [];\n        }\n    }, {\n        key: 'haveAdTags',\n        value: function haveAdTags() {\n            return this.getAdTags().length > 0;\n        }\n    }, {\n        key: 'setCurrentAd',\n        value: function setCurrentAd(number) {\n            var _this6 = this;\n\n            this.iosfwdlimit = void 0;\n            this.currentAd = this.getAdTags()[number];\n            this.currentAdNumber = number;\n            this.notifier.init(this.currentAd);\n            this.ui.hideNonLinear();\n\n            if (this.config.getCompanionConfig() && this.currentAd.companions.length > 0) {\n                // remove current visible companion\n                if (this.currentCompanion) {\n                    this.currentCompanion.remove();\n                }\n\n                this.currentCompanion = _companionArea.CompanionArea.create(this.config.getCompanionConfig(), this.currentAd.companions);\n                if (this.currentCompanion) {\n                    this.notifier.fireByUrl(this.currentCompanion.companionInfo.events[_constants.VAST_EVENTS.CREATIVE_VIEW]);\n                    // set up VAST error notifications\n                    this.currentCompanion.on(_companionArea.EVENTS.VAST_ERROR, function (error) {\n                        return _this6.notifyVastError(error);\n                    });\n                } else {\n                    var error = (0, _errors.createVastError)(_errors.VAST_ERRORS.COMPANION_SUPPORT, 'Not found supported STATIC Companion');\n                    this.notifyVastError(error);\n                }\n            }\n        }\n    }, {\n        key: 'play',\n        value: function play() {\n            console.log('[alfa] Play');\n            this.ui.hideStartButton();\n            this.ui.showShareButton();\n\n            // setup timer to check if autoplay was successfull\n            if (this.state.initial && this.config.isAutoplay()) {\n                this.scheduler.watchForAutoplay();\n            }\n\n            if (this.scheduler.willPlayAdASAP()) {\n                return;\n            }\n            if (!this.ui.mediaSpan) {\n                console.error('Cannot start playing. Player is not created yet.');\n                return;\n            }\n\n            this.ui.mediaSpan.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n\n            this.state.finishedMain = false;\n            if (this.state.initial && (this.config.isAutoGetAds() || _settings.settings.isRotated)) {\n                this.scheduler.onPlayEvent();\n            } else {\n                if (this.state.initial) {\n                    this.scheduler.stage.next(_stage.STAGES.PRE_ROLL);\n                    this.playCurrentAd();\n                } else {\n                    this.ui.videoElementPlay();\n                    this.emit(_constants.MEDIA_EVENTS.play);\n                }\n            }\n            this.ui.showVideoControls();\n            this.state.initial = false;\n        }\n    }, {\n        key: 'pause',\n        value: function pause() {\n            console.log('[alfa] Pause');\n            if (this.ui.videoElement && !this.ui.videoElement.paused) {\n                this.ui.videoElement.pause();\n                this.ui.showStartButton();\n            }\n        }\n    }, {\n        key: 'resume',\n        value: function resume() {\n            console.log('[alfa] Resume');\n            if (this.ui.videoElement && this.ui.videoElement.paused) {\n                this.ui.videoElement.play();\n                this.ui.hideMessage();\n            }\n        }\n    }, {\n        key: 'abortPlaying',\n        value: function abortPlaying() {\n            this.ui.videoElement.pause();\n            this.ui.videoElement.src = '';\n        }\n    }, {\n        key: 'isPaused',\n        value: function isPaused() {\n            return this.ui.videoElement.paused || this.state.initial;\n        }\n    }, {\n        key: 'playVPAIDAd',\n        value: function playVPAIDAd(mediaFile) {\n            if (this.ui.videoMain && !this.ui.videoMain.paused) {\n                this.ui.videoMain.pause();\n            }\n            if (_userAgent.parsedUA.isMobile) {\n                this.ui.showVideoControls();\n            }\n\n            console.log('[alfa] VPAID ad start play');\n\n            this.ui.showVPAIDPlayer();\n            this.ui.VPAIDPlayer.type = mediaFile.type;\n            this.ui.VPAIDPlayer.src = mediaFile.url;\n            this.ui.hideShareButton();\n            this.ui.morphToAdsLayout();\n            //this.ui.VPAIDPlayer.play();\n        }\n    }, {\n        key: 'playCurrentAd',\n        value: function playCurrentAd(videoStage) {\n            this.scheduler.preCachedAd = false;\n\n            if (!videoStage) {\n                videoStage = this.ui.videoElement.currentTime < 1 ? _stage.STAGES.PRE_ROLL : _stage.STAGES.MID_ROLL;\n            }\n\n            console.log('[alfa] playCurrentAd STAGE=' + videoStage);\n\n            // TODO: maybe select mediafile here, instead of in parser\n            var linear = this.currentAd ? this.currentAd.linear : null;\n            var mediaFile = this.currentAd ? this.currentAd.mediaFile : null;\n\n            // if we couldn't find mediaFile, then just skip to main video\n            if (!mediaFile || !mediaFile.url) {\n                this.ui.showHTML5Player();\n\n                this.emit(_constants.PLAYER_EVENTS.AD_FINISHED);\n                if (!this.config.isAdOnly()) {\n                    this.playMainVideo();\n                } else {\n                    this.ui.HTML5Player.removeEventListener(_constants.MEDIA_EVENTS.timeupdate, this.thisTimeUpdateEvent);\n                    this.scheduler.stage.next(_stage.STAGES.BEGIN);\n                }\n                return;\n            }\n\n            this.scheduler.stage.next(videoStage || _stage.STAGES.MID_ROLL);\n\n            // if current ad tag is VPAID then show VPAID player, else show HTML5 player\n            if (mediaFile && mediaFile.isVPAID()) {\n                this.playVPAIDAd(mediaFile);\n            } else {\n                this.playHTML5Ad(linear, mediaFile);\n            }\n        }\n    }, {\n        key: 'playHTML5Ad',\n        value: function playHTML5Ad(linear, mediaFile) {\n            this.ui.showHTML5Player();\n            try {\n                if (this.ui.videoElement.src !== mediaFile.url) {\n                    this.ui.videoElement.src = mediaFile.url;\n                }\n\n                this.ui.hideShareButton();\n                this.ui.morphToAdsLayout();\n                this.ui.showIcons();\n                if (_userAgent.parsedUA.isMobile) this.ui.showVideoControls();\n\n                if (!this.scheduler.stage.isPostRoll()) {\n                    if (!this.config.isAdOnly() || this.config.isVPAID()) {\n                        // determine ad skip offset and show button\n                        var offset = linear.skipOffset || this.config.getSkipOffset() || 0;\n                        this.ui.showSkipButton(offset);\n                    }\n                }\n\n                this.ui.videoElementPlay();\n\n                this.notifyOnce(_constants.VAST_EVENTS.START);\n                this.notifier.fireLinear(_constants.VAST_EVENTS.CREATIVE_VIEW);\n\n                if (this.ui.videoElement.paused && _userAgent.parsedUA.isMobile) {\n                    console.warn('[alfa] Mobile play function fail, show start button');\n                    this.ui.showStartButton();\n                }\n\n                if (!_userAgent.parsedUA.isMobile) {\n                    if (this.ui.getVolume() === 0) {\n                        this.notifier.fireLinear(_constants.VAST_EVENTS.MUTE);\n                    }\n                } else if (this.config.isMute()) {\n                    this.ui.setVolume(0);\n                }\n            } catch (e) {\n                console.log('[alfa] Play Ad exception,', e);\n                this.notifyError((0, _errors.createError)(e));\n                this.playMainVideo();\n            }\n        }\n    }, {\n        key: 'playMainVideo',\n        value: function playMainVideo() {\n            var _this7 = this;\n\n            var src = this.config.getYoutubeID() || this.config.getVideoFile();\n            console.log('[alfa] Play Main video: \\'' + src + '\\'');\n\n            // if we already playing this video - just try to unpause it\n            if (this.scheduler.stage.isVideo() && this.ui.videoMain.src === src) {\n                if (this.ui.videoMain.paused) {\n                    (0, _common.playWhenCan)(this.ui.videoMain);\n                }\n\n                return;\n            }\n\n            this.ui.showHTML5Player();\n            this.ui.hideCloseButton();\n            this.ui.hideSkipButton();\n            this.ui.hideIcons();\n\n            if (this.config.getVideoFile()) {\n                this.ui.morphToNormalLayout();\n                this.state.finishedMain = false;\n\n                this.scheduler.stage.next(_stage.STAGES.MAIN_VIDEO);\n                if (this.config.getYoutubeID()) {\n                    if (!this.isAllowYoutubeWrapper() && this.config.getVideoFile()) {\n                        this.state.finishedMain = true;\n                        this.scheduler.stage.next(_stage.STAGES.END);\n                        this.ui.showEndingScreen();\n                        this.ui.resetTimeAndSeek();\n                        window.location = this.config.getVideoFile();\n                        return;\n                    }\n\n                    console.log('[alfa] Show youtube player');\n                    this.ui.showYoutubePlayer();\n\n                    if (_userAgent.parsedUA.isAndroid && _userAgent.parsedUA.isChrome) {\n                        setTimeout(function () {\n                            if (_this7.ui.youtubePlayer.state !== 1) {\n                                _this7.ui.onPauseEvent();\n                            }\n                        }, 700);\n                    }\n                }\n\n                if (this.ui.videoMain.src !== src) {\n                    this.ui.showLoadingIndicator();\n                    this.ui.videoMain.src = src;\n                }\n\n                // show NonLinear if present and supported\n                if (this.currentAd) {\n                    var nonLinear = this.currentAd.getSupportedNonLinear();\n                    if (nonLinear) {\n                        this.ui.showNonLinear(nonLinear);\n                    } else if (this.currentAd.nonLinears.length > 0) {\n                        this.notifyVastError((0, _errors.createVastError)(_errors.VAST_ERRORS.NONLINEAR_SUPPORT, 'Couldn’t find NonLinear resource with supported type.'));\n                    }\n                }\n\n                // set full volume in player on mobile devices, so volume can be regulated by hardware buttons\n                if (this.config.isMute() && _userAgent.parsedUA.isMobile && !this.config.isAutoplay()) {\n                    this.ui.setVolume(1);\n                }\n\n                try {\n                    (0, _common.playWhenCan)(this.ui.videoMain, function () {\n                        console.log('[alfa] Playing main video');\n                    }, function (error) {\n                        if (_this7.ui.videoMain.src !== src) {\n                            console.log('[alfa] Error initiating main video playback, invalid SRC: ', error);\n                            _this7.playMainVideo();\n                        } else if (_this7.ui.videoMain.paused) {\n                            console.log('[alfa] Error initiating main video playback: ', error);\n                            _this7.ui.showStartButton();\n                        }\n                    });\n                    this.ui.showShareButton();\n                } catch (error) {\n                    console.log('[alfa] Error initiating main video playback: ', error);\n                    this.ui.showStartButton();\n                }\n\n                if (this.mainVideoTime) {\n                    this.ui.seekToTime(this.mainVideoTime);\n                }\n            } else {\n                console.log('[alfa] No main video file');\n                this.scheduler.stage.next(_stage.STAGES.BEGIN);\n                this.ui.hideLoadingIndicator();\n                this.ui.videoMain.pause();\n                this.ui.hideShareButton();\n                //this.ui.currentTime.innerHTML = '';\n                this.ui.mediaSpan.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n                this.ui.showMessage('No video');\n                this.ui.disablePlay();\n            }\n        }\n    }, {\n        key: 'showWaitingForAd',\n        value: function showWaitingForAd() {\n            console.log('[alfa] showWaitingForAd');\n            this.ui.morphToWaitingAdsLayout();\n        }\n    }, {\n        key: 'hideWaitingForAd',\n        value: function hideWaitingForAd() {\n            this.ui.hideLoadingIndicator();\n            this.ui.morphToNormalLayout();\n        }\n    }, {\n        key: 'getPlayerSize',\n        value: function getPlayerSize() {\n            return this.ui.background.size;\n        }\n    }, {\n        key: 'shareCurrentVideo',\n        value: function shareCurrentVideo() {\n            console.log('[alfa] share video');\n            var shareUrl = void 0;\n\n            // TODO: check for real domain\n            // if current video is shared from our tinyurl page that use our PUI\n            if (document.URL.indexOf('OURTINYURL') >= 0) {\n                shareUrl = this.config.getShareUrl(DEFAULT_PUI);\n            } else {\n                shareUrl = this.config.getShareUrl();\n            }\n\n            this.ui.showShareDialog(shareUrl);\n        }\n    }, {\n        key: 'getShareLink',\n        value: function getShareLink(callback) {\n            var queries = this.config.getShareUrl();\n            (0, _networking.getShortURL)(queries, callback);\n        }\n    }, {\n        key: 'showAd',\n        value: function showAd() {\n            window.open(this.config.getShowAdUrl(), '_blank');\n        }\n    }, {\n        key: 'closePlayer',\n        value: function closePlayer() {\n            this.ui.background.destroy();\n        }\n    }, {\n        key: 'isAllowYoutubeWrapper',\n        value: function isAllowYoutubeWrapper() {\n            return !_userAgent.parsedUA.isMobile || _userAgent.parsedUA.isFirefox || _userAgent.parsedUA.isAndroid && _userAgent.parsedUA.isChrome && !_userAgent.parsedUA.isFacebook;\n        }\n    }, {\n        key: 'onNonLinearView',\n        value: function onNonLinearView() {\n            this.notifier.fireNonLinear(_constants.VAST_EVENTS.CREATIVE_VIEW);\n        }\n    }, {\n        key: 'onNonLinearContentClick',\n        value: function onNonLinearContentClick(nonLinear) {\n            this.pause();\n            if (nonLinear.clickTracking) {\n                this.notifier.fireByUrl(nonLinear.clickTracking);\n            }\n        }\n    }, {\n        key: 'onNonLinearClose',\n        value: function onNonLinearClose() {\n            this.notifier.fireNonLinear(_constants.VAST_EVENTS.CLOSE);\n        }\n    }, {\n        key: 'onIconView',\n        value: function onIconView(icon) {\n            if (icon && icon.viewTracking) {\n                this.notifier.fireByUrl(icon.viewTracking);\n            }\n        }\n    }, {\n        key: 'onIconClick',\n        value: function onIconClick(icon) {\n            if (!icon) {\n                return;\n            }\n\n            if (icon.clickTracking) {\n                this.notifier.fireByUrl(icon.clickTracking);\n            }\n            if (icon.clickThrough) {\n                this.pause();\n                window.open(icon.clickThrough, '_blank');\n            }\n        }\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this.ui.videoElement.currentTime;\n        },\n        set: function set(value) {\n            if (!this.scheduler.stage.isAd()) this.ui.videoElement.currentTime = value;\n        }\n    }]);\n\n    return WebAlfaPlayer;\n}(_eventSystem2.default);\n\n// @Events handlers\n\n\nWebAlfaPlayer.prototype.onTimeupdateEvent = function () {\n    var currentTime = this.ui.videoElement.currentTime;\n    var duration = this.ui.videoElement.duration;\n\n    var time = +new Date();\n    if (!this.prevTimeNotify || time - this.prevTimeNotify > 999) {\n        this.prevTimeNotify = time;\n        this.emit(_constants.MEDIA_EVENTS.timeupdate, currentTime, duration);\n    }\n\n    // notify scheduler about current playing time\n    this.scheduler.onTimeupdateEvent(currentTime, duration);\n\n    if (this.scheduler.stage.isVideo()) {\n        this.mainVideoTime = currentTime;\n    } else if (this.scheduler.stage.isAd()) {\n        if (currentTime > 0) {\n            this.notifyImpressions();\n        }\n\n        // check if we need to fire 'progress' tracking event\n        if (this.currentAd.hasProgressEvents()) {\n            this.notifier.fireProgress(currentTime);\n        }\n\n        if (_userAgent.parsedUA.isIOSSmall) {\n            if (this.previousTime !== void 0 && currentTime - this.previousTime > Math.log(duration * duration + duration * 2 + 10) / 5) {\n                console.log('[alfa] fwd seek catched');\n                this.iosfwdlimit = currentTime / duration;\n                this.previousTime = currentTime;\n                return;\n            } else if (this.previousTime > currentTime) {//seek backward\n\n            }\n\n            this.previousTime = currentTime;\n            if (currentTime > 0.75 * duration) {\n                if ((this.iosfwdlimit !== void 0 ? this.iosfwdlimit : 0) < 0.75) if (currentTime < duration) this.notifyOnce(_constants.VAST_EVENTS.THIRD_QUARTILE);\n            } else if (currentTime > 0.50 * duration) {\n                if ((this.iosfwdlimit !== void 0 ? this.iosfwdlimit : 0) < 0.5) this.notifyOnce(_constants.VAST_EVENTS.MIDPOINT);\n            } else if (currentTime > 0.25 * duration) {\n                if ((this.iosfwdlimit !== void 0 ? this.iosfwdlimit : 0) < 0.25) this.notifyOnce(_constants.VAST_EVENTS.FIRST_QUARTILE);\n            }\n        } else {\n            if (currentTime > 0.75 * duration) {\n                if (currentTime < duration) this.notifyOnce(_constants.VAST_EVENTS.THIRD_QUARTILE);\n            } else if (currentTime > 0.50 * duration) {\n                this.notifyOnce(_constants.VAST_EVENTS.MIDPOINT);\n            } else if (currentTime > 0.25 * duration) {\n                this.notifyOnce(_constants.VAST_EVENTS.FIRST_QUARTILE);\n            }\n        }\n    }\n};\n\nWebAlfaPlayer.prototype.onPauseEvent = function () {\n    if (this.scheduler.stage.isAd() && this.ui.videoElement.currentTime !== this.ui.videoElement.duration) {\n        this.notifier.fireLinear(_constants.VAST_EVENTS.PAUSE);\n    }\n};\n\nWebAlfaPlayer.prototype.onPlayEvent = function () {\n    this.ui.hideMessage();\n    this.ui.hideLoadingIndicator();\n    if (this.scheduler.stage.isAd()) {\n        this.ui.hideShareButton();\n        if (this.ui.videoElement.currentTime > 0) {\n            this.notifier.fireLinear(_constants.VAST_EVENTS.RESUME);\n        }\n    }\n};\n\nWebAlfaPlayer.prototype.onPlayerClick = function (e) {\n    //e.preventDefault(); // DO NOT TOUCH! iOS bug\n    if (this.__playerClickTimeStamp !== 0 && this.__playerClickTimeStamp === e.timeStamp) return;\n    this.__playerClickTimeStamp = e.timeStamp;\n\n    // don't do anything on initial stage\n    if (this.scheduler.stage.isBegin()) {\n        return;\n    }\n\n    // catch clicks only on eligible elements\n    if (!this.ui.isValidForClickThrough(e.target)) {\n        return;\n    }\n\n    console.log('[alfa] Click on ClickThrough element');\n    if (this.scheduler.stage.isAd()) {\n        if (this.isPaused() && !this.config.isAdOnly()) {\n            this.play();\n        } else {\n            this.onClickThrough(this.currentAd.videoClickThrough, '', true);\n        }\n    } else {\n        this.onPlayerClickMain();\n    }\n};\n\nWebAlfaPlayer.prototype.onClickThrough = function (url, id, playerHandles) {\n    var _this8 = this;\n\n    url = url || this.currentAd.videoClickThrough;\n    if (url) {\n        this.notifier.fireByUrl(this.currentAd.getVideoClickTrackings());\n        this.pause();\n\n        // if player in ROTATED mode, then resume playing after 10 seconds (MWA-554 + MWA-556)\n        if (_settings.settings.isRotated) {\n            setTimeout(function () {\n                if (_this8.isPaused()) {\n                    _this8.resume();\n                }\n            }, 10000);\n        }\n    }\n\n    if (!this.config.isVPAID() && !this.config.isAndroidSDK() && playerHandles && url) {\n        window.open(url, '_blank');\n    }\n\n    this.emit(_constants.PLAYER_EVENTS.AD_CLICK_THROUGH, url, id, playerHandles);\n};\n\nWebAlfaPlayer.prototype.onPlayerClickMain = function () {\n    if (this.ui.isVideoControlVisible() || this.config.isNoUI()) {\n        this.ui.showVideoControls();\n        if (!this.state.finishedMain && !this.ui.videoElement.error) {\n            if (this.isPaused()) this.play();else this.pause();\n        }\n    } else {\n        this.ui.showVideoControls();\n    }\n};\n\nWebAlfaPlayer.prototype.onPlayFinished = function () {\n    console.log('[alfa] play finished \"' + this.scheduler.stage.current + '\"');\n    if (this.ui.isSeekingNow) return;\n\n    if (this.scheduler.stage.isAd()) {\n        this.scheduler.onAdFinished();\n\n        if (_userAgent.parsedUA.isIOSSmall && !this.notifier.wasFired(_constants.VAST_EVENTS.THIRD_QUARTILE)) {\n            console.log('[alfa] send skip event');\n            this.notifier.markAsFired(_constants.VAST_EVENTS.THIRD_QUARTILE);\n            this.notifier.markAsFired(_constants.VAST_EVENTS.MIDPOINT);\n            this.notifier.markAsFired(_constants.VAST_EVENTS.FIRST_QUARTILE);\n\n            this.iosfwdlimit = void 0;\n            this.notifier.fireLinear(_constants.VAST_EVENTS.SKIP);\n            this.emit(_constants.PLAYER_EVENTS.AD_SKIPPED);\n            if (_settings.settings.isRotated) {\n                this.scheduler.playNextAd();\n            } else {\n                this.playMainVideo();\n            }\n            return;\n        }\n\n        this.notifyOnce(_constants.VAST_EVENTS.COMPLETE);\n        this.emit(_constants.PLAYER_EVENTS.AD_FINISHED);\n        this.ui.hideVideoControls(true);\n        if (this.config.isAdOnly() && !_settings.settings.isRotated) {\n            this.scheduler.stage.next(_stage.STAGES.BEGIN);\n            return;\n        }\n        if (_settings.settings.isRotated) {\n            this.scheduler.playNextAd();\n            return;\n        }\n        if (this.scheduler.stage.isPreRoll()) {\n            if (VAST_CLOSE_AFTER_SHOW_ONLOAD) {\n                this.playMainVideo();\n            }\n            return;\n        } else if (this.scheduler.stage.isMidRoll()) {\n            if (this.config.getVideoFile() && VAST_CLOSE_AFTER_SHOW_MIDROLL) {\n                this.playMainVideo();\n            }\n            return;\n        }\n    }\n\n    if (this.scheduler.stage.isVideo()) {\n        this.state.finishedMain = true;\n        this.scheduler.stage.next(_stage.STAGES.END);\n        this.ui.videoElement.pause(); // IE does not pause video on end\n\n        this.ui.showEndingScreen();\n        this.scheduler.onMainFinishedEvent();\n    }\n};\n\nWebAlfaPlayer.prototype.onEnterFullscreen = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(_constants.VAST_EVENTS.FULLSCREEN);\n    }\n};\n\nWebAlfaPlayer.prototype.onExitFullscreen = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(_constants.VAST_EVENTS.EXIT_FULLSCREEN);\n    }\n};\n\nWebAlfaPlayer.prototype.onMute = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(_constants.VAST_EVENTS.MUTE);\n    }\n};\n\nWebAlfaPlayer.prototype.onUnmute = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(_constants.VAST_EVENTS.UNMUTE);\n    }\n};\n\nWebAlfaPlayer.prototype.onVideoError = function (passedError) {\n    // do nothing if nothing played\n    if (this.scheduler.stage.isBegin()) {\n        return;\n    }\n\n    // if passed error is just an 'Event', then try to get error from VIDEO element\n    var error = passedError;\n    if (!passedError || passedError instanceof Event && this.ui.videoElement.error) {\n        error = this.ui.videoElement.error;\n    }\n\n    // current media error\n    var errorCode = error && error.code || 0;\n    var errorMessage = error && error.message || '';\n    console.error('[alfa] video error', error);\n\n    // emit error to external listeners\n    this.emit(_constants.PLAYER_EVENTS.VIDEO_ERROR, error);\n\n    if (this.scheduler.stage.isAd()) {\n        console.log('[alfa] cannot play ads file:', this.currentAd && this.currentAd.mediaFile && this.currentAd.mediaFile.url || '');\n\n        if (error instanceof MediaError) {\n            // if error is MediaError then convert it to appropriate Linear VastError\n            switch (errorCode) {\n                case _constants.MEDIA_ERROR.MEDIA_ERR_ABORTED:\n                    this.notifyVastError((0, _errors.createVastError)(_errors.VAST_ERRORS.LINEAR_TIMEOUT, errorMessage));\n                    break;\n\n                case _constants.MEDIA_ERROR.MEDIA_ERR_NETWORK:\n                    this.notifyVastError((0, _errors.createVastError)(_errors.VAST_ERRORS.LINEAR_NOT_FOUND, errorMessage));\n                    break;\n\n                case _constants.MEDIA_ERROR.MEDIA_ERR_DECODE:\n                case _constants.MEDIA_ERROR.MEDIA_ERR_SRC_NOT_SUPPORTED:\n                    this.notifyVastError((0, _errors.createVastError)(_errors.VAST_ERRORS.LINEAR_NOT_DISPLAYING, errorMessage));\n                    break;\n\n                default:\n                    this.notifyVastError((0, _errors.createVastError)(_errors.VAST_ERRORS.LINEAR_ERROR, errorMessage));\n            }\n        } else if (error instanceof _errors.VastError) {\n            // if error is already VastError, then simply send it to server\n            this.notifyVastError(error);\n        }\n\n        // try to recover from error\n        if (_settings.settings.isRotated) {\n            this.scheduler.playNextAd();\n        } else if (this.config.hasPassback()) {\n            this.scheduler.tryBackupVast();\n        } else {\n            this.playMainVideo();\n        }\n    } else {\n        // if main video can't be played, try to pass it\n        if (this.mainVideoTime === 0 && this.config.getVideoFile()) {\n            window.location = this.config.getVideoFile();\n            return;\n        }\n\n        this.ui.videoElement.pause();\n        this.ui.hideShareButton();\n        if (error && error.code === _constants.MEDIA_ERROR.MEDIA_ERR_NETWORK) {\n            this.ui.showError('Network error');\n            this.ui.showRestartButton();\n        } else {\n            this.ui.showError('Cannot play video file');\n        }\n        console.log('[alfa] cannot play file: ' + this.config.getVideoFile());\n    }\n};\n\nWebAlfaPlayer.prototype.onSkipAdClick = function () {\n    this.notifier.fireLinear(_constants.VAST_EVENTS.SKIP);\n\n    // if current ad is not the last at current pod\n    if (this.currentAdNumber < this.getAdTags().length - 1) {\n        console.log('[alfa] Play next AD from POD');\n        this.currentAdNumber++;\n        this.setCurrentAd(this.currentAdNumber);\n        this.playCurrentAd();\n    } else {\n        if (this.config.isVPAID()) {\n            this.ui.videoElement.pause();\n            this.scheduler.stage.next(_stage.STAGES.BEGIN);\n        } else {\n            this.scheduler.onAdSkipped();\n\n            if (_settings.settings.isRotated) {\n                this.scheduler.playNextAd();\n            } else {\n                this.playMainVideo();\n                this.ui.hideVideoControls(true);\n            }\n        }\n    }\n    this.emit(_constants.PLAYER_EVENTS.AD_SKIPPED);\n};\n\nWebAlfaPlayer.prototype.onCloseClick = function () {\n    console.log('[alfa] close click', this);\n    this.playMainVideo();\n};\n\nWebAlfaPlayer.prototype.onPrerollAdFinished = function () {\n    console.log('[alfa] preroll finished');\n};\n\nvar PLAYER_VERSION = exports.PLAYER_VERSION = \"2.8.15\" || 'dev';\nvar PLAYER_COMMIT = exports.PLAYER_COMMIT = \"\" || '';\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.FLAGS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _url2 = __webpack_require__(12);\n\nvar _networking = __webpack_require__(9);\n\nvar _settings = __webpack_require__(3);\n\nvar _constants = __webpack_require__(2);\n\nvar _flags = __webpack_require__(27);\n\nvar _stage = __webpack_require__(14);\n\nvar _errors = __webpack_require__(5);\n\nvar _data = __webpack_require__(13);\n\nvar _styles = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TIMEOUT_BETWEEN_BACKUPS = 10 * 60 * 60 * 1000,\n    // ms, 10 hours\nTIMEOUT_BETWEEN_ADS = 10 * 60 * 1000,\n    // ms, 10 minutes\nTIMEOUT_REQUEST = 3 * 1000,\n    // ms, 3 seconds\nTIMEOUT_BETWEEN_REQUESTS = 2 * 1000,\n    // ms, 2 seconds\nTIMEOUT_CHECK_AUTOPLAY = 1 * 1000,\n    // ms, 1 seconds\nSHOW_AD_ON_START = true,\n    SHOW_AD_ON_VIDEO_PLAY = true,\n    AD_REQUESTS_LIMIT = 500;\n\nvar FLAGS = exports.FLAGS = {\n    INITIAL: 'initial',\n    GETTING_AD: 'getting_ad',\n    PARSING_VAST: 'parsing_vast',\n    PLAY_AD_ASAP: 'play_ad_asap',\n    HAVE_AD_IN_CACHE: 'have_ad_in_cache'\n};\n\nvar Scheduler = function () {\n    function Scheduler(wap) {\n        _classCallCheck(this, Scheduler);\n\n        this.wap = wap;\n\n        this.stage = new _stage.Stage();\n\n        this._flags = new _flags.Flags(FLAGS.INITIAL); // start with INITIAL state\n        this.preCachedAd = false;\n\n        this.timeBackupLastTried = 0;\n        this.timeLastAdRequest = 0;\n        this.timeLastAdFinished = 0;\n        this.adCount = 0;\n    }\n\n    _createClass(Scheduler, [{\n        key: 'isGettingAd',\n        value: function isGettingAd() {\n            return this._flags.has(FLAGS.GETTING_AD);\n        }\n    }, {\n        key: 'willPlayAdASAP',\n        value: function willPlayAdASAP() {\n            return this._flags.has(FLAGS.PLAY_AD_ASAP);\n        }\n    }, {\n        key: 'generateVastTagUrl',\n        value: function generateVastTagUrl() {\n            return this.wap.config.generateVastTagUrl(this.wap.getPlayerSize());\n        }\n    }, {\n        key: 'precacheAd',\n        value: function precacheAd() {\n            if (SHOW_AD_ON_START && this.wap.config.isAutoGetAds()) {\n                var url = this.generateVastTagUrl();\n                this.requestAd(url);\n            }\n        }\n    }, {\n        key: 'playNextAd',\n        value: function playNextAd() {\n            if (this.preCachedAd) {\n                this.wap.playCurrentAd();\n                return;\n            }\n\n            this.wap.showWaitingForAd();\n\n            this._flags.include(FLAGS.PLAY_AD_ASAP);\n            if (this._flags.has(FLAGS.GETTING_AD)) {\n                return;\n            }\n\n            this.stage.next(_stage.STAGES.BEGIN);\n            this.wap.abortPlaying();\n\n            var url = this.generateVastTagUrl();\n            this.requestAd(url);\n        }\n\n        // TODO: refactor this method\n\n    }, {\n        key: 'tryBackupVast',\n        value: function tryBackupVast() {\n            var _this = this;\n\n            console.log('[alfa] try backup vast url');\n\n            this._flags.include(FLAGS.PLAY_AD_ASAP, FLAGS.GETTING_AD);\n            var config = this.wap.config;\n\n            if (!_settings.settings.isRotated) {\n                var currTime = +new Date();\n\n                var passbackURL = config.getPassback();\n                var passbackJS = config.getPassbackJS();\n                var passbackHTML = config.getPassbackHTML();\n\n                if (passbackURL && this.isTimeoutBetweenBackupsExpired(currTime)) {\n                    this.timeBackupLastTried = currTime;\n                    this.requestAd(passbackURL);\n                    return;\n                } else if (passbackHTML) {\n                    var parentElem = config.getParentElement() || document.body;\n                    if (parentElem) {\n                        injectPassbackHTML(parentElem, passbackHTML);\n                        return;\n                    }\n                } else if (passbackJS) {\n                    var _parentElem = config.getParentElement() || document.body;\n                    if (_parentElem) {\n                        injectPassbackJS(_parentElem, passbackJS);\n                        return;\n                    }\n                }\n            } else if (this.adCount < AD_REQUESTS_LIMIT) {\n                setTimeout(function () {\n                    var url = _this.generateVastTagUrl();\n                    _this.requestAd(url);\n                }, TIMEOUT_BETWEEN_REQUESTS);\n                return;\n            }\n\n            // if passback vast is not found, try to play main video, if it's not playing already\n            if (this._flags.has(FLAGS.PLAY_AD_ASAP) && !this.stage.isVideo()) {\n                if (this.shouldPlayMainVideo()) {\n                    this.wap.playMainVideo();\n                } else {\n                    this.wap.ui.showError('Cannot play ad file');\n                }\n            }\n\n            this._flags.exclude(FLAGS.INITIAL, FLAGS.GETTING_AD, FLAGS.PLAY_AD_ASAP);\n\n            this.wap.emit(_constants.PLAYER_EVENTS.EMPTY_ADS_LIST);\n        }\n    }, {\n        key: 'shouldPlayAd',\n        value: function shouldPlayAd(currTime) {\n            // if we already playing AD, do not start another one\n            if (this.stage.isAd()) {\n                return false;\n            }\n\n            return this.wap.config.isAutoGetAds() && this.isTimeoutBetweenAdsExpired(currTime) && this.isAdRequestTimeExpired(currTime);\n        }\n    }, {\n        key: 'shouldPlayNextAd',\n        value: function shouldPlayNextAd(currTime, currentVideoTime, duration) {\n            // we should request second ad only for ROTATED build\n            if (!_settings.settings.isRotated) {\n                return false;\n            }\n\n            if (this.preCachedAd || this._flags.has(FLAGS.GETTING_AD, FLAGS.PARSING_VAST)) {\n                return false;\n            }\n\n            if (this.stage.isAd()) {\n                return !this.preCachedAd && currentVideoTime > 0 && duration > 0 && duration - currentVideoTime < 2.0;\n            } else {\n                return this.isAdRequestTimeExpired(currTime);\n            }\n        }\n    }, {\n        key: 'shouldPlayMainVideo',\n        value: function shouldPlayMainVideo() {\n            return !this.wap.config.isAdOnly();\n        }\n    }, {\n        key: 'isAdRequestTimeExpired',\n        value: function isAdRequestTimeExpired(time) {\n            return time - this.timeLastAdRequest > TIMEOUT_BETWEEN_REQUESTS;\n        }\n    }, {\n        key: 'isTimeoutBetweenAdsExpired',\n        value: function isTimeoutBetweenAdsExpired(time) {\n            return time - this.timeLastAdFinished > TIMEOUT_BETWEEN_ADS;\n        }\n    }, {\n        key: 'isTimeoutBetweenBackupsExpired',\n        value: function isTimeoutBetweenBackupsExpired(time) {\n            return time - this.timeBackupLastTried > TIMEOUT_BETWEEN_BACKUPS;\n        }\n    }, {\n        key: 'onTimeupdateEvent',\n        value: function onTimeupdateEvent(currentVideoTime, duration) {\n            if (this.adCount >= AD_REQUESTS_LIMIT) {\n                return;\n            }\n\n            var currTime = +new Date();\n            if (SHOW_AD_ON_VIDEO_PLAY && this.shouldPlayAd(currTime)) {\n                console.log('[alfa] We should play FIRST ad');\n\n                //this.wap.ui.videoElement.pause();\n                this._flags.include(FLAGS.PLAY_AD_ASAP);\n                //this.wap.showWaitingForAd();\n\n                var url = this.generateVastTagUrl();\n                this.requestAd(url);\n            } else if (this.shouldPlayNextAd(currTime, currentVideoTime, duration)) {\n                console.log('[alfa] We should play NEXT ad');\n\n                this.preCachedAd = false;\n                this._flags.include(FLAGS.PLAY_AD_ASAP);\n\n                var _url = this.generateVastTagUrl();\n                this.requestAd(_url);\n            }\n        }\n    }, {\n        key: 'onPlayEvent',\n        value: function onPlayEvent() {\n            // play main video, if we reached AD count limit\n            if (this.adCount >= AD_REQUESTS_LIMIT) {\n                this.wap.playMainVideo();\n                return;\n            }\n\n            if (this._flags.has(FLAGS.INITIAL) && (this.wap.config.isAutoGetAds() || _settings.settings.isRotated) && SHOW_AD_ON_START) {\n                console.log('[alfa] Scheduler onPlayEvent, initialState');\n\n                if (this._flags.has(FLAGS.GETTING_AD)) {\n                    this._flags.include(FLAGS.PLAY_AD_ASAP);\n                    this.wap.showWaitingForAd();\n                } else if (this.wap.haveAdTags()) {\n                    this.wap.playCurrentAd(_stage.STAGES.PRE_ROLL);\n                } else {\n                    console.log('[alfa] doGetAd onPlayEvent');\n                    this.wap.showWaitingForAd();\n                    this._flags.include(FLAGS.PLAY_AD_ASAP);\n\n                    var url = this.generateVastTagUrl();\n                    this.requestAd(url);\n                }\n            } else {\n                if (_settings.settings.isRotated) {\n                    this.stage.next(this.stage.previous);\n\n                    if (this._flags.has(FLAGS.GETTING_AD)) {\n                        this._flags.include(FLAGS.PLAY_AD_ASAP);\n                        return;\n                    }\n                }\n                if (this.stage.isAd()) {\n                    this.wap.playCurrentAd();\n                } else {\n                    this.wap.playMainVideo();\n                }\n            }\n\n            this._flags.exclude(FLAGS.INITIAL);\n        }\n    }, {\n        key: 'onAdFinished',\n        value: function onAdFinished() {\n            this.timeLastAdFinished = +new Date();\n        }\n    }, {\n        key: 'onAdSkipped',\n        value: function onAdSkipped() {\n            this.timeLastAdFinished = +new Date();\n        }\n    }, {\n        key: 'requestAd',\n        value: function requestAd(url) {\n            var _this2 = this;\n\n            console.log('[alfa] Scheduler.requestAd', url);\n\n            this._flags.include(FLAGS.GETTING_AD);\n            this.timeLastAdRequest = +new Date();\n            this.adCount++;\n\n            var requestOptions = {\n                timeout: TIMEOUT_REQUEST,\n                headers: { 'Content-Type': 'text/plain' }\n            };\n            (0, _networking.doGet)(url, requestOptions, function (error, res) {\n                console.log('[alfa] Scheduler.requestAd finished in ' + (+new Date() - _this2.timeLastAdRequest) / 1000 + 's', url);\n\n                // if main video already finished, don't try to play AD\n                if (_this2.wap.state.finishedMain) {\n                    _this2._flags.exclude(FLAGS.PLAY_AD_ASAP);\n                    return;\n                }\n\n                if (error || !res || !(res.length > 0) || !_data.Vast.looksLikeVast(res)) {\n                    // send error report to server\n                    _this2.sendNoAdsError(error, res);\n\n                    console.log('[alfa] No Ad available', res);\n                    _this2.wap.emit(_constants.PLAYER_EVENTS.EMPTY_ADS_LIST);\n                    _this2.tryBackupVast();\n                    return;\n                }\n\n                _this2._flags.exclude(FLAGS.GETTING_AD);\n                _this2._flags.include(FLAGS.PARSING_VAST);\n\n                _this2.wap.initVast(res, function () {\n                    _this2._flags.exclude(FLAGS.PARSING_VAST);\n\n                    if (_this2.wap.haveAdTags()) {\n                        _this2.wap.setCurrentAd(0);\n\n                        var firstAdTag = _this2.wap.getAdTags()[0];\n                        if (firstAdTag.mediaFile) {\n                            if (_this2._flags.has(FLAGS.PLAY_AD_ASAP) && (!_settings.settings.isRotated || _this2.wap.isPaused() || _this2._flags.has(FLAGS.INITIAL))) {\n                                _this2._flags.exclude(FLAGS.PLAY_AD_ASAP);\n                                _this2.wap.playCurrentAd();\n                            } else {\n                                _this2.preCachedAd = true;\n                            }\n\n                            // report successful ad acquiring\n                            if (_settings.settings.isDebug && _settings.settings.isRotated) {\n                                _this2.wap.notifyInfo('rotated_ad');\n                            }\n                        } else {\n                            _this2.wap.playMainVideo();\n                        }\n                    } else {\n                        _this2.wap.playMainVideo();\n                    }\n                });\n            });\n        }\n    }, {\n        key: 'onMainFinishedEvent',\n        value: function onMainFinishedEvent() {\n            /*\n             if(this.postBreak) {\n             this.wap.vastData = this.postBreak.vastData;\n             this.wap.setCurrentAd(0);\n             this.wap.playCurrentAd(STAGES.POST_ROLL);\n             utils.notifyUrls(this.postBreak.events['breakstart']);\n             }\n             */\n        }\n    }, {\n        key: 'sendNoAdsError',\n        value: function sendNoAdsError(requestError, responseData) {\n            var message = void 0;\n            if (requestError) {\n                message = 'Error in getting VAST: ' + requestError && requestError.message || requestError;\n            } else if (responseData && responseData.length > 0 && !_data.Vast.looksLikeVast(responseData)) {\n                message = 'Response data doesn\\'t looks like VAST: \"' + responseData.slice(0, 100) + '\"';\n            } else {\n                message = 'Empty VAST response';\n            }\n\n            if (this.wap.config.hasPassback()) {\n                message += ' >> Trying passback';\n            }\n\n            var error = new _errors.NoAdsError(message);\n            this.wap.notifyError(error);\n        }\n\n        /**\n         * Check if ad was successfully started by autoplay - report error otherwise\n         */\n\n    }, {\n        key: 'watchForAutoplay',\n        value: function watchForAutoplay() {\n            var _this3 = this;\n\n            var checkAutoplay = function checkAutoplay() {\n                if (_this3.wap.state.initial) {\n                    _this3.wap.notifyError((0, _errors.createError)('Autoplay is not working'));\n                }\n            };\n\n            setTimeout(checkAutoplay, TIMEOUT_CHECK_AUTOPLAY);\n        }\n    }]);\n\n    return Scheduler;\n}();\n\nexports.default = Scheduler;\n\n\nfunction injectPassbackHTML(rootElement, passbackURL) {\n    if (!rootElement) {\n        return;\n    }\n\n    // remove all elements from 'rootElement'\n    while (rootElement.firstChild) {\n        rootElement.removeChild(rootElement.firstChild);\n    }\n\n    // create FRAME and inject it to page\n    var frame = document.createElement('iframe');\n    frame.src = passbackURL;\n    frame.style.cssText = _styles.STYLES.PASSBACK_HTML_IFRAME;\n    frame.scrolling = 'no';\n    rootElement.appendChild(frame);\n}\n\nfunction injectPassbackJS(rootElement, passbackJS) {\n    if (!rootElement) {\n        return;\n    }\n\n    // remove all elements from 'rootElement'\n    while (rootElement.firstChild) {\n        rootElement.removeChild(rootElement.firstChild);\n    }\n\n    // if 'passbackJS' is element already, then just add it to 'rootElement'\n    if (typeof passbackJS === 'object') {\n        rootElement.appendChild(passbackJS);\n        return;\n    }\n\n    // ... else, create 'script' element and include JS source in it\n    var jsNode = document.createElement('script');\n    if ((0, _url2.isUrl)(passbackJS)) {\n        jsNode.src = passbackJS;\n    } else {\n        // if JS source is enclosed in <script> tags, then remove them\n        if (passbackJS.substr(0, 7) === '<script') {\n            passbackJS = passbackJS.replace(/<\\s*\\/?\\s*script\\s*.*?>/g, '');\n        }\n        jsNode.innerHTML = passbackJS;\n    }\n    rootElement.appendChild(jsNode);\n}\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Flags = exports.Flags = function () {\n    function Flags() {\n        _classCallCheck(this, Flags);\n\n        this.__flags = {};\n        this.include.apply(this, arguments);\n    }\n\n    _createClass(Flags, [{\n        key: \"include\",\n        value: function include() {\n            var _this = this;\n\n            for (var _len = arguments.length, flags = Array(_len), _key = 0; _key < _len; _key++) {\n                flags[_key] = arguments[_key];\n            }\n\n            flags.forEach(function (flag) {\n                if (flag != null && !_this.has(flag)) {\n                    _this.__flags[flag] = true;\n                }\n            });\n        }\n    }, {\n        key: \"exclude\",\n        value: function exclude() {\n            var _this2 = this;\n\n            for (var _len2 = arguments.length, flags = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                flags[_key2] = arguments[_key2];\n            }\n\n            flags.forEach(function (flag) {\n                if (flag != null && _this2.has(flag)) {\n                    _this2.__flags[flag] = false;\n                }\n            });\n        }\n    }, {\n        key: \"has\",\n        value: function has() {\n            for (var _len3 = arguments.length, flags = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                flags[_key3] = arguments[_key3];\n            }\n\n            for (var i = 0; i < flags.length; i++) {\n                var flag = flags[i];\n                if (flag != null && this.__flags[flag]) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }]);\n\n    return Flags;\n}();\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"@-webkit-keyframes alfa-spin{to{-webkit-transform:rotate(1turn)}}@keyframes alfa-spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.alfa-root{background:#000}.alfa-root div{-webkit-tap-highlight-color:transparent}.alfa-root:fullscreen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-root:-ms-fullscreen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-root:-moz-full-screen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-root:-webkit-full-screen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-fullscreen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-main-background{position:absolute}.alfa-video-background{position:fixed;z-index:2147483647;top:0;left:0;right:0;bottom:0}.alfa-media-span{z-index:0}.alfa-icons-container,.alfa-media-span{position:absolute;top:0;left:0;width:100%;height:100%}.alfa-icons-container{z-index:1}.alfa-icons-container .alfa-icon{position:absolute}.alfa-icons-container .alfa-icon img{width:100%;height:100%}.alfa-clickable{cursor:pointer}.alfa-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.alfa-ctrl-button-icon{background-position:50% 50%;background-size:20px 20px;background-repeat:no-repeat;cursor:pointer;width:24px;margin:0 2px}.alfa_fillparent{position:absolute;left:0;top:0;width:100%;height:100%}.alfa-video-poster{left:0;top:0;bottom:0;right:0;background-size:contain;background-position:50% 50%}.alfa-loading-indicator,.alfa-video-poster{position:absolute;background-repeat:no-repeat}.alfa-loading-indicator{-webkit-animation:alfa-spin 3s linear infinite;animation:alfa-spin 4s linear infinite;pointer-events:none;top:50%;left:50%;margin-top:-25px;margin-left:-25px;width:50px;height:50px;background-size:50px 50px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABUFBMVEUAAAD///////////87Ozv9/f3////////x8fH///9lZWU8NjZ9fX3+/v42NjbX1dU3Nzfu7u42NjZDQ0NGRUVjY2N2dnbe3t45MTD+/v5UVFROTU3///+EhIRFRUVKSkpTVVWwsLC9vb3Kyso3Nzc9PT1xcXFubm5bXFyfn5+urq4+Pj65ubl+goKoqKjExMSbm5s+Pj4tLS10HQR1HwWAMRuJiYlnZ2fp6el1HwmFOiKocFyxhnW3lIeTk5OTk5NnZ2d0HwF0HQl8KhSNRzC3jHpNTU2YlZWooJzLt6+2j4JzJAd2IQ52Igp4JQeENh2LQyyTTzujaVa6jXnDm4rNtKm+nJGWlpbDtKqqpJ96Jwx8KhF9LBl4JQZ5JAaKQS16KhB3IgOLRCybXUuPSi+YV0FvFgWpcmCjalXDno6daVK/p595MBh3IgB1HwByGwDlaNL7AAAAbXRSTlMAFBIDAw8MARUFLQYvCwgcFhQMJx0wKhcKCSwhBy0hKyUiIRwUES8uKiYlIx8lIx4dGg349cwpJxrruFU6MCgmI/3x3ZlHKCQjHRoO5trDwKWOdT88LishGRbs49PLyLiympmLhWllYmJNIiAVjEADAwAAA51JREFUSMeNlld72jAUhn2MDV5g4w0GswkjZTQEmrRJupvRvffeLc7/v6sseZCA03w38Mh6fZbOkaklMbbidoS1tTVBKDpKjqH+I+aiY0g9mcvTSHlO7klFXT0TaFWkIUfDgmirLmkXE4lcpSzjbWw6EIvxhqTlVhOKMeTQ/gKfyoRLmRSf9am60VzlVL/sG+CXn5QQxEnuUh7EYo8GurTafgG9q3ubOU2sA7CpyB+iyMMUMlSriCe8wkSG7C+xdJguOs1nCMMCDLRFO/1aRBTwfu4SEsZYPmK6bkwoZRoT5AnIe+ZVfTzWZ2bXT3o6eiI1o3oYoQ0emaibelSFi+5uA8dI4uEMMQiksg50ChPIo6l+Ikqx2uXip+saWW2hgpSCNctUT9erWbYCOwVUHhsvVhpAB5YtYcXJUMuB3xkahn28IgVG0sjGEoHd2AUo4HMA0PZ36HWgA7d2E47suA6AXaOhN/aryOFXZFhouElN0eEg7f/JglVkKFvKA0+MTEUqQa0B0Bm8iWvblNIjOczCJSe590wOvzcF0G1SrozSgf2qtahE6TJkg5zplO8myfCUSUbUfWD9Xxas25SQD5ELVLLEKWRzR0dHBTovUAIdIlfPQJip/Pnj+3f3t3+wBrV2PuTCt+M5kre1c37kqzf3df2K79i5Yrlwcx4i5ww/N/pAkLvPO1QRJZlkvKsmI0r9DUHu/alSjl9KfI5lPTmU6q9rmPAeHDjRgSkBZzKJldx7SIwcfxk0UbvQwBPPakoSUt15TZCNW6gJGcOCLDnYnCkmHOQ7Dz2C3DgsMkGLETON6krXxNnlCSG8m6OxP3ikeFrUnJWx79yYE02e4kambqOchdN64CzZyVWfb3oBsv1KI/Ot7E8DEg4MO+qpmTTbiYiNJ6gnsTQy+gjD7TpqZElsVfd/3p0HuvZo1I8GLBdeFCV/JHdnessWRbXpzvZvbW+EhLd5YIjxGM+HDM8iiJNrd/b27qw/e/xg4s1DbV0xlROXBWYIRAPRy83jeazrl1+4i0FW6ouXGF/I+vq9tUBMLo805kS10PQPchDr770I8LZiImYGiClkFtfs+1GuNq+8QMTyJc7BqTv5U1iPRwemy6xqo/YQEJSNPxW+Y58m209eCkpCt2pSg9zELIs/Rw7fHm/cuPn0VbvPJA9FTapZEOvZ41uHo7ZmU2fJ1g2p17DyWFZjYBbHPnC2GFVxOoLgf8J1nKa97NI/tVOdDOWa+vYAAAAASUVORK5CYII=)}.alfa-loading-indicator--vpaid{top:25px;right:0;left:0;width:25px;height:25px;background-size:25px 25px}.alfa-button-start{background-image:url(data:image/png;base64,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)}.alfa-button-restart,.alfa-button-start{z-index:2;cursor:pointer;position:absolute;top:50%;left:50%;background-position:50% 50%;background-size:100%;margin-left:-50px;margin-top:-50px;width:100px;height:100px;background-repeat:no-repeat}.alfa-button-restart{background-image:url(data:image/png;base64,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)}.alfa-small-restart{margin:3px auto;top:70%;width:22%;height:30%;background-position:50% 100%;left:0;right:0;background-size:contain}.alfa-button-close{cursor:pointer;position:absolute;top:5px;right:5px;border-radius:50%;background:hsla(0,0%,100%,.8);border:1px solid #000;width:30px;height:30px;line-height:30px;text-align:center;font-size:28px}.alfa-ending-screen{position:absolute;left:0;right:0;bottom:30px;top:0;margin:auto;width:300px;height:155px}.alfa-share-div{position:absolute;width:100%;height:70%;background:#333;background-color:rgba(33,33,33,.5)}.alfa-bg-message{position:absolute;left:0;bottom:35px;width:100%;height:50px;display:table;text-align:center}.alfa-bg-message>span{display:table-cell;vertical-align:middle;color:#eee}.alfa-controls{z-index:2;position:absolute;height:30px;bottom:0;border-top:1px solid #555;background:#201f1f;background:linear-gradient(180deg,#252424 0,#201f1f);display:flex;flex-direction:row;display:-webkit-flex;-webkit-flex-direction:row;display:-ms-flex;-ms-flex-direction:row;width:100%}.alfa-controlbar-item{flex:0 0 auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;height:30px;line-height:30px}.alfa-play-button{cursor:pointer}.alfa-play-button.play-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAMAAABEQrEuAAAAqFBMVEUAAADIyMj///+ZmZn////IyMj///////+ZmZn///////////+cnJz///+ZmZn///+ampr///////+ZmZn///+jo6P///+ZmZm+vr6ZmZmZmZn///+ZmZmZmZmZmZn///+ZmZn///+ZmZn///+ZmZmZmZnz8/OZmZmZmZmZmZn///+ampqdnZ35+fm8vLzx8fHW1tbk5OTe3t7Ozs7Dw8OhoaHp6emsrKxqns2YAAAAKXRSTlMAA/v2Yfvz7dnSw7Gonnt1SDoqIx4ZEgz97+Thy7SMh1tOMAq9mXVsPJoJpU0AAAEESURBVEjHzdPHckIxDIVhXQIJ6aQSSEJvkk1v7/9meNgIA3Pls2H499+M4PjS5Xr8RIXcvmaYWI7l/g0SPFmIPH8jgnk1lbsiIkKzsTy8Q4Incyk0u4AIlaby24YEu1lBksZh7WeTNA4fth8HEknjcJyzx+FjsrbG4RPidRxLqMkdh88Rt9VxDKG/RsexhJ6m4xjCHIfz0nEMoXkdxxDxOEVAsPfr0iBDhPNPX0SIKFfy/yvHcTcvGRkiJv8fBC1Yr9jvyh0e1KiSIeJ64SBE1FtEkAgHQeKvQ4SIWjgIEv0qWZ0chIjakAgS4ZFCojyixPSRpqYHpaZfTWr7g6DCV3NN7QAE5oQfOkTp0gAAAABJRU5ErkJggg==)}.alfa-play-button.pause-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxAgMAAAAO8qmPAAAACVBMVEUAAACZmZn///+l6mMWAAAAAXRSTlMAQObYZgAAAB1JREFUKM9joBbgWrUASmDyWEMDwMQob5QHJMgHAAN6N8moUycDAAAAAElFTkSuQmCC)}.alfa-fullscreen-button{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxAgMAAAAO8qmPAAAADFBMVEUAAACZmZmZmZmZmZnk5WrOAAAAA3RSTlMAgMBakZ4lAAAAgElEQVQoz2MgHvD///8FRMv///8BzLsA4rHDeA4gHiOU9w+iZT+KHKY+TDP/gnj1UB5QI0gbhPceqBGs7TeI5w7jXQTyeBlhKh0KGBhYGOpBpoBIAbDZXxAkUMsFBAnU4gAlhxRAuBrTRwjfooYEaiihhCB66CJCHiNW6JAK8AEAFAOfTdfbr4sAAAAASUVORK5CYII=)}.alfa-control-text{height:30px;color:#999;margin-top:1px;padding:0 4px;text-align:center;font-size:14px;-webkit-user-select:none;-webkit-user-drag:none;cursor:default}.alfa-sub-group{position:absolute}.alfa-skip-button{z-index:2;cursor:pointer;position:absolute;left:0;top:0;padding:8px}.alfa-skip-button-text{color:#777;font-size:16px;text-shadow:1px 1px #333}.alfa-timebar{flex:1 0 auto;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;position:relative;height:100%;margin:0 12px}.alfa-timebar__rail{position:absolute;left:0}.alfa-timebar__seek-rail{width:100%}.alfa-timebar__buff-rail,.alfa-timebar__play-rail{width:0}.alfa-timebar__rail-filling{position:absolute;height:7px;top:12px;left:0;width:100%}.alfa-timebar__seek-rail-filling{background-color:#969696}.alfa-timebar__buff-rail-filling{background-color:#c4c4c4}.alfa-timebar__play-rail-filling{background:#9e171b;background:linear-gradient(180deg,#e2393e 0,#e2393e 10%,#9e171b 11%,#9e171b 90%,#711113 91%,#711113)}.alfa-timebar__thumb{position:absolute;cursor:default;left:0;margin-left:-12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAilBMVEXyIw4AAADyIw7yIw7yIw7yIw7yIw7yIw7yIw7yIw6amZnyIw7yIw7yIw7yIw7yIw7yIw6rqamYlpaji4mxfnr/zMj9cGPyLxzyIw7yIw7yIw7yIw7//v7FxMTw7Oyik5LKubj/7Or/4+C8i4f0wLz/ubO7cmvmYFTbSjzyIw6WlpbR0dHGxsa0tLQuk9KgAAAAKnRSTlNmAGFSCzkkBwEv/kkoHlwEZf383b+8f2pYRhYx/f366Ofg1MC9qqqDfVv1G63tAAABXElEQVRIx6WW6ZaCMAxGP9OylW1QcN93Ud//9QYdZ6QNKj1z/8I9bdM0CTomfuyEggASoRP77LMheO6IUINGrvdGSCcEBgXpC8GPEjSSRH6TIAVeIiQXYsIbKDaF6Atv+Yp0wcVH3LowJnyExk9BntCCk/wVfIFWCP8hBGhJ8CNIQktI3gUHrXFugkdoDXmVEMCCoBIEGP1iNZ2uij4YogMPjN38kimVXeY7MCRYUgzWZ1XeUef1gCUIWIyKa/nHtWBxQmjuf1bWmJnnCDGEzlbVBbWFzhAEnWWpsYQOwSTThQyfULqgzJfH1ljowgI6xA690YWNeWgW1kO3rNE9sLCyi8vrQs4vjqdG7/l/ryE1PDD23cd+9mDIxvQ+5tUqvfwIhrB+QPZP1L4I2JcZ+0JmXyo7MkELEmlb7m0bim3Lsm2Ktm3XtrFbjQ6T9J/DiUl6G39QcRt/Uvb5G/8VJ41wKa7hAAAAAElFTkSuQmCC);background-position:50% 50%;background-size:27px 27px;background-repeat:no-repeat;width:27px;height:30px}.alfa-volume__button{position:relative;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAMAAABEQrEuAAAARVBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkBVNYgAAAAFnRSTlMAfPoINvCI4R1sTbfFnC6mVxTSkWNDTysOqQAAAVNJREFUSMft1duSgyAMBuAIongAxUPe/1F3DM4G0wXa253+V4TON0CwCt8803wMUEx0TQ2gAIiLLgOUAHHWBSDEipRJlwCKKcqeB1LAqmhyzAMpYCTS6zyQAgbelwBCdP0JMdM1q2wW4G9b1QAUa67pLgvwBlea5FejcwBvkLQoqHuMHCGCU4hJi5Zr7PLiit9iMcQOky4L0HNcJBa0ZCgLsIoqTwWteFYEuLgtPshRE2Ny1zvhmmipWvh6mveE+0AMyA+He2tXE1Urj9eKGDF5ZHtqdFm0hoqJCktYl4QeVCxaPtIMSTohbI+YLAHz6x/EpYL31Iekzx4eWZ4iEuOTrm3wjJ5eT77ZtGsHSDKziGTXQAl95vUTNhYUeZMi3CApHIrWCiKFji0xFv6MN1LYmYAaIZNWpYLvZYBsTsWCSQOFrApBEDNCMQeCIL7+df73+QE/JELa9pNv4QAAAABJRU5ErkJggg==)}.alfa-volume__button--mute{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxBAMAAACBslwvAAAAJ1BMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmahP7BAAAADHRSTlMAfvU4C+HOtJNeH3hcAp7BAAAAbElEQVQ4y+3JsRFAUBBF0bfzBYgUsCX8SBE0oQQlKEEJUrkSFLBFmZFyIwGBkx59SkNhO43TWNA4jQWN01jQOI0FjdNY0PjdxOmfR3M145Q4mnB6nGKkUYdTDzRacVKmUYuTMo0WnApHm95wAF81xABwygXiAAAAAElFTkSuQmCC)}.alfa-volume__bar{position:absolute;bottom:33px;left:-1px;width:24px;height:140px;border:1px solid #3b3b3b;border-radius:3px;background:#201f1f}.alfa-volume__rail{background:#999}.alfa-volume__current,.alfa-volume__rail{top:7px;bottom:7px;left:0;position:absolute;width:4px;margin-left:9px}.alfa-volume__current{background:#9e171b}.alfa-volume__thumb{bottom:0;position:absolute;width:100%;height:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAkFBMVEUAAAA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgyMjKWlpY4ODg1NTUzMzM3NzeZmZnGxsampqbV1dWtra2SkpJ5eXlsbGxVVVWfn5/9/f3p6em0tLSLi4uEhIRgYGBNTU1CQkJIqitwAAAAGHRSTlMA85H3GxIE57h5Zk/PzFoKXtuwcjYk78byb3lkAAABrUlEQVRIx51WWZaCQAykRZAdBkUl7CC46/1vN/10xoYEQaxPrSKVEJJIBKo502wZQLa1malKI1Acn0ELzHeUAbqrrzkpieJ4yxHHUQIAa919Q1eNBUDEuW3EEcDC6HUW2ACJoAsJD2MHlG8yQacSZmK+wd1s34L7Mrp8B/OpwmnzVzIgO8QWyCvBny/o82mMxfxVz43gDyk2/9XVIdl+gAT0P0NMJDCcBnuamglDY6Zmj34TAcZDKFywFAHGQyy5wKYBmrw4HIq8oSFs7ggA/14dszJNy+xY4X8A5pKDHSVZkYYPpEWWYE8OrVF+Cl845bROGkqhycIWsgYloUk/SLBP24J0jwQ/EkM5l2EHJcqaSbhIeVewx2UigrCLFAlkYuncFZyRYE2S3nUFO5w0KeutK7jhstIXV7f5NXlxtDWiXctQhAVeX/Ndqye9uvY0X2973+tLGF7qO21va/IHNPETlZWpQ2DymPlukEmq9dmotNSpw3j6uBfwxheKN3VlTV6KBIEltjTe1Fbw5WKnpwOjpwPT3aHjxPNlaEH2PUUagcvPHws4LH7+0If/AnR0rSTRtQzxAAAAAElFTkSuQmCC);background-position:50% 50%;background-size:20px 20px;background-repeat:no-repeat}.alfa-share-button{background-image:url(data:image/png;base64,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);background-position:50% 50%;background-size:100%;background-repeat:no-repeat;width:100px;height:78px;opacity:.4;cursor:pointer}.alfa-share-background,.alfa-share-button{z-index:2;position:absolute;right:2px;top:4px}.alfa-share-background{display:table;width:142px;height:48px;background:#212222;white-space:nowrap;overflow:hidden;border-spacing:2px}.alfa-share-socials{height:100%;width:100%;display:table-row}.alfa-share-background-big{display:table;margin:auto;left:0;right:0;top:0;bottom:0;height:100%;width:100%;border-spacing:8px}.alfa-share-more-button{position:absolute;right:0;bottom:0;height:50%;width:24px;color:#fff;text-align:center;background-image:url(data:image/png;base64,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);background-position:50% 50%;background-size:18px 18px;background-repeat:no-repeat;cursor:pointer;font-size:22px}.alfa-social-button{width:44px;min-height:100%;background-size:100%;display:table-cell;cursor:pointer;background-repeat:no-repeat;background-position:50%}.alfa-social-button-big{display:table-cell}.alfa-social-facebook{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAPFBMVEVKbqlKbqlKbqn///9DaaZBZ6VHa6fQ2elXeK/z9fl+l8D9/f1ph7d5k7/U3eqBmcKitNLDz+Ls7/U8Y6Ob7tO3AAAAAnRSTlPt24xCS8UAAAGLSURBVHja7dvdbuMgEIbh7DAz4PBTHN//va5XWcUtOFarZkqbfu8N8ICQmBNOf05DW5enoZ0AAAAAAAAA4DkAKiLMrMr/EllEaD8LAIuGXOvsfSnFr8211hyozwQgnGqZXFcWajIBsJ59dGuDAJK8WxsFUK7R3SsxbdkAmGZ3t2gPUPJuJEB5docApS0LgFR31BSMAZLiWIB6NxQgZzcWwH4sgFN0x11sAVLd2BOQeXfXxfvyv5mu2QA0XFxbrCkQX9M12rIAxO7I88JKXUYAya6tLrSbPeD47bECnLv7R0oH2QM8024AAAAAAAA8F4BvLbkDLNxkAEhbtQWU1PZwAOe45bpiW5YHAyS7DwVA5rGAmAYDpqAAjAVcfj2gKI0FeAZgMGCWRwM4Ta9yTXFqqp8G9IVb9NICCoW3WYxkemtnJBN9G117rqEUAAAAAAAAAAAAAAAAAADgOwFeAAAAAAAAAACAbwcoXwzIU9NsC+gLTXQ3I4C20Tt71j8mAAAAAAAA/GzA6O//fwFjwpS/mcxUIAAAAABJRU5ErkJggg==)}.alfa-social-twitter{background-image:url(data:image/png;base64,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)}.alfa-social-gplus{background-image:url(data:image/png;base64,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)}.alfa-visible-animation{-ms-transition:opacity .3s ease-in-out,visibility .3s ease-in-out;transition:opacity .3s ease-in-out,visibility .3s ease-in-out;visibility:visible;opacity:1}.alfa-context-menu{display:block;padding:0;margin:0;z-index:2;outline:none;position:fixed;overflow:auto;background:#fff;border-radius:2px;list-style:none;border:1px solid #ccc}.alfa-context-menu li{margin:0;padding:0}.alfa-context-item{display:block;background-color:#fff;color:#313131;font-size:13px;font-family:arial,sans-serif;text-decoration:none;white-space:nowrap;word-wrap:normal;padding:0 25px;margin:0;line-height:25px;cursor:pointer}.alfa-context-item:hover{background-color:#313131;color:#fff}.alfa-adult-warning-base{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#555}.alfa-adult-inner-base{height:100%;width:100%;max-height:320px;max-width:450px;position:relative;top:50%;transform:-ms-translateY(-50%);transform:translateY(-50%);margin:auto;background-color:#efefef}.alfa-adult-main-text{font-size:28px;text-align:center;display:table-row}.alfa-adult-warning-text{font-size:12px;text-align:center;display:table-row}.alfa-adult-leave{position:absolute;left:4px;bottom:2px;padding:5px;cursor:pointer}.alfa-adult-inner-center{top:49%;position:absolute;transform:translateY(-50%);display:table;border-spacing:10px}.alfa-adult-showme{display:table-row}.alfa-adult-show-button{cursor:pointer;display:inline-block;left:50%;position:relative;transform:translateX(-50%);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;font-family:Arial;color:#fff;font-size:18px;background:#259e33;padding:5px 18px;text-decoration:none}.alfa-adult-show-button:hover{background:#2ab33a}.alfa-overlay-root{position:absolute}.alfa-overlay-close-btn{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAkFBMVEUAAAAGBgYICAgFBQU8PDxCQkIEBAQHBwcVFRUbGxsgICAiIiIMDAwMDAwQEBAQEBAMDAwQEBAWFhYAAADo6Oje3t7b29sGBgY1NTULCwtgYGA3NzehoaFWVlbU1NTQ0NCoqKikpKRtbW1paWk7OztZWVk9PT0RERHLy8vKysrExMTDw8O/v7+9vb2rq6sPDw+JaXvSAAAAE3RSTlMA99vuCwjx114/Liuop356pnxbLZatxQAAARVJREFUKM91Utt2wiAQJDGaxBpvu0mEkIsabbUX///vOqRQ6Dl1noBhZpZlhUWSFXFUR/F2n4gQyXpGDrPN3BPLmEKkL47II2xflb51N60eWC9yqwBRn0r+QXWuQU2qBFbyiz0GCUOTtYYCREjBcAcJqjoxf46X0ni14wfzGRUmIkM4zhqipuTqQHQFD79MrIgULrdwOPQg6IKdIioE8o/GxhzWNCmZNVEsUPIbW8oR/E4UCdzr2KA3CmnX0D/X/MmRYU5YW9MFtW3de8bpdunfs/c9aI1N2V5tD9C4HeoYOMQRnht0dJ4ieggJ12uxXBAMq9//Ifs/QG6oh9L3/q6VDP4UqvTJHCDrn9nx87aa5q3I3Pk3UaYpIafwP+sAAAAASUVORK5CYII=);background-size:25px 25px;position:absolute;width:25px;height:25px;right:0;top:0;cursor:pointer}.alfa-overlay-content-frame{background:#993421;position:absolute;left:0;right:0;bottom:0;top:0;border:1px solid #000;margin:10px}.alfa-display-none{display:none}.alfa-opacity-visible{opacity:1;visibility:visible}.alfa-opacity-50{opacity:.5}.alfa-opacity-hide{opacity:0;visibility:hidden}@media (min-resolution:2dppx) and (min-device-width:800px) and (min-device-height:400px) and (orientation:landscape),only screen and (min-resolution:2dppx) and (min-device-width:400px) and (min-device-height:800px) and (orientation:portrait){.alfa-controls{height:45px}.alfa-button-restart,.alfa-button-start{margin-top:-71px}.alfa-small-restart{margin:4px auto}.alfa-ending-screen{bottom:45px}.alfa-timebar__rail-filling{height:8px;background-size:1px 10px;top:19px}.alfa-timebar__thumb{margin-left:-15px;background-size:100%;width:31px;height:44px}.alfa-controlbar-item{height:45px;line-height:45px}.alfa-ctrl-button-icon{background-size:29px 29px;width:38px;margin:0}.alfa-control-text{height:60px;font-size:20px;padding:0 1px}.alfa-skip-button{padding:12px}.alfa-skip-button-text{font-size:24px}}@media only screen and (min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2){.alfa-button-restart,.alfa-button-start{width:150px;height:150px;margin:-75px 0 0 -75px}.alfa-small-restart{margin:4px auto}.alfa-ending-screen{bottom:75px}.alfa-controls{height:48px}.alfa-timebar{margin:0 24px}.alfa-timebar__rail-filling{height:12px;background-size:1px 10px;top:18px}.alfa-timebar__thumb{margin:2px 0 0 -24px;background-size:100%;width:44px;height:44px}.alfa-controlbar-item{height:48px;line-height:48px}.alfa-ctrl-button-icon{background-size:40px 40px;width:58px;margin:0}.alfa-control-text,.alfa-skip-button-text{font-size:32px}}\"\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CompanionArea = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _errors = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    VAST_ERROR: 'vast_error'\n};\n\nvar CompanionArea = exports.CompanionArea = function (_EventSystem) {\n    _inherits(CompanionArea, _EventSystem);\n\n    function CompanionArea(parentElement, height, width, companion) {\n        _classCallCheck(this, CompanionArea);\n\n        var _this = _possibleConstructorReturn(this, (CompanionArea.__proto__ || Object.getPrototypeOf(CompanionArea)).call(this));\n\n        _this.companionInfo = companion;\n        _this.clickThrough = companion.clickThrough;\n\n        var content = _this.companionRoot = document.createElement('img');\n        content.src = companion.staticResource;\n        content.style.margin = '0px';\n        content.style.padding = '0px';\n\n        // emit VAST error if target resource cannot be loaded\n        content.onerror = function () {\n            var error = (0, _errors.createVastError)(_errors.VAST_ERRORS.COMPANION_FETCH, 'Companion resource \\'' + content.src + '\\' is not accessible.');\n            _this.emit(EVENTS.VAST_ERROR, error);\n        };\n\n        parentElement.style.width = width + 'px';\n        parentElement.style.height = height + 'px';\n\n        parentElement.appendChild(content);\n\n        content.addEventListener('click', _this.onCompanionClick.bind(_this));\n        return _this;\n    }\n\n    _createClass(CompanionArea, [{\n        key: 'remove',\n        value: function remove() {\n            this.companionRoot.parentNode.removeChild(this.companionRoot);\n        }\n    }, {\n        key: 'onCompanionClick',\n        value: function onCompanionClick() {\n            window.open(this.clickThrough, '_blank');\n        }\n    }]);\n\n    return CompanionArea;\n}(_eventSystem2.default);\n\n/**\r\n * Create new companion UI object\r\n *\r\n * @param companionConfig\r\n * @param companions\r\n * @returns {CompanionArea|null}\r\n */\n\n\nCompanionArea.create = function (companionConfig, companions) {\n    var rootElement = document.getElementById(companionConfig.id);\n    if (!rootElement) {\n        console.log('[alfa] Companion DOM element not found by \"#' + companionConfig.id + '\"');\n        return null;\n    }\n\n    // filter companions array for matching by dimensions images\n    var filtered = companions.filter(function (companion) {\n        // filter by companion type\n        if (!companion.staticResource) {\n            return false;\n        }\n        // filter by dimensions\n        if (companion.width !== companionConfig.width || companion.height !== companionConfig.height) {\n            return false;\n        }\n        // for now only images\n        return companion.creativeType === null || typeof companion.creativeType === 'string' && companion.creativeType.indexOf('image') >= 0;\n    });\n\n    // we need only first match\n    if (filtered.length > 0) {\n        return new CompanionArea(rootElement, companionConfig.height, companionConfig.width, filtered[0]);\n    }\n\n    return null;\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _assign = __webpack_require__(15);\n\nvar _url = __webpack_require__(12);\n\nvar _constants = __webpack_require__(2);\n\nvar _settings = __webpack_require__(3);\n\nvar _url2 = __webpack_require__(10);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar VAST_TAG_DOMAIN = 'videmob.com';\n\n/**\n * External config format:\n *\n * {\n *   \"adult\": boolean,     // should player show adult warning dialog before playing video\n *   \"videoURL\": string,   // Video file to play URL\n *   \"poster\": string,     // An image preview to the video before playing starts URL\n *   \"title\": string,      // A string that describes the video title. Title is used for the share mechanism and ads targeting\n *   \"description\": string,  // Textual video description. Description is used for share mechanism and ads targeting\n *   \"mute\": boolean,      // Specifies whether the video should start playing muted or not\n *   \"autoPlay\": boolean,  // Specifies whether the video should start playing automaticaly when page is loaded\n *   \"parentId\": string,   // HTML element id which will be the parent for the player\n *   \"adonly\": boolean,    // Set to true if you want to show an ad without videoURL parameter (for players created with the 'create' function),\n *   \"height\": number,     // Player height (optional – in pixels)\n *   \"width\": number,      // Player width (optional – in pixels)\n *   \"site_url\": string,   // Site URL where the player is being used\n *   \"passback\": string,      // 3rd party URL for returning an ad in case an ad is not returned for main request. (optional)\n *   \"passback_js\": string,   // JavaScript code or URL to JavaScript code to return ad in case of an ad is not returned for main request. (optional)\n *   \"passback_html\": string, // URL to HTML page to return ad in case of an ad is not returned for main request. (optional)\n *\n *   \"app_bundle\": string, // is player injected in native application\n *   \"ads\": {\n *     \"vasturl\": string,\n *     \"vastxml\": string,\n *     \"autogetad\": boolean,  // default = true\n *     \"skipoffset\": number\n *   },\n *   \"isVPAID\": boolean,\n *   \"videoTag\": string,\n *   \"gui\": {\n *     \"noGUI\": boolean,         // disable bottom control panel\n *     \"noFullscreen\": boolean,  // disable fullscreen functionality\n *     \"noSharing\": boolean,     // disable sharing controls\n *     \"showMuted\": boolean      // show\\hide floating mute button\n *   },\n *   \"androidsdk\": boolean,\n *   \"video_autoplay\": boolean,\n *   \"noUI\": boolean,\n *   \"ssl\": boolean,\n *   \"isshare\": boolean,\n *   \"viewability\": boolean  // should player pause-play on viewability changes\n * }\n */\n\nvar Config = function () {\n    function Config(pui) {\n        _classCallCheck(this, Config);\n\n        this.pui = pui;\n        // protect from testing to null in every method\n        this.__config = {\n            ads: {},\n            gui: {}\n        };\n        this.__shareUrl = null;\n        this.__youtubeID = null;\n    }\n\n    _createClass(Config, [{\n        key: 'init',\n        value: function init(externalConfig) {\n            // merge external config with internal, if it was present\n            this.__config = (0, _assign.assign)({}, this.__config, externalConfig);\n            this.__config.ads = this.__config.ads || {};\n            this.__config.gui = this.__config.gui || {};\n\n            if (this.__config.adult == null) {\n                this.__config.adult = false;\n            }\n\n            this.__shareUrl = __generateShareUrl(this.__config);\n            this.__youtubeID = (0, _url2.parseYoutubeID)(this.__config.videoURL);\n\n            // init protocol for URL formatting of 'onload' and 'error' requests\n            _settings.settings.urlProtocol = this.getProtocol();\n        }\n    }, {\n        key: 'getPUI',\n        value: function getPUI() {\n            return this.pui;\n        }\n    }, {\n        key: 'getShareUrl',\n        value: function getShareUrl(pui) {\n            if (pui) {\n                return this.__shareUrl + '&pui=' + encodeURI(pui);\n            }\n            if (this.pui) {\n                return this.__shareUrl + '&pui=' + encodeURI(this.pui);\n            }\n            return this.__shareUrl;\n        }\n    }, {\n        key: 'getShowAdUrl',\n        value: function getShowAdUrl() {\n            var url = _constants.URL.SHOW_AD + __urlParam('cr_video_autoplay', true, '?') + __urlParam('cr_adonly', true) + __urlParam('cr_adult', false) + __urlParam('pui', this.pui);\n            return (0, _url.ensureProtocol)(url, this.getProtocol());\n        }\n    }, {\n        key: 'getPosterUrl',\n        value: function getPosterUrl() {\n            return __get(this.__config, 'poster', '');\n        }\n    }, {\n        key: 'isFullscreenRestricted',\n        value: function isFullscreenRestricted() {\n            return __getB(this.__config.gui, ['noFullscreen', 'fullscreen']);\n        }\n    }, {\n        key: 'isMute',\n        value: function isMute() {\n            return __get(this.__config, ['mute', 'muted']);\n        }\n    }, {\n        key: 'isAdult',\n        value: function isAdult() {\n            return __getB(this.__config, 'adult');\n        }\n    }, {\n        key: 'isInApp',\n        value: function isInApp() {\n            return typeof this.__config.app_bundle === 'string' && this.__config.app_bundle.length > 0;\n        }\n    }, {\n        key: 'isNoUI',\n        value: function isNoUI() {\n            return Boolean(this.__config.noUI || this.__config.gui.noGUI);\n        }\n    }, {\n        key: 'isNoSharingUI',\n        value: function isNoSharingUI() {\n            return Boolean(this.__config.gui.noSharing);\n        }\n    }, {\n        key: 'isMutedVisible',\n        value: function isMutedVisible() {\n            return Boolean(this.__config.gui.showMuted);\n        }\n    }, {\n        key: 'isAndroidSDK',\n        value: function isAndroidSDK() {\n            return Boolean(this.__config.androidsdk);\n        }\n    }, {\n        key: 'isAutoplay',\n        value: function isAutoplay() {\n            return Boolean(this.__config.autoPlay || this.__config.video_autoplay || this.__config.autoplay);\n        }\n    }, {\n        key: 'isAutoGetAds',\n        value: function isAutoGetAds() {\n            return this.__config.ads.autogetad != null ? Boolean(this.__config.ads.autogetad) : true;\n        }\n    }, {\n        key: 'isAdOnly',\n        value: function isAdOnly() {\n            return Boolean(this.__config.adOnly || this.__config.adonly);\n        }\n    }, {\n        key: 'isVPAID',\n        value: function isVPAID() {\n            return Boolean(this.__config.isVPAID);\n        }\n    }, {\n        key: 'shouldRespectViewability',\n        value: function shouldRespectViewability() {\n            return Boolean(this.__config.viewability);\n        }\n    }, {\n        key: 'getProtocol',\n        value: function getProtocol() {\n            if (this.__config.ssl != null) {\n                return this.__config.ssl ? 'https:' : 'http:';\n            }\n            return location.protocol;\n        }\n    }, {\n        key: 'hasPassback',\n        value: function hasPassback() {\n            return Boolean(this.getPassback() || this.getPassbackJS() || this.getPassbackHTML());\n        }\n    }, {\n        key: 'getPassback',\n        value: function getPassback() {\n            return (0, _url.ensureProtocol)(this.__config.passback, this.getProtocol());\n        }\n    }, {\n        key: 'getPassbackJS',\n        value: function getPassbackJS() {\n            return this.__config.passback_js || this.__config.passbackjs;\n        }\n    }, {\n        key: 'getPassbackHTML',\n        value: function getPassbackHTML() {\n            return this.__config.passback_html || this.__config.passbackhtml;\n        }\n    }, {\n        key: 'getSkipOffset',\n        value: function getSkipOffset() {\n            return this.__config.ads.skipoffset;\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this.__config.width;\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this.__config.height;\n        }\n    }, {\n        key: 'getYoutubeID',\n        value: function getYoutubeID() {\n            return this.__youtubeID;\n        }\n    }, {\n        key: 'getVideoFile',\n        value: function getVideoFile() {\n            return this.__config.videoURL || this.__config.file || '';\n        }\n    }, {\n        key: 'getSiteUrl',\n        value: function getSiteUrl() {\n            if (this.__config.site_url != null) {\n                return this.__config.site_url;\n            }\n\n            if (document.referrer.length > 0 && this.__config.isshare === true) {\n                return document.referrer;\n            }\n\n            return window.location.toString();\n        }\n    }, {\n        key: 'getSource',\n        value: function getSource() {\n            return this.isInApp() ? this.__config['app_bundle'] : this.getSiteUrl();\n        }\n    }, {\n        key: 'getFetchVastUrl',\n        value: function getFetchVastUrl() {\n            return this.__config.ads.vasturl;\n        }\n    }, {\n        key: 'getProvidedVastXML',\n        value: function getProvidedVastXML() {\n            return this.__config.ads.vastxml;\n        }\n    }, {\n        key: 'generateVastTagUrl',\n        value: function generateVastTagUrl(rect) {\n            var vastUrl = void 0;\n\n            var isInApp = this.isInApp();\n            // browser language\n            var lang = (navigator.language || '').substr(0, 2) || 'en';\n\n            // determine base url\n            if (_settings.settings.isDev) {\n                vastUrl = _settings.settings.vast_url;\n            } else {\n                var subDomain = _settings.settings.env && '.' + _settings.settings.env || !isInApp && 'web' || '';\n                vastUrl = this.getProtocol() + '//vast' + subDomain + '.' + VAST_TAG_DOMAIN + '/vmvast.php';\n            }\n\n            vastUrl += __urlParam('type', isInApp ? 1 : 0, '?');\n            vastUrl += __urlParam('app_type', _settings.settings.getAppType());\n            vastUrl += __urlParam('pui', this.pui);\n            vastUrl += __urlParam('ua', navigator.userAgent);\n            vastUrl += __urlParam('siteurl', this.getSiteUrl());\n            vastUrl += __urlParam('player_width', rect.width);\n            vastUrl += __urlParam('player_height', rect.height);\n            vastUrl += __urlParam('video_title', this.__config.title);\n            vastUrl += __urlParam('video_desc', (this.__config.description || '').slice(0, 80));\n            vastUrl += __urlParam('video_autoplay', this.isAutoplay());\n            vastUrl += __urlParam('video_url', this.getVideoFile());\n            vastUrl += __urlParam('protocol', 'full');\n            vastUrl += __urlParam('user_lng', lang);\n\n            // params for mobile application in which player wrapped\n            vastUrl += __joinParams(this.__config, ['app_bundle', 'app_name', 'app_store']);\n            // params fo mobile traffic\n            vastUrl += __joinParams(this.__config, ['didsha1', 'didmd5', 'dpidsha1', 'dpidmd5', 'macsha1', 'macmd5']);\n            vastUrl += __joinParams(this.__config, ['aid', 'did', 'mac', 'instl', 'custompubid', 'custompubid2', 'custompubid3']);\n            vastUrl += __joinParams(this.__config, ['user_yob', 'user_gen', 'coppa']);\n            vastUrl += __joinParams(this.__config, ['lat', 'lon']);\n            vastUrl += __joinParams(this.__config, ['lmt', 'dnt']);\n\n            // add random as last param, for easier testing\n            vastUrl += '&rnd=' + Math.floor(Math.random() * 1000000);\n\n            return vastUrl;\n        }\n    }, {\n        key: 'getParentElement',\n        value: function getParentElement() {\n            if (this.__config.parentElement) {\n                return this.__config.parentElement;\n            }\n            if (this.__config.parentId) {\n                return document.getElementById(this.__config.parentId);\n            }\n            return null;\n        }\n    }, {\n        key: 'getCompanionConfig',\n        value: function getCompanionConfig() {\n            return this.__config.ads.companiondiv;\n        }\n    }, {\n        key: 'getVideoElement',\n        value: function getVideoElement() {\n            return this.__config.videoTag;\n        }\n    }, {\n        key: 'fillNotifyProps',\n        value: function fillNotifyProps(data) {\n            data.pui = this.getPUI();\n            data.src = this.getSource();\n            data.w = this.getWidth();\n            data.h = this.getHeight();\n            data.ssl = Boolean(this.__config.ssl);\n            data.autoplay = Boolean(this.isAutoplay());\n            data.mute = Boolean(this.isMute());\n        }\n    }]);\n\n    return Config;\n}();\n\nexports.default = Config;\n\n\nfunction __generateShareUrl(config) {\n    var result = '';\n\n    for (var propName in config) {\n        if (!config.hasOwnProperty(propName)) {\n            continue;\n        }\n\n        if (typeof config[propName] !== 'object') {\n            if (propName !== 'parentId' && propName !== 'video_autoplay') {\n                if (typeof config[propName] === 'string') {\n                    result += 'cr_' + propName + '=\\'' + encodeURI(config[propName].replace(/\\\\/g, '\\\\\\\\')).replace(/'/g, '\\\\%27').replace(/&/g, '%26') + '\\'';\n                } else {\n                    result += 'cr_' + propName + '=' + config[propName];\n                }\n                result += '&';\n            }\n        }\n    }\n    result += 'cr_video_autoplay=true&cr_isshare=true';\n    return result;\n}\n\nfunction __joinParams(config, params) {\n    params = params || [];\n\n    return params.reduce(function (result, param) {\n        return result + __urlParam(param, config[param]);\n    }, '');\n}\n\nfunction __urlParam(name, value, separator) {\n    if (value == null || value === '') {\n        return '';\n    }\n    return (separator || '&') + name + '=' + encodeURIComponent(value);\n}\n\n/**\n * Get value of object property, with case-insentivity, with ability to search various property names and setting default value\n *\n * @param {Object}               object         Object\n * @param {Array<String>|String} propNames      Property name(s)\n * @param {*}                    [defaultValue] Default value\n * @returns {*} Property value\n */\nfunction __get(object, propNames, defaultValue) {\n    if (Array.isArray(propNames)) {\n        for (var i = 0; i < propNames.length; i++) {\n            var value = __pick(object, propNames[i]);\n            if (value != null) {\n                return value;\n            }\n        }\n    } else {\n        var _value = __pick(object, propNames);\n        if (_value != null) {\n            return _value;\n        }\n    }\n\n    return defaultValue;\n\n    function __pick(object, prop) {\n        if (object[prop] != null) {\n            return object[prop];\n        }\n        if (object[prop.toLowerCase()] != null) {\n            return object[prop.toLowerCase()];\n        }\n        if (object[prop.toUpperCase()] != null) {\n            return object[prop.toUpperCase()];\n        }\n    }\n}\n\nfunction __getB(object, propNames, defaultValue) {\n    return !!__get(object, propNames, defaultValue);\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fscreen = __webpack_require__(32);\n\nvar _fscreen2 = _interopRequireDefault(_fscreen);\n\nvar _iphoneInlineVideo = __webpack_require__(33);\n\nvar _iphoneInlineVideo2 = _interopRequireDefault(_iphoneInlineVideo);\n\nvar _constants = __webpack_require__(2);\n\nvar _userAgent = __webpack_require__(6);\n\nvar _styles = __webpack_require__(1);\n\nvar _common = __webpack_require__(7);\n\nvar _youtube = __webpack_require__(35);\n\nvar _youtube2 = _interopRequireDefault(_youtube);\n\nvar _vpaid = __webpack_require__(36);\n\nvar _vpaid2 = _interopRequireDefault(_vpaid);\n\nvar _settings = __webpack_require__(3);\n\nvar _background = __webpack_require__(42);\n\nvar _iconsContainer = __webpack_require__(43);\n\nvar _overlay = __webpack_require__(45);\n\nvar _skipButton = __webpack_require__(46);\n\nvar _adultDialog = __webpack_require__(47);\n\nvar _controlsBar = __webpack_require__(48);\n\nvar _shareButton = __webpack_require__(52);\n\nvar _shareDialog = __webpack_require__(53);\n\nvar _contextMenu = __webpack_require__(19);\n\nvar _utils = __webpack_require__(8);\n\nvar _viewability = __webpack_require__(55);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CHECK_PLAYER_TIMEOUT = 5000;\n\nvar UIManager = function () {\n    function UIManager(wap) {\n        _classCallCheck(this, UIManager);\n\n        this.wap = wap;\n        this.randomId = Math.random();\n        this._volume = 1;\n\n        // root element\n        this.background = new _background.Background();\n        // container for video players\n        this.mediaSpan = null;\n        // current video player\n        this.videoElement = null;\n\n        // share button and hideable share panel\n        this.shareButton = new _shareButton.ShareButton();\n        this.shareDialog = new _shareDialog.ShareDialog(false);\n\n        this.videoPoster = null;\n        this.loadingIndicator = null;\n        this.skipButton = null;\n        this.closeButton = null;\n        this.nonLinear = null;\n        this.buttonStart = null;\n\n        // icons\n        this.iconsContainer = new _iconsContainer.IconsContainer();\n\n        // controls frame elements\n        this.controlsBar = new _controlsBar.ControlsBar();\n        this.hideControlsTimer = null;\n\n        // viewability observer\n        this.viewability = null;\n\n        this.onThisPauseEvent = this.onPauseEvent.bind(this);\n        this.onPlayFinished = wap.onPlayFinished.bind(wap);\n        this.onVideoError = wap.onVideoError.bind(wap);\n        this.onThisPlayEvent = this.onPlayEvent.bind(this);\n    }\n\n    _createClass(UIManager, [{\n        key: 'createMainUI',\n        value: function createMainUI(config) {\n            var _this = this;\n\n            if (this.videoElement || this.background.element) {\n                return;\n            }\n\n            window.addEventListener('message', this.onWindowMessage.bind(this), false);\n            document.addEventListener('contextmenu', this.onContextMenuRequested.bind(this), false);\n\n            var background = this.background;\n            background.create(config.getParentElement(), config.getWidth(), config.getHeight());\n            background.on(_background.EVENTS.MOUSE_OVER_PLAYER, this.onMouseOverPlayer.bind(this));\n            background.on(_background.EVENTS.MOUSE_OUT_OF_PLAYER, this.onMouseOutOfPlayer.bind(this));\n\n            // viewability observer\n            this.viewability = new _viewability.ViewabilityObserver(this.background.element);\n            this.viewability.on(_viewability.EVENTS.VISIBLE, function () {\n                // report player info (with viewability) to server - only on DEBUG build\n                if (_settings.settings.isDebug) {\n                    _this.wap.notifyInfo('viewability');\n                }\n\n                // if allowed, we should PLAY on viewability change\n                if (config.shouldRespectViewability()) {\n                    _this.viewabilityPlay();\n                }\n            });\n            this.viewability.on(_viewability.EVENTS.HIDDEN, function () {\n                // report player info (with viewability) to server - only on DEBUG build\n                if (_settings.settings.isDebug) {\n                    _this.wap.notifyInfo('viewability');\n                }\n\n                // if allowed, we should PAUSE on viewability change\n                if (config.shouldRespectViewability()) {\n                    _this.viewabilityPause();\n                }\n            });\n\n            var mediaSpan = this.mediaSpan = document.createElement('span');\n            mediaSpan.className = 'alfa-media-span';\n\n            if (_userAgent.parsedUA.isIOSSmall || _userAgent.parsedUA.isUCBrowser) {\n                mediaSpan.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n            }\n\n            background.addElement(mediaSpan);\n\n            this.createVideoTag(config);\n\n            if (config.getYoutubeID()) {\n                if (this.wap.isAllowYoutubeWrapper()) {\n                    var youtube = this.youtubePlayer = new _youtube2.default();\n                    youtube.includeYoutubeAPI();\n                    youtube.createElement(mediaSpan, config.getYoutubeID());\n                    this.videoMain = youtube;\n                    youtube.addEventListener(_constants.MEDIA_EVENTS.play, this.onPlayEvent.bind(this));\n                    youtube.addEventListener(_constants.MEDIA_EVENTS.timeupdate, this.onTimeupdateEvent.bind(this));\n                    youtube.addEventListener(_constants.MEDIA_EVENTS.durationchange, this.onDurationchangeEvent.bind(this));\n                    youtube.addEventListener(_constants.MEDIA_EVENTS.ended, this.onPlayFinished);\n                    youtube.addEventListener(_constants.MEDIA_EVENTS.error, this.onVideoError);\n                    youtube.addEventListener(_constants.PLAYER_EVENTS.CLICK, this.wap.onPlayerClickMain.bind(this.wap));\n                    youtube.addEventListener(_constants.PLAYER_EVENTS.BUFFERING, this.onBuffering.bind(this));\n                } else {\n                    this.videoMain = null;\n                }\n            } else {\n                this.videoMain = this.videoElement;\n            }\n\n            if (!_userAgent.parsedUA.isMobile) {\n                if (config.isMute() != null) {\n                    if (config.isMute()) this.setVolume(0);else this.setVolume(1);\n                } else if (!config.isVPAID()) {\n                    this.setVolume(_settings.settings.volume);\n                }\n            }\n\n            // if adult flag is present, then show warning dialog before showing UI\n            if (config.isAdult()) {\n                this.showAdultDialog(); // call showUI() there, if user agrees with warning\n            } else {\n                this.showUI();\n            }\n\n            if (!config.isVPAID()) {\n                setTimeout(function () {\n                    return _this.onCheckCurrentPlayer();\n                }, CHECK_PLAYER_TIMEOUT);\n            }\n        }\n    }, {\n        key: 'createVideoTag',\n        value: function createVideoTag(config) {\n            var _this2 = this;\n\n            var elementReplaced = false;\n            if (this.videoElement) {\n                this.mediaSpan.removeChild(this.videoElement);\n                elementReplaced = true;\n            }\n\n            var videoElement = void 0;\n            if (config.getVideoElement()) {\n                console.log('[alfa] change videoElement to config.getVideoElement()');\n\n                videoElement = this.videoElement = config.getVideoElement();\n                // set player background to full translucent, so we can see underneath player if we injected as VPAID player\n                this.background.enableTranslucence();\n            } else {\n                console.log('[alfa] change videoElement to document.createElement(\"video\")');\n\n                videoElement = this.videoElement = document.createElement('video');\n                videoElement.style.cssText = 'width:100%;height:100%;';\n\n                // HINT: added for iOS - elements will now be allowed to play inline, and will not automatically enter fullscreen mode when playback begins\n                videoElement.setAttribute('webkit-playsinline', '');\n                videoElement.setAttribute('playsinline', '');\n\n                // HINT: support autoplay on iOS <= 9 (iphone and ipad)\n                (0, _iphoneInlineVideo2.default)(videoElement, { iPad: true });\n\n                // mute video to support autoplay without user gesture on:\n                //   - iOS\n                //   - Android\n                //   - Chrome 66+\n                if (config.isMute()) {\n                    videoElement.setAttribute('muted', '');\n                    videoElement.muted = true;\n                }\n\n                this.mediaSpan.appendChild(videoElement);\n                videoElement.addEventListener(_constants.MEDIA_EVENTS.canplay, function () {\n                    _this2.hideLoadingIndicator();\n                    if (_this2.videoElement.paused) {\n                        _this2.showStartButton();\n                    }\n                });\n            }\n\n            videoElement.addEventListener(_constants.MEDIA_EVENTS.waiting, function () {\n                return _this2.showLoadingIndicator();\n            });\n            videoElement.addEventListener(_constants.MEDIA_EVENTS.playing, function () {\n                return _this2.hideLoadingIndicator();\n            });\n            videoElement.addEventListener(_constants.MEDIA_EVENTS.loadstart, function () {\n                if (videoElement.src !== '') {\n                    _this2.showLoadingIndicator();\n                }\n            });\n\n            videoElement.addEventListener(_constants.MEDIA_EVENTS.ended, this.onPlayFinished);\n            videoElement.addEventListener(_constants.MEDIA_EVENTS.error, this.onVideoError);\n\n            this.HTML5Player = videoElement;\n\n            if (elementReplaced) {\n                this.listenVideoEvents();\n            }\n        }\n    }, {\n        key: 'createVideoControl',\n        value: function createVideoControl() {\n            var _this3 = this;\n\n            if (!this.background.element) {\n                return;\n            }\n\n            // main controls bar\n            this.controlsBar.create(this.background.element, this.wap.config);\n            this.controlsBar.on(_controlsBar.EVENTS.PLAY_PAUSE_CLICK, this.onPlayPauseClick.bind(this));\n            this.controlsBar.on(_controlsBar.EVENTS.VOLUME_CLICK, this.onVolumeClick.bind(this));\n            this.controlsBar.on(_controlsBar.EVENTS.VOLUME_CHANGE, function (percent) {\n                _this3.setupHideControlsTimer();\n\n                _settings.settings.volume = percent; // save volume to localStorage\n                _this3.setVolume(percent); // change volume in video element\n            });\n            this.controlsBar.on(_controlsBar.EVENTS.FULLSCREEN_CLICK, function () {\n                return _this3.onFullscreenClick();\n            });\n            this.controlsBar.on(_controlsBar.EVENTS.TIME_SEEK_START, function () {\n                return _this3.onTimeBarSeekStart();\n            });\n            this.controlsBar.on(_controlsBar.EVENTS.TIME_SEEK, function (percent) {\n                return _this3.onTimeBarSeek(percent);\n            });\n            this.controlsBar.on(_controlsBar.EVENTS.TIME_SEEK_END, function () {\n                return _this3.onTimeBarSeekEnd();\n            });\n\n            // fullscreen change event bindings\n            if (_fscreen2.default.fullscreenEnabled) {\n                _fscreen2.default.addEventListener('fullscreenchange', function () {\n                    return _this3.onFullscreenChangeEvent();\n                });\n            }\n\n            this.listenVideoEvents();\n\n            this.setVolumeUI(this.videoElement.volume);\n        }\n    }, {\n        key: 'listenVideoEvents',\n        value: function listenVideoEvents() {\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.play, this.onThisPlayEvent);\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.timeupdate, this.onTimeupdateEvent.bind(this));\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.progress, this.onProgressEvent.bind(this));\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.canplaythrough, this.onCanPlaythroughEvent.bind(this));\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.durationchange, this.onDurationchangeEvent.bind(this));\n            this.videoElement.addEventListener(_constants.MEDIA_EVENTS.loadstart, this.onLoadstartEvent.bind(this));\n        }\n    }, {\n        key: 'isInViewport',\n        value: function isInViewport() {\n            return (0, _utils.isElementPartiallyInViewport)(this.background.element);\n        }\n\n        /**\n         * Is element eligible to generate click through event\n         *\n         * @param {Element} element\n         * @returns {boolean} Is valid\n         */\n\n    }, {\n        key: 'isValidForClickThrough',\n        value: function isValidForClickThrough(element) {\n            return element === this.videoElement || element === this.background.element || element === this.videoPoster || element === this.iconsContainer.element || element === this.mediaSpan;\n        }\n    }, {\n        key: 'seekToTime',\n        value: function seekToTime(time) {\n            var _this4 = this;\n\n            // 1 = HAVE_METADATA - metadata for the audio/video is ready\n            if (this.videoElement.readyState < 1) {\n                var readyMetadata = function readyMetadata() {\n                    _this4.videoElement.currentTime = time;\n                    _this4.videoElement.removeEventListener(_constants.MEDIA_EVENTS.loadedmetadata, readyMetadata);\n                };\n                this.videoElement.addEventListener(_constants.MEDIA_EVENTS.loadedmetadata, readyMetadata);\n            } else {\n                this.videoElement.currentTime = time;\n            }\n            this.wap.state.finishedMain = false;\n        }\n    }, {\n        key: 'showAdultDialog',\n        value: function showAdultDialog() {\n            var _this5 = this;\n\n            var dialog = new _adultDialog.AdultDialog();\n            dialog.create(this.background.element);\n            dialog.on(_adultDialog.EVENTS.AGREED, function () {\n                _this5.showUI();\n                if (_this5.wap.config.isAutoplay()) {\n                    _this5.wap.play();\n                }\n            });\n            dialog.on(_adultDialog.EVENTS.REJECT, function () {\n                window.location = document.referrer && document.referrer !== window.location ? document.referrer : 'https://google.com';\n            });\n        }\n    }, {\n        key: 'showUI',\n        value: function showUI() {\n            this.createPoster();\n            this.showStartButton();\n\n            this.createSharingUI();\n\n            this.createVideoControl();\n            this.showShareButton();\n            if (this.wap.config.isNoUI()) {\n                this.controlsBar.hide(true);\n            }\n        }\n    }, {\n        key: 'showVideoControls',\n        value: function showVideoControls() {\n            if (this.wap.config.isNoUI()) {\n                return;\n            }\n\n            this.controlsBar.show();\n            this.setupHideControlsTimer();\n        }\n    }, {\n        key: 'hideVideoControls',\n        value: function hideVideoControls(isInstant) {\n            this.controlsBar.hide(isInstant);\n        }\n    }, {\n        key: 'isVideoControlVisible',\n        value: function isVideoControlVisible() {\n            return this.controlsBar.isVisible();\n        }\n    }, {\n        key: 'setupHideControlsTimer',\n        value: function setupHideControlsTimer(timeout) {\n            var _this6 = this;\n\n            if (_userAgent.parsedUA.isMobile && this.wap.scheduler.stage.isAd() || this.wap.scheduler.stage.isBegin()) {\n                return;\n            }\n\n            timeout = timeout || 2500;\n            clearTimeout(this.hideControlsTimer);\n            this.hideControlsTimer = setTimeout(function () {\n                if (_userAgent.parsedUA.isMobile && _this6.wap.scheduler.stage.isAd()) {\n                    return;\n                }\n\n                if (!_this6.videoElement.paused) {\n                    _this6.controlsBar.hide();\n                }\n            }, timeout);\n        }\n    }, {\n        key: 'showYoutubePlayer',\n        value: function showYoutubePlayer() {\n            if (this.videoElement !== this.youtubePlayer) {\n                this.videoElement.style.visibility = 'hidden';\n                this.videoElement.style.display = 'none';\n                this.videoElement.removeEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n                this.videoElement.pause();\n\n                if (this.youtubePlayer) {\n                    console.log('[alfa] change videoElement to this.youtubePlayer');\n\n                    this.videoElement = this.youtubePlayer;\n                    // this.videoElement.style.visibility = 'visible';\n                    // this.videoElement.style.display = 'inline';\n                    this.videoElement.addEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n\n                    this.controlsBar.totalTime.setTime(this.videoElement.duration);\n                } else {\n                    console.log('[alfa] change videoElement to null');\n\n                    this.videoElement = null;\n                }\n            }\n        }\n    }, {\n        key: 'showHTML5Player',\n        value: function showHTML5Player() {\n            var HTML5Player = this.HTML5Player;\n            var videoElement = this.videoElement;\n            if (videoElement !== HTML5Player) {\n                videoElement.style.visibility = 'hidden';\n                videoElement.style.display = 'none';\n                videoElement.removeEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n                videoElement.removeEventListener(_constants.MEDIA_EVENTS.ended, this.onPlayFinished);\n                videoElement.removeEventListener(_constants.MEDIA_EVENTS.play, this.onThisPlayEvent);\n                videoElement.removeEventListener(_constants.MEDIA_EVENTS.error, this.onVideoError);\n                if (!videoElement.paused) videoElement.pause();\n\n                console.log('[alfa] change videoElement to HTML5Player');\n\n                this.videoElement = HTML5Player;\n                HTML5Player.style.visibility = 'visible';\n                HTML5Player.style.display = 'inline';\n                HTML5Player.style.width = '100%';\n                HTML5Player.style.height = '100%';\n\n                HTML5Player.addEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n                HTML5Player.addEventListener(_constants.MEDIA_EVENTS.ended, this.onPlayFinished);\n                HTML5Player.addEventListener(_constants.MEDIA_EVENTS.play, this.onThisPlayEvent);\n                HTML5Player.addEventListener(_constants.MEDIA_EVENTS.error, this.onVideoError);\n                if (this.youtubePlayer) this.youtubePlayer.style.visibility = 'hidden';\n            }\n        }\n    }, {\n        key: 'showVPAIDPlayer',\n        value: function showVPAIDPlayer() {\n            var _this7 = this;\n\n            var vpaidPlayer = this.VPAIDPlayer;\n\n            if (!vpaidPlayer) {\n                if (_userAgent.parsedUA.isMobile) this.videoElement.load();\n                vpaidPlayer = this.VPAIDPlayer = new _vpaid2.default(this.mediaSpan, this.HTML5Player, this.wap);\n                vpaidPlayer.addEventListener(_constants.MEDIA_EVENTS.play, this.onThisPlayEvent);\n                vpaidPlayer.addEventListener(_constants.MEDIA_EVENTS.timeupdate, this.onTimeupdateEvent.bind(this));\n                vpaidPlayer.addEventListener(_constants.MEDIA_EVENTS.ended, this.onPlayFinished);\n                vpaidPlayer.addEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n                vpaidPlayer.addEventListener(_constants.MEDIA_EVENTS.durationchange, this.onDurationchangeEvent.bind(this));\n                vpaidPlayer.addEventListener(_constants.MEDIA_EVENTS.error, this.onVideoError);\n\n                vpaidPlayer.addEventListener(_constants.PLAYER_EVENTS.AD_CLICK_THROUGH, this.wap.onClickThrough.bind(this.wap));\n                vpaidPlayer.addEventListener(_constants.PLAYER_EVENTS.AD_CLICK_THROUGH, function () {\n                    _this7.wap.emit(_constants.PLAYER_EVENTS.AD_CLICK_THROUGH);\n                });\n            }\n\n            if (this.videoElement !== this.VPAIDPlayer) {\n                this.HTML5Player.style.visibility = 'visible';\n                this.HTML5Player.style.display = 'inline';\n                this.HTML5Player.removeEventListener(_constants.MEDIA_EVENTS.pause, this.onThisPauseEvent);\n                this.HTML5Player.removeEventListener(_constants.MEDIA_EVENTS.ended, this.onPlayFinished);\n                this.HTML5Player.removeEventListener(_constants.MEDIA_EVENTS.play, this.onThisPlayEvent);\n                this.HTML5Player.removeEventListener(_constants.MEDIA_EVENTS.error, this.onVideoError);\n                this.HTML5Player.pause();\n\n                this.hidePoster();\n\n                console.log('[alfa] change videoElement to this.VPAIDPlayer');\n\n                this.videoElement = this.VPAIDPlayer;\n                this.videoElement.style.visibility = 'visible';\n                this.videoElement.style.display = 'inline';\n            }\n        }\n    }, {\n        key: 'showShareDialog',\n        value: function showShareDialog(shareUrl) {\n            this.shareButton.hide();\n            this.shareDialog.show(shareUrl);\n        }\n    }, {\n        key: 'morphToAdsLayout',\n        value: function morphToAdsLayout() {\n            this.hideShareButton();\n            this.controlsBar.morphToAdsLayout();\n            this.onTimeupdateEvent();\n        }\n    }, {\n        key: 'morphToWaitingAdsLayout',\n        value: function morphToWaitingAdsLayout() {\n            this.morphToAdsLayout();\n            this.showLoadingIndicator();\n\n            this.controlsBar.morphToWaitingAdsLayout();\n        }\n    }, {\n        key: 'morphToNormalLayout',\n        value: function morphToNormalLayout() {\n            this.controlsBar.morphToNormalLayout();\n        }\n    }, {\n        key: 'showCloseButton',\n        value: function showCloseButton() {\n            if (!this.closeButton) {\n                var closeButton = this.closeButton = document.createElement('div');\n                closeButton.className = 'alfa-button-close';\n                closeButton.innerHTML = '&#xd7;';\n                this.background.addElement(closeButton);\n                closeButton.addEventListener('click', this.wap.onCloseClick.bind(this.wap));\n            }\n        }\n    }, {\n        key: 'hideCloseButton',\n        value: function hideCloseButton() {\n            if (this.closeButton) {\n                this.background.removeElement(this.closeButton);\n                this.closeButton = null;\n            }\n        }\n    }, {\n        key: 'showLoadingIndicator',\n        value: function showLoadingIndicator() {\n            if (this.wap.config.isAndroidSDK()) return;\n\n            if (!this.loadingIndicator) {\n                this.loadingIndicator = document.createElement('div');\n                this.loadingIndicator.className = _styles.STYLES.LOADING_INDICATOR;\n                if (this.wap.config.isVPAID()) {\n                    this.loadingIndicator.classList.add(_styles.STYLES.LOADING_INDICATOR_VPAID);\n                }\n                this.background.addElement(this.loadingIndicator);\n            }\n        }\n    }, {\n        key: 'hideLoadingIndicator',\n        value: function hideLoadingIndicator() {\n            if (this.loadingIndicator) {\n                this.background.removeElement(this.loadingIndicator);\n                this.loadingIndicator = null;\n            }\n        }\n    }, {\n        key: 'showSkipButton',\n        value: function showSkipButton(skipOffset) {\n            var _this8 = this;\n\n            if (this.background.element && !this.skipButton) {\n                // create SkipButton\n                this.skipButton = new _skipButton.SkipButton(skipOffset);\n                this.skipButton.on(_skipButton.EVENTS.CLICK, function () {\n                    _this8.wap.onSkipAdClick();\n                });\n                this.skipButton.create(this.background.element);\n            }\n        }\n    }, {\n        key: 'hideSkipButton',\n        value: function hideSkipButton() {\n            if (this.skipButton) {\n                this.skipButton.remove();\n                this.skipButton = null;\n            }\n        }\n    }, {\n        key: 'showError',\n        value: function showError(text) {\n            this.hideLoadingIndicator();\n            this.showMessage(text);\n        }\n    }, {\n        key: 'showMessage',\n        value: function showMessage(text) {\n            if (this.messageDiv) {\n                this.hideMessage();\n            }\n            this.messageDiv = document.createElement('div');\n            this.messageDiv.className = 'alfa-bg-message';\n            var span = document.createElement('span');\n            span.innerHTML = text;\n            this.messageDiv.appendChild(span);\n            this.background.addElement(this.messageDiv);\n        }\n    }, {\n        key: 'hideMessage',\n        value: function hideMessage() {\n            if (this.messageDiv) {\n                this.background.removeElement(this.messageDiv);\n                this.messageDiv = null;\n            }\n        }\n    }, {\n        key: 'showStartButton',\n        value: function showStartButton() {\n            if (this.controlsBar.timeBar.isSeeking()) return;\n\n            this.hideRestartButton();\n            this.hideEndingScreen();\n            this.hideLoadingIndicator();\n\n            if (!this.buttonStart) {\n                this.buttonStart = document.createElement('div');\n                this.buttonStart.className = 'alfa-button-start';\n                this.buttonStart.addEventListener(_userAgent.parsedUA.isMobile ? 'touchend' : 'click', this.onPlayClick.bind(this), false);\n                this.background.addElement(this.buttonStart);\n\n                var bgSize = this.background.size;\n                if (bgSize.width < 210 || bgSize.height < 210) {\n                    this.buttonStart.style.width = '72px';\n                    this.buttonStart.style.height = '72px';\n                    this.buttonStart.style.marginLeft = '-36px';\n                }\n            }\n        }\n    }, {\n        key: 'hideStartButton',\n        value: function hideStartButton() {\n            if (this.buttonStart) {\n                this.buttonStart.parentNode.removeChild(this.buttonStart);\n                this.buttonStart = null;\n            }\n        }\n    }, {\n        key: 'showNonLinear',\n        value: function showNonLinear(nonLinearData) {\n            var _this9 = this;\n\n            if (!this.nonLinear) {\n                if (this.background.element) {\n                    this.nonLinear = new _overlay.Overlay(nonLinearData);\n                    this.nonLinear.on(_overlay.EVENTS.VIEW, function () {\n                        _this9.wap.onNonLinearView();\n                    });\n                    this.nonLinear.on(_overlay.EVENTS.CLOSE, function () {\n                        _this9.hideNonLinear();\n                        _this9.wap.onNonLinearClose();\n                    });\n                    this.nonLinear.on(_overlay.EVENTS.CONTENT_CLICK, function (info) {\n                        _this9.wap.onNonLinearContentClick(info);\n                    });\n                    this.nonLinear.on(_overlay.EVENTS.VAST_ERROR, function (error) {\n                        _this9.wap.notifyVastError(error);\n                    });\n                    this.nonLinear.create(this.background.element);\n                }\n            } else {\n                this.nonLinear.show();\n            }\n        }\n    }, {\n        key: 'hideNonLinear',\n        value: function hideNonLinear() {\n            if (this.nonLinear) {\n                this.nonLinear.remove();\n                this.nonLinear = null;\n            }\n        }\n    }, {\n        key: 'createSharingUI',\n        value: function createSharingUI() {\n            var _this10 = this;\n\n            // create only if allowed\n            if (this.wap.config.isNoSharingUI()) {\n                return;\n            }\n\n            this.shareButton.create(this.background.element);\n            this.shareButton.on(_shareButton.EVENTS.CLICK, function () {\n                if (_this10.videoElement.currentTime === _this10.videoElement.duration) return;\n                _this10.wap.pause();\n                _this10.wap.shareCurrentVideo();\n            });\n\n            this.shareDialog.create(this.background.element);\n            this.shareDialog.on(_shareDialog.EVENTS.DONE, function () {\n                _this10.showShareButton();\n            });\n        }\n    }, {\n        key: 'showShareButton',\n        value: function showShareButton() {\n            if (this.wap.scheduler.stage.isAd() || this.wap.config.isVPAID() || this.wap.config.isAdOnly()) return;\n\n            if (this.videoElement.currentTime >= this.videoElement.duration && !isNaN(this.videoElement.duration)) return;\n\n            if (!this.wap.config.getVideoFile()) return;\n\n            if (!this.videoElement.error && !this.shareDialog.isVisible()) {\n                this.shareButton.show();\n            }\n        }\n    }, {\n        key: 'hideShareButton',\n        value: function hideShareButton() {\n            this.shareButton.hide();\n            this.shareDialog.hide();\n        }\n    }, {\n        key: 'showRestartButton',\n        value: function showRestartButton(parent) {\n            if (this.controlsBar.timeBar.isSeeking()) {\n                return;\n            }\n\n            parent = parent || this.background.element;\n            this.hideStartButton();\n\n            if (!this.restartButton) {\n                this.restartButton = document.createElement('div');\n                this.restartButton.className = 'alfa-button-restart';\n                parent.appendChild(this.restartButton);\n\n                this.restartButton.addEventListener('click', this.doRestart.bind(this));\n            }\n            return this.restartButton;\n        }\n    }, {\n        key: 'hideRestartButton',\n        value: function hideRestartButton() {\n            if (this.restartButton !== void 0) {\n                this.restartButton.parentNode.removeChild(this.restartButton);\n                this.restartButton = void 0;\n            }\n        }\n    }, {\n        key: 'doRestart',\n        value: function doRestart() {\n            if (!this.wap.isAllowYoutubeWrapper() && this.wap.config.getYoutubeID()) {\n                window.location = this.wap.config.getVideoFile();\n                return;\n            }\n\n            if (!_userAgent.parsedUA.isIOS || _userAgent.parsedUA.isIOSSmall) {\n                this.mediaSpan.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n            }\n\n            // if there was an video error\n            if (this.videoMain.error != null) {\n                var curTime = this.videoMain.currentTime;\n                var src = this.videoMain.src;\n                this.videoMain.src = '';\n                this.videoMain.src = src;\n                this.videoMain.currentTime = curTime;\n            } else {\n                this.videoMain.currentTime = 0;\n            }\n\n            this.wap.state.finishedMain = false;\n            this.wap.mainVideoTime = 0;\n            this.videoElementPlay();\n            this.showShareButton();\n        }\n    }, {\n        key: 'showEndingScreen',\n        value: function showEndingScreen() {\n            console.log('[alfa] showEndingScreen');\n            this.hideStartButton();\n            this.hideShareButton();\n\n            if (!_userAgent.parsedUA.isIOS || _userAgent.parsedUA.isIOSSmall) {\n                this.mediaSpan.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n            }\n            this.showPoster();\n            if (this.endingScreen === void 0) {\n                this.endingScreen = document.createElement('div');\n                this.endingScreen.className = 'alfa-ending-screen';\n\n                // if sharing UI is allowed in config\n                if (!this.wap.config.isNoSharingUI()) {\n                    var shareDiv = document.createElement('div');\n                    shareDiv.className = 'alfa-share-div';\n                    this.endingScreen.appendChild(shareDiv);\n\n                    var sharePanel = new _shareDialog.ShareDialog(true);\n                    sharePanel.create(shareDiv);\n                    sharePanel.show(this.wap.config.getShareUrl());\n                }\n\n                // show restart button\n                var restartButton = this.showRestartButton(this.endingScreen);\n                restartButton.classList.add('alfa-small-restart');\n\n                var bgSize = this.background.size;\n                if (bgSize.width < 320 || bgSize.height < 240) {\n                    var w = bgSize.width - 20;\n                    var h = Math.round(w * 3 / 5);\n                    if (h > bgSize.height - 60) {\n                        h = bgSize.height - 50;\n                        w = Math.round(h * 5 / 3);\n                    }\n                    this.endingScreen.style.width = w + 'px';\n                    this.endingScreen.style.height = h + 'px';\n                }\n                this.background.addElement(this.endingScreen);\n            }\n\n            this.controlsBar.timeBar.setPlayPosition(100);\n        }\n    }, {\n        key: 'hideEndingScreen',\n        value: function hideEndingScreen() {\n            if (this.endingScreen !== void 0) {\n                this.endingScreen.parentNode.removeChild(this.endingScreen);\n                this.endingScreen = void 0;\n            }\n        }\n    }, {\n        key: 'showIcons',\n        value: function showIcons() {\n            var _this11 = this;\n\n            // container element for VAST icons\n            this.iconsContainer.create(this.background.element);\n            this.iconsContainer.on(_iconsContainer.EVENTS.ICON_VIEW, function (icon) {\n                _this11.wap.onIconView(icon);\n            });\n            this.iconsContainer.on(_iconsContainer.EVENTS.ICON_CLICK, function (icon) {\n                _this11.wap.onIconClick(icon);\n            });\n        }\n    }, {\n        key: 'hideIcons',\n        value: function hideIcons() {\n            this.iconsContainer.off(_iconsContainer.EVENTS.ICON_VIEW);\n            this.iconsContainer.off(_iconsContainer.EVENTS.ICON_CLICK);\n            this.iconsContainer.remove();\n        }\n    }, {\n        key: 'resetTimeAndSeek',\n        value: function resetTimeAndSeek() {\n            this.controlsBar.totalTime.setTime(0);\n            this.controlsBar.currentTime.setTime(0);\n            this.controlsBar.timeBar.setPosition(0);\n        }\n    }, {\n        key: 'videoElementPlay',\n        value: function videoElementPlay() {\n            this.hideMessage();\n            this.hideEndingScreen();\n            this.hideRestartButton();\n            this.hideEndingScreen();\n\n            if (this.wap.config.isVPAID()) {\n                this.controlsBar.showPauseButton();\n            }\n\n            // run 'play' when video player is ready\n            (0, _common.playWhenCan)(this.videoElement);\n        }\n    }, {\n        key: 'disablePlay',\n        value: function disablePlay() {\n            this.controlsBar.off(_controlsBar.EVENTS.PLAY_PAUSE_CLICK);\n        }\n    }, {\n        key: 'calculateBufferWidth',\n        value: function calculateBufferWidth() {\n            if (this.wap.config.isVPAID()) return;\n\n            var len = this.videoElement.buffered.length;\n\n            if (len > 0) {\n                var lastSec = this.videoElement.buffered.end(len - 1);\n                var duration = this.videoElement.duration;\n                var percent = lastSec / duration * 100;\n                if (percent > this.controlsBar.timeBar.getBufferedPosition()) {\n                    this.controlsBar.timeBar.setBufferedPosition(percent);\n                }\n            } else {\n                this.controlsBar.timeBar.setBufferedPosition(0);\n            }\n        }\n    }, {\n        key: 'setVolume',\n        value: function setVolume(vol) {\n            this._volume = vol;\n            if (_userAgent.parsedUA.isIOS || _userAgent.parsedUA.isUCBrowser) {\n                return;\n            }\n\n            // remove MUTED attribute on element if video is not muted anymore\n            if (vol > 0 && (this.videoElement.muted || this.videoElement.hasAttribute && this.videoElement.hasAttribute('muted'))) {\n                this.videoElement.removeAttribute('muted');\n                this.videoElement.muted = false;\n            }\n\n            if (this.videoElement.volume > vol && vol === 0) {\n                this.wap.onMute();\n            } else if (this.videoElement.volume === 0 && vol > 0) {\n                this.wap.onUnmute();\n            }\n            //this.videoElement.volume = vol;\n            this.HTML5Player.volume = vol;\n            if (this.youtubePlayer) this.youtubePlayer.volume = vol;\n            if (this.VPAIDPlayer) this.VPAIDPlayer.volume = vol;\n\n            this.wap.emit(_constants.MEDIA_EVENTS.volumechange, vol);\n            this.setVolumeUI(vol);\n        }\n    }, {\n        key: 'setVolumeUI',\n        value: function setVolumeUI(vol) {\n            this._volume = vol;\n            this.controlsBar.updateVolume(vol);\n        }\n    }, {\n        key: 'getVolume',\n        value: function getVolume() {\n            return this.videoElement.volume;\n        }\n    }, {\n        key: 'createPoster',\n        value: function createPoster() {\n            if (this.videoPoster) {\n                return;\n            }\n\n            var posterUrl = this.wap.config.getPosterUrl();\n            if (posterUrl) {\n                this.videoPoster = document.createElement('div');\n                this.videoPoster.className = 'alfa-video-poster';\n                this.videoPoster.style.backgroundImage = 'url(' + posterUrl + ')';\n                this.background.addElement(this.videoPoster);\n            }\n        }\n    }, {\n        key: 'showPoster',\n        value: function showPoster() {\n            if (this.videoPoster) {\n                this.videoPoster.style.visibility = 'visible';\n            }\n        }\n    }, {\n        key: 'hidePoster',\n        value: function hidePoster() {\n            if (this.videoPoster) {\n                // this.background.removeElement(this.videoPoster);\n                // this.videoPoster = null;\n                this.videoPoster.style.visibility = 'hidden';\n            }\n        }\n    }, {\n        key: 'isFullscreen',\n        value: function isFullscreen() {\n            return _fscreen2.default.fullscreenElement || this.background.isFullscreen();\n        }\n    }, {\n        key: 'enterFullscreen',\n        value: function enterFullscreen() {\n            if (_fscreen2.default.fullscreenEnabled) {\n                _fscreen2.default.requestFullscreen(_userAgent.parsedUA.isIOS ? this.videoElement : this.background.element);\n            } else {\n                this.background.enterFullscreen();\n            }\n\n            this.wap.onEnterFullscreen();\n        }\n    }, {\n        key: 'exitFullscreen',\n        value: function exitFullscreen() {\n            if (_fscreen2.default.fullscreenEnabled) {\n                _fscreen2.default.exitFullscreen();\n            } else {\n                this.background.exitFullscreen();\n            }\n\n            this.wap.onExitFullscreen();\n        }\n    }, {\n        key: 'onFullscreenChangeEvent',\n        value: function onFullscreenChangeEvent() {\n            if (this.background.isFullscreen()) {\n                this.background.exitFullscreen();\n            }\n\n            if (this.VPAIDPlayer) this.VPAIDPlayer.onParentResize();\n        }\n    }, {\n        key: 'onFullscreenClick',\n        value: function onFullscreenClick() {\n            this.setupHideControlsTimer();\n\n            if (!this.isFullscreen()) {\n                this.enterFullscreen();\n            } else {\n                this.exitFullscreen();\n            }\n        }\n    }, {\n        key: 'viewabilityPause',\n        value: function viewabilityPause() {\n            if (this.wap.scheduler.stage.isAd() && !this.wap.isPaused()) {\n                this.__wasPausedByViewability = true;\n                this.wap.pause();\n            }\n        }\n    }, {\n        key: 'viewabilityPlay',\n        value: function viewabilityPlay() {\n            if (this.__wasPausedByViewability && this.wap.scheduler.stage.isAd() && this.wap.isPaused()) {\n                this.__wasPausedByViewability = false;\n\n                if (this.videoElement.currentTime < this.videoElement.duration && !this.wap.state.initial && !isNaN(this.videoElement.duration)) {\n                    this.wap.play();\n                }\n            }\n        }\n    }, {\n        key: 'isSeekingNow',\n        get: function get() {\n            return this.controlsBar.timeBar.isSeeking();\n        }\n    }]);\n\n    return UIManager;\n}();\n\n// ************************************** Events ***********************************************\n\n\nexports.default = UIManager;\nUIManager.prototype.onContextMenuRequested = function (e) {\n    // if menu requested on our UI\n    if (!this.background.isInBounds(e.toElement)) {\n        return;\n    }\n    e.preventDefault();\n\n    var items = [{\n        id: 'about_player',\n        text: 'About Web Alfa player',\n        href: 'http://www.alfaplayer.com/' + (this.wap.config.isVPAID() ? 'share/' : '')\n    }];\n    (0, _contextMenu.showContextMenuAt)(e.x, e.y, items, this.background.element);\n};\n\nUIManager.prototype.onCheckCurrentPlayer = function () {\n    var id = _settings.settings.currentPlay || this.randomId;\n    if (id !== this.randomId && this.videoElement && !this.videoElement.paused) {\n        this.videoElement.pause();\n    }\n    setTimeout(this.onCheckCurrentPlayer.bind(this), CHECK_PLAYER_TIMEOUT);\n};\n\nUIManager.prototype.onBuffering = function () {\n    console.log('[alfa] OnBuffering');\n    this.hidePoster();\n    this.controlsBar.showPauseButton();\n\n    this.mediaSpan.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n};\n\nUIManager.prototype.onWindowMessage = function (e) {\n    var data = e.data + '';\n    if (data.indexOf('ALFAPLAYER_PLAY_EVENT') === 0) {\n        if (parseFloat(data.split(':')[1]) !== this.randomId) {\n            this.wap.pause();\n        }\n    }\n};\n\nUIManager.prototype.onVolumeClick = function () {\n    console.log('[alfa] on volume button click');\n\n    if (this._volume > 0) {\n        // mute\n        this._previousVolume = this._volume;\n        _settings.settings.volume = 0;\n        this.setVolume(0);\n    } else if (this._previousVolume > 0) {\n        // unmute\n        _settings.settings.volume = this._previousVolume;\n        this.setVolume(this._previousVolume);\n    } else {\n        _settings.settings.volume = 1;\n        this.setVolume(1);\n    }\n};\n\nUIManager.prototype.onPlayClick = function (e) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (!this.wap.config.isVPAID()) {\n        _settings.settings.currentPlay = this.randomId;\n    }\n\n    this.wap.play();\n};\n\nUIManager.prototype.onPlayPauseClick = function () {\n    this.setupHideControlsTimer();\n\n    if (this.wap.isPaused()) {\n        if (!this.wap.config.isVPAID()) {\n            _settings.settings.currentPlay = this.randomId;\n        }\n\n        if (!this.wap.scheduler.stage.isAd() && !(this.videoElement.currentTime < this.videoElement.duration) && !this.wap.state.initial && !isNaN(this.videoElement.duration)) {\n            this.doRestart();\n        } else {\n            this.wap.play();\n        }\n    } else {\n        this.wap.pause();\n    }\n};\n\nUIManager.prototype.onPauseEvent = function () {\n    if (this.controlsBar.timeBar.isSeeking()) return;\n\n    this.controlsBar.showPlayButton();\n    this.showVideoControls();\n    this.hideLoadingIndicator();\n\n    if (this.wap.scheduler.stage.isBegin()) return;\n\n    if (!this.wap.scheduler.stage.isAd()) {\n        if (this.videoElement.error !== null) this.showRestartButton();else if (this.videoElement.currentTime < this.videoElement.duration && !this.wap.state.finishedMain) {\n            this.showStartButton();\n            console.log('[alfa] Show start button on pause', this.videoElement.currentTime, this.videoElement.duration);\n        }\n    } else if (this.videoElement.currentTime < this.videoElement.duration) {\n        this.showStartButton();\n    }\n\n    this.wap.onPauseEvent();\n};\n\nUIManager.prototype.onPlayEvent = function () {\n    this.hideStartButton();\n    this.hideEndingScreen();\n    this.hideRestartButton();\n    this.hidePoster();\n    this.controlsBar.showPauseButton();\n    this.wap.onPlayEvent();\n    var mediaSpan = this.mediaSpan;\n    if (mediaSpan) {\n        this.mediaSpan.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n    }\n\n    if (!this.wap.config.isVPAID()) {\n        _settings.settings.currentPlay = this.randomId;\n\n        var sendplayevent = function (wnd) {\n            wnd.postMessage('ALFAPLAYER_PLAY_EVENT:' + this.randomId, '*');\n        }.bind(this);\n        sendplayevent(window.self);\n    }\n};\n\nUIManager.prototype.onDurationchangeEvent = function () {\n    this.controlsBar.totalTime.setTime(this.videoElement.duration);\n    this.wap.emit(_constants.MEDIA_EVENTS.durationchange, this.videoElement.duration);\n};\n\nUIManager.prototype.onLoadstartEvent = function () {\n    this.controlsBar.totalTime.setTime(0);\n    if (!this.controlsBar.isAdsLayout()) {\n        this.controlsBar.currentTime.setTime(0);\n    }\n    // this.controlsBar.timeBar.setPosition(0);\n};\n\nUIManager.prototype.onTimeupdateEvent = function () {\n    var duration = this.videoElement.duration;\n    var curTime = this.videoElement.currentTime;\n\n    if (_userAgent.parsedUA.isIE) {\n        this.hideLoadingIndicator();\n    }\n\n    // update SkipButton text on video time progress (if exists)\n    if (this.skipButton) {\n        this.skipButton.update(curTime);\n    }\n\n    if (this.controlsBar.isAdsLayout()) {\n        // show ad icons for current time, if any\n        if (this.wap.currentAd && this.wap.currentAd.hasIcons()) {\n            // TODO: listen to resize of root player container, instead of resizing every second\n            this.iconsContainer.resizeToVideo(this.videoElement);\n\n            var icons = this.wap.currentAd.getIconsForTime(curTime);\n            this.iconsContainer.showIcons(icons);\n        }\n\n        if (duration >= curTime) {\n            var remain = duration - curTime;\n            if (remain > 0) this.controlsBar.currentTime.setText('Ad remains:', remain);else this.controlsBar.currentTime.setText('');\n        } else {\n            this.controlsBar.currentTime.setText('');\n        }\n        return;\n    }\n    if (this.videoElement !== this.videoMain) {\n        return;\n    }\n\n    this.controlsBar.currentTime.setTime(curTime);\n    // TODO: why there is TimeBar recalculating?\n    // if (curTime > 3600) {\n    //      this.controlsBar.calculateSeekBarWidth();\n    // }\n\n    if (this.videoElement.style && this.videoElement.style.display) {\n        this.videoElement.style.display = null;\n    }\n\n    var percent = curTime / duration * 100;\n    this.controlsBar.timeBar.setPlayPosition(percent);\n};\n\nUIManager.prototype.onProgressEvent = function () {\n    this.calculateBufferWidth();\n};\n\nUIManager.prototype.onCanPlaythroughEvent = function () {\n    this.calculateBufferWidth();\n};\n\nUIManager.prototype.onMouseOverPlayer = function () {\n    if (!_userAgent.parsedUA.isMobile) {\n        this.showVideoControls();\n    }\n};\n\nUIManager.prototype.onMouseOutOfPlayer = function () {\n    if (!_userAgent.parsedUA.isMobile && !this.videoElement.paused && !isNaN(this.videoElement.duration)) {\n        this.setupHideControlsTimer(300);\n    }\n\n    if (this.shareDialog.isVisible()) {\n        this.shareDialog.hide();\n        if (!this.wap.state.finishedMain) this.showShareButton();\n    }\n};\n\nUIManager.prototype.onTimeBarSeekStart = function () {\n    if (!this.videoElement) {\n        return;\n    }\n\n    this.wasPlayingBeforeSeek = this.videoElement.paused === false;\n};\n\nUIManager.prototype.onTimeBarSeek = function (percent) {\n    if (!isNaN(this.videoElement.duration)) {\n        if (_userAgent.parsedUA.isMobile) {\n            this.setupHideControlsTimer();\n        }\n\n        // rewind current player\n        // HINT: rewinding not working if \"Disable Cache\" is set in browser DevTools\n        var newTime = this.videoElement.duration * percent / 100;\n        this.videoElement.currentTime = newTime;\n    }\n};\n\nUIManager.prototype.onTimeBarSeekEnd = function () {\n    if (this.wasPlayingBeforeSeek && this.videoElement.currentTime < this.videoElement.duration && !isNaN(this.videoElement.duration)) this.videoElementPlay();\n\n    if (this.videoElement.currentTime >= this.videoElement.duration && !isNaN(this.videoElement.duration)) {\n        this.wap.onPlayFinished();\n        this.onPauseEvent();\n    } else if (!this.wasPlayingBeforeSeek) {\n        this.showStartButton();\n    }\n};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5\n};\n\nvar webkit = ['webkitFullscreenEnabled', 'webkitFullscreenElement', 'webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitfullscreenchange', 'webkitfullscreenerror'];\n\nvar moz = ['mozFullScreenEnabled', 'mozFullScreenElement', 'mozRequestFullScreen', 'mozCancelFullScreen', 'mozfullscreenchange', 'mozfullscreenerror'];\n\nvar ms = ['msFullscreenEnabled', 'msFullscreenElement', 'msRequestFullscreen', 'msExitFullscreen', 'MSFullscreenChange', 'MSFullscreenError'];\n\n// so it doesn't throw if no window or document\nvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\nvar vendor = 'fullscreenEnabled' in document && Object.keys(key) || webkit[0] in document && webkit || moz[0] in document && moz || ms[0] in document && ms || [];\n\nexports.default = {\n  requestFullscreen: function requestFullscreen(element) {\n    return element[vendor[key.requestFullscreen]]();\n  },\n  requestFullscreenFunction: function requestFullscreenFunction(element) {\n    return element[vendor[key.requestFullscreen]];\n  },\n  get exitFullscreen() {\n    return document[vendor[key.exitFullscreen]].bind(document);\n  },\n  addEventListener: function addEventListener(type, handler, options) {\n    return document.addEventListener(vendor[key[type]], handler, options);\n  },\n  removeEventListener: function removeEventListener(type, handler, options) {\n    return document.removeEventListener(vendor[key[type]], handler, options);\n  },\n  get fullscreenEnabled() {\n    return Boolean(document[vendor[key.fullscreenEnabled]]);\n  },\n  set fullscreenEnabled(val) {},\n  get fullscreenElement() {\n    return document[vendor[key.fullscreenElement]];\n  },\n  set fullscreenElement(val) {},\n  get onfullscreenchange() {\n    return document[('on' + vendor[key.fullscreenchange]).toLowerCase()];\n  },\n  set onfullscreenchange(handler) {\n    return document[('on' + vendor[key.fullscreenchange]).toLowerCase()] = handler;\n  },\n  get onfullscreenerror() {\n    return document[('on' + vendor[key.fullscreenerror]).toLowerCase()];\n  },\n  set onfullscreenerror(handler) {\n    return document[('on' + vendor[key.fullscreenerror]).toLowerCase()] = handler;\n  }\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_intervalometer__ = __webpack_require__(34);\n/*! npm.im/iphone-inline-video 2.2.2 */\n\n\nfunction preventEvent(element, eventName, test) {\n\tfunction handler(e) {\n\t\tif (!test || test(element, eventName)) {\n\t\t\te.stopImmediatePropagation();\n\t\t\t// // console.log(eventName, 'prevented on', element);\n\t\t}\n\t}\n\telement.addEventListener(eventName, handler);\n\n\t// Return handler to allow to disable the prevention. Usage:\n\t// const preventionHandler = preventEvent(el, 'click');\n\t// el.removeEventHandler('click', preventionHandler);\n\treturn handler;\n}\n\nfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\tfunction get() {\n\t\treturn sourceObject[propertyName];\n\t}\n\tfunction set(value) {\n\t\tsourceObject[propertyName] = value;\n\t}\n\n\tif (copyFirst) {\n\t\tset(object[propertyName]);\n\t}\n\n\tObject.defineProperty(object, propertyName, {get: get, set: set});\n}\n\nfunction proxyEvent(object, eventName, sourceObject) {\n\tsourceObject.addEventListener(eventName, function () { return object.dispatchEvent(new Event(eventName)); });\n}\n\nfunction dispatchEventAsync(element, type) {\n\tPromise.resolve().then(function () {\n\t\telement.dispatchEvent(new Event(type));\n\t});\n}\n\nvar iOS8or9 = typeof document === 'object' && 'object-fit' in document.head.style && !matchMedia('(-webkit-video-playable-inline)').matches;\n\nvar IIV = 'bfred-it:iphone-inline-video';\nvar IIVEvent = 'bfred-it:iphone-inline-video:event';\nvar IIVPlay = 'bfred-it:iphone-inline-video:nativeplay';\nvar IIVPause = 'bfred-it:iphone-inline-video:nativepause';\n\n/**\n * UTILS\n */\n\nfunction getAudioFromVideo(video) {\n\tvar audio = new Audio();\n\tproxyEvent(video, 'play', audio);\n\tproxyEvent(video, 'playing', audio);\n\tproxyEvent(video, 'pause', audio);\n\taudio.crossOrigin = video.crossOrigin;\n\n\t// 'data:' causes audio.networkState > 0\n\t// which then allows to keep <audio> in a resumable playing state\n\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\taudio.src = video.src || video.currentSrc || 'data:';\n\n\t// // if (audio.src === 'data:') {\n\t//   TODO: wait for video to be selected\n\t// // }\n\treturn audio;\n}\n\nvar lastRequests = [];\nvar requestIndex = 0;\nvar lastTimeupdateEvent;\n\nfunction setTime(video, time, rememberOnly) {\n\t// Allow one timeupdate event every 200+ ms\n\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\tvideo[IIVEvent] = true;\n\t\tlastTimeupdateEvent = Date.now();\n\t}\n\tif (!rememberOnly) {\n\t\tvideo.currentTime = time;\n\t}\n\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n}\n\nfunction isPlayerEnded(player) {\n\treturn player.driver.currentTime >= player.video.duration;\n}\n\nfunction update(timeDiff) {\n\tvar player = this;\n\t// // console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\tif (!player.hasAudio) {\n\t\t\tplayer.driver.currentTime = player.video.currentTime + ((timeDiff * player.video.playbackRate) / 1000);\n\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t}\n\t\t}\n\t\tsetTime(player.video, player.driver.currentTime);\n\t} else if (player.video.networkState === player.video.NETWORK_IDLE && player.video.buffered.length === 0) {\n\t\t// This should happen when the source is available but:\n\t\t// - it's potentially playing (.paused === false)\n\t\t// - it's not ready to play\n\t\t// - it's not loading\n\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\tplayer.video.load();\n\t\t// // console.log('Will load');\n\t}\n\n\t// // console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n\tif (player.video.ended) {\n\t\tdelete player.video[IIVEvent]; // Allow timeupdate event\n\t\tplayer.video.pause(true);\n\t}\n}\n\n/**\n * METHODS\n */\n\nfunction play() {\n\t// // console.log('play');\n\tvar video = this;\n\tvar player = video[IIV];\n\n\t// If it's fullscreen, use the native player\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[IIVPlay]();\n\t\treturn;\n\t}\n\n\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t// // console.log('src changed on play', video.src);\n\t\tsetTime(video, 0, true);\n\t\tplayer.driver.src = video.src;\n\t}\n\n\tif (!video.paused) {\n\t\treturn;\n\t}\n\tplayer.paused = false;\n\n\tif (video.buffered.length === 0) {\n\t\t// .load() causes the emptied event\n\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t// possibly the alternative is preventing this event only once\n\t\tvideo.load();\n\t}\n\n\tplayer.driver.play();\n\tplayer.updater.start();\n\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'play');\n\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t// // console.log('onplay');\n\t\t\tdispatchEventAsync(video, 'playing');\n\t\t}\n\t}\n}\nfunction pause(forceEvents) {\n\t// // console.log('pause');\n\tvar video = this;\n\tvar player = video[IIV];\n\n\tplayer.driver.pause();\n\tplayer.updater.stop();\n\n\t// If it's fullscreen, the developer the native player.pause()\n\t// This is at the end of pause() because it also\n\t// needs to make sure that the simulation is paused\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[IIVPause]();\n\t}\n\n\tif (player.paused && !forceEvents) {\n\t\treturn;\n\t}\n\n\tplayer.paused = true;\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'pause');\n\t}\n\n\t// Handle the 'ended' event only if it's not fullscreen\n\tif (video.ended && !video.webkitDisplayingFullscreen) {\n\t\tvideo[IIVEvent] = true;\n\t\tdispatchEventAsync(video, 'ended');\n\t}\n}\n\n/**\n * SETUP\n */\n\nfunction addPlayer(video, hasAudio) {\n\tvar player = {};\n\tvideo[IIV] = player;\n\tplayer.paused = true; // Track whether 'pause' events have been fired\n\tplayer.hasAudio = hasAudio;\n\tplayer.video = video;\n\tplayer.updater = Object(__WEBPACK_IMPORTED_MODULE_0_intervalometer__[\"a\" /* frameIntervalometer */])(update.bind(player));\n\n\tif (hasAudio) {\n\t\tplayer.driver = getAudioFromVideo(video);\n\t} else {\n\t\tvideo.addEventListener('canplay', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// // console.log('oncanplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t});\n\t\tplayer.driver = {\n\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\tmuted: true,\n\t\t\tpaused: true,\n\t\t\tpause: function () {\n\t\t\t\tplayer.driver.paused = true;\n\t\t\t},\n\t\t\tplay: function () {\n\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t// Media automatically goes to 0 if .play() is called when it's done\n\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget ended() {\n\t\t\t\treturn isPlayerEnded(player);\n\t\t\t}\n\t\t};\n\t}\n\n\t// .load() causes the emptied event\n\tvideo.addEventListener('emptied', function () {\n\t\t// // console.log('driver src is', player.driver.src);\n\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t// // console.log('src changed to', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t\t// Playing videos will only keep playing if no src was present when .play()’ed\n\t\t\tif (wasEmpty || (!hasAudio && video.autoplay)) {\n\t\t\t\tplayer.driver.play();\n\t\t\t} else {\n\t\t\t\tplayer.updater.stop();\n\t\t\t}\n\t\t}\n\t}, false);\n\n\t// Stop programmatic player when OS takes over\n\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\tif (!video.paused) {\n\t\t\t// Make sure that the <audio> and the syncer/updater are stopped\n\t\t\tvideo.pause();\n\n\t\t\t// Play video natively\n\t\t\tvideo[IIVPlay]();\n\t\t} else if (hasAudio && player.driver.buffered.length === 0) {\n\t\t\t// If the first play is native,\n\t\t\t// the <audio> needs to be buffered manually\n\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\tplayer.driver.load();\n\t\t}\n\t});\n\tif (hasAudio) {\n\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t// Sync audio to new video position\n\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t// // console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t});\n\n\t\t// Allow seeking\n\t\tvideo.addEventListener('seeking', function () {\n\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t// // console.log('User-requested seeking');\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction preventWithPropOrFullscreen(el) {\n\tvar isAllowed = el[IIVEvent];\n\tdelete el[IIVEvent];\n\treturn !el.webkitDisplayingFullscreen && !isAllowed;\n}\n\nfunction overloadAPI(video) {\n\tvar player = video[IIV];\n\tvideo[IIVPlay] = video.play;\n\tvideo[IIVPause] = video.pause;\n\tvideo.play = play;\n\tvideo.pause = pause;\n\tproxyProperty(video, 'paused', player.driver);\n\tproxyProperty(video, 'muted', player.driver, true);\n\tproxyProperty(video, 'playbackRate', player.driver, true);\n\tproxyProperty(video, 'ended', player.driver);\n\tproxyProperty(video, 'loop', player.driver, true);\n\n\t// IIV works by seeking 60 times per second.\n\t// These events are now useless.\n\tpreventEvent(video, 'seeking', function (el) { return !el.webkitDisplayingFullscreen; });\n\tpreventEvent(video, 'seeked', function (el) { return !el.webkitDisplayingFullscreen; });\n\n\t// Limit timeupdate events\n\tpreventEvent(video, 'timeupdate', preventWithPropOrFullscreen);\n\n\t// Prevent occasional native ended events\n\tpreventEvent(video, 'ended', preventWithPropOrFullscreen);\n}\n\nfunction enableInlineVideo(video, opts) {\n\tif ( opts === void 0 ) opts = {};\n\n\t// Stop if already enabled\n\tif (video[IIV]) {\n\t\treturn;\n\t}\n\n\t// Allow the user to skip detection\n\tif (!opts.everywhere) {\n\t\t// Only iOS8 and 9 are supported\n\t\tif (!iOS8or9) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Stop if it's not an allowed device\n\t\tif (!(opts.iPad || opts.ipad ? /iPhone|iPod|iPad/ : /iPhone|iPod/).test(navigator.userAgent)) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// Try to pause\n\tvideo.pause();\n\n\t// Prevent autoplay.\n\t// An non-started autoplaying video can't be .pause()'d\n\tvar willAutoplay = video.autoplay;\n\tvideo.autoplay = false;\n\n\taddPlayer(video, !video.muted);\n\toverloadAPI(video);\n\tvideo.classList.add('IIV');\n\n\t// Autoplay\n\tif (video.muted && willAutoplay) {\n\t\tvideo.play();\n\t\tvideo.addEventListener('playing', function restoreAutoplay() {\n\t\t\tvideo.autoplay = true;\n\t\t\tvideo.removeEventListener('playing', restoreAutoplay);\n\t\t});\n\t}\n\n\tif (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t}\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (enableInlineVideo);\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export intervalometer */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return frameIntervalometer; });\n/* unused harmony export timerIntervalometer */\n/*! npm.im/intervalometer */\nfunction intervalometer(cb, request, cancel, requestParameter) {\n\tvar requestId;\n\tvar previousLoopTime;\n\tfunction loop(now) {\n\t\t// must be requested before cb() because that might call .stop()\n\t\trequestId = request(loop, requestParameter);\n\n\t\t// called with \"ms since last call\". 0 on start()\n\t\tcb(now - (previousLoopTime || now));\n\n\t\tpreviousLoopTime = now;\n\t}\n\treturn {\n\t\tstart: function start() {\n\t\t\tif (!requestId) { // prevent double starts\n\t\t\t\tloop(0);\n\t\t\t}\n\t\t},\n\t\tstop: function stop() {\n\t\t\tcancel(requestId);\n\t\t\trequestId = null;\n\t\t\tpreviousLoopTime = 0;\n\t\t}\n\t};\n}\n\nfunction frameIntervalometer(cb) {\n\treturn intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n}\n\nfunction timerIntervalometer(cb, delay) {\n\treturn intervalometer(cb, setTimeout, clearTimeout, delay);\n}\n\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = __webpack_require__(2);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Youtube = function (_EventSystem) {\n    _inherits(Youtube, _EventSystem);\n\n    function Youtube() {\n        _classCallCheck(this, Youtube);\n\n        var _this = _possibleConstructorReturn(this, (Youtube.__proto__ || Object.getPrototypeOf(Youtube)).call(this));\n\n        _this._src = '';\n        _this._currentTime = 0;\n        _this._duration = 0;\n        _this._isReady = false;\n        _this._error = null;\n        _this._isEnded = false;\n\n        _this.addEventListener(_constants.MEDIA_EVENTS.ended, function () {\n            return _this._isEnded = true;\n        });\n\n        var self = _this;\n        _this.style = {\n            set visibility(value) {\n                self._container.style.visibility = value;\n                self._overflow.style.visibility = value;\n            },\n            set display(value) {\n                self._container.style.display = value;\n                self._overflow.style.display = value;\n            }\n        };\n\n        _this.buffered = {\n            get length() {\n                return 0;\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Youtube, [{\n        key: 'includeYoutubeAPI',\n        value: function includeYoutubeAPI() {\n            // if Youtube API is already injected - do nothing\n            if (typeof window.YT !== 'undefined') {\n                return;\n            }\n\n            // inject Youtube API\n            var tag = document.createElement('script');\n            tag.src = '//www.youtube.com/iframe_api';\n            var firstScriptTag = document.getElementsByTagName('script')[0];\n            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n        }\n    }, {\n        key: 'createElement',\n        value: function createElement(parent, videoId) {\n            var _this2 = this;\n\n            console.log('[alfa] youtube.createElement: YT = ' + typeof window.YT);\n\n            // if Youtube API is not injected yet, then delay creating of player to 'onYouTubeIframeAPIReady' event listener\n            if (typeof window.YT === 'undefined') {\n                window.onYouTubeIframeAPIReady = function () {\n                    _this2.createElement(parent, videoId);\n                    window.onYouTubeIframeAPIReady = null;\n                };\n                return;\n            }\n\n            var container = document.createElement('div');\n            container.className = 'alfa_fillparent';\n            container.style.visibility = 'hidden';\n            container.style.display = 'none';\n            parent.appendChild(container);\n\n            this._overflow = document.createElement('div');\n            this._overflow.className = 'alfa_fillparent';\n            this._overflow.style.visibility = 'hidden';\n            parent.appendChild(this._overflow);\n            this._overflow.addEventListener('click', this.onOverflowClick.bind(this));\n\n            this._player = new window.YT.Player(container, {\n                videoId: videoId,\n                playerVars: { 'autoplay': 0, 'controls': 0, 'showinfo': 0, 'html5': 1, 'modestbranding': 1, 'rel': 0 },\n                events: {\n                    onStateChange: this.onStateChange.bind(this),\n                    onReady: this.onReady.bind(this),\n                    onError: this.onErrorEvent.bind(this)\n                }\n            });\n            this._container = parent.getElementsByTagName('iframe')[0];\n        }\n    }, {\n        key: 'onStateChange',\n        value: function onStateChange(e) {\n            var _this3 = this;\n\n            console.log('[alfa] ON Youtube state changed event', __filterEventState(e));\n\n            switch (e.data) {\n                case window.YT.PlayerState.PAUSED:\n                    {\n                        clearInterval(this.tweenTimeInterval);\n                        var ytTime = this._player.getCurrentTime();\n                        this._currentTime = this._currentTime > ytTime ? this._currentTime : ytTime;\n                        this.emit(_constants.MEDIA_EVENTS.pause);\n                        console.log('[alfa] PAUSED, ytTime:', ytTime, ' currentTime:', this._currentTime);\n                        if (this.duration - this._currentTime <= 0) {\n                            this.emit(_constants.MEDIA_EVENTS.ended);\n                        }\n                    }\n                    break;\n\n                case window.YT.PlayerState.PLAYING:\n                    {\n                        var dur = this._player.getDuration();\n                        if (dur !== this._duration) {\n                            this._duration = dur;\n                            this.emit(_constants.MEDIA_EVENTS.durationchange);\n                        }\n\n                        if (this._currentTime < dur && !this._isEnded) {\n                            clearInterval(this.tweenTimeInterval);\n                            this.tweenTimeInterval = setInterval(function () {\n                                return _this3.tweenTime();\n                            }, 100);\n                            this.emit(_constants.MEDIA_EVENTS.play);\n                            this.style.visibility = 'visible';\n                        } else {\n                            console.log('[alfa] stop while playing');\n                            this._player.stopVideo();\n                        }\n                    }\n                    break;\n\n                case window.YT.PlayerState.ENDED:\n                    {\n                        clearInterval(this.tweenTimeInterval);\n                        this.emit(_constants.MEDIA_EVENTS.ended);\n                    }\n                    break;\n\n                case window.YT.PlayerState.BUFFERING:\n                    {\n                        if (!this._isEnded) this.emit(_constants.PLAYER_EVENTS.BUFFERING);\n                    }\n                    break;\n\n                case window.YT.PlayerState.CUED:\n                    {\n                        this.emit(_constants.MEDIA_EVENTS.pause);\n                    }\n                    break;\n\n                /*\r\n                 case window.YT.PlayerState.UNSTARTED: {\r\n                   }\r\n                 break;\r\n                 */\n            }\n        }\n    }, {\n        key: 'onOverflowClick',\n        value: function onOverflowClick() {\n            this.emit(_constants.PLAYER_EVENTS.CLICK);\n        }\n    }, {\n        key: 'onReady',\n        value: function onReady() {\n            this._isReady = true;\n            if (typeof this._volume === 'number') this._player.setVolume(this._volume);\n            if (this._playOnReady) {\n                this._player.playVideo();\n            }\n        }\n    }, {\n        key: 'onErrorEvent',\n        value: function onErrorEvent(e) {\n            console.log('[alfa] Youtube error: ', e);\n            this._error = { code: e.data };\n            if (e.data >= 100) {\n                this.style.visibility = 'visible';\n                this.style.display = 'inline';\n                this.emit(_constants.MEDIA_EVENTS.error);\n            }\n        }\n    }, {\n        key: 'tweenTime',\n        value: function tweenTime() {\n            var time_update = this._player.getCurrentTime();\n            if (time_update >= this._duration) {\n                clearInterval(this.tweenTimeInterval);\n                this._currentTime = this._duration;\n                this.pause();\n                this.emit(_constants.MEDIA_EVENTS.ended);\n                return;\n            }\n\n            var playing = this._player.getPlayerState();\n            if (playing === 1) {\n                if (this.last_time_update == time_update) {\n                    this._currentTime += 0.1;\n                }\n                if (this.last_time_update != time_update) {\n                    this._currentTime = time_update;\n                }\n                if (time_update > this._duration) this._currentTime = this._duration;\n            }\n            this.last_time_update = time_update;\n            this.emit(_constants.MEDIA_EVENTS.timeupdate);\n        }\n    }, {\n        key: 'play',\n        value: function play() {\n            if (this._isReady) {\n                this.style.display = 'inline';\n                this._player.playVideo();\n                this._isEnded = false;\n            } else {\n                this._playOnReady = true;\n            }\n        }\n    }, {\n        key: 'pause',\n        value: function pause() {\n            if (this._isReady) {\n                this._player.pauseVideo();\n            }\n        }\n    }, {\n        key: 'paused',\n        get: function get() {\n            if (this._isReady) {\n                var s = this._player.getPlayerState();\n                return s === -1 || s === 0 || s === 2 || s === window.YT.PlayerState.CUED;\n            } else {\n                return !this._playOnReady;\n            }\n        }\n    }, {\n        key: 'state',\n        get: function get() {\n            if (this._isReady) {\n                return this._player.getPlayerState();\n            } else {\n                return -1;\n            }\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._isReady ? this._player.getVolume() : 1;\n        },\n        set: function set(value) {\n            value *= 100;\n            if (this._isReady) {\n                this._player.setVolume(value);\n            } else {\n                this._volume = value;\n            }\n        }\n    }, {\n        key: 'error',\n        get: function get() {\n            return this._error;\n        }\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._isReady ? this._player.getDuration() : 0;\n        }\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this._currentTime;\n        },\n        set: function set(value) {\n            if (value > this._duration) {\n                value = this._duration;\n            }\n\n            this._currentTime = value;\n            if (this._isReady) {\n                this._player.seekTo(value);\n            }\n            this.emit(_constants.MEDIA_EVENTS.timeupdate);\n        }\n    }, {\n        key: 'src',\n        get: function get() {\n            return this._src;\n        },\n        set: function set(value) {\n            this._src = value;\n        }\n    }]);\n\n    return Youtube;\n}(_eventSystem2.default);\n\nexports.default = Youtube;\n\n\nfunction __filterEventState(event) {\n    return Object.keys(window.YT.PlayerState).filter(function (key) {\n        return window.YT.PlayerState[key] === event.data;\n    }).pop();\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _VPAIDFLASHClient = __webpack_require__(37);\n\nvar _VPAIDFLASHClient2 = _interopRequireDefault(_VPAIDFLASHClient);\n\nvar _constants = __webpack_require__(2);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _contextMenu = __webpack_require__(19);\n\nvar _errors = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FlashClientOpts = { data: _constants.URL.VPAID_FLASH };\nvar EVENTS = ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', // VPAID 2.0 new event\n'AdSizeChange', // VPAID 2.0 new event\n'AdLinearChange', 'AdDurationChange', // VPAID 2.0 new event\n'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', // VPAID 2.0 new event\n'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError'];\nvar VPAID_LOAD_TIMEOUT = 7100;\nvar CHECK_TIME_INTERVAL = 500;\n\nvar VPAIDPlayer = function (_EventSystem) {\n    _inherits(VPAIDPlayer, _EventSystem);\n\n    function VPAIDPlayer(parent, videoEl, wap) {\n        _classCallCheck(this, VPAIDPlayer);\n\n        var _this = _possibleConstructorReturn(this, (VPAIDPlayer.__proto__ || Object.getPrototypeOf(VPAIDPlayer)).call(this));\n\n        _this._src = '';\n        _this._videoEl = videoEl;\n        _this._paused = true;\n        _this._duration = 0;\n        _this._currentTime = 0;\n        _this._id = Math.floor(Math.random() * 1000);\n        _this._parent = parent;\n        _this._volume = videoEl.volume;\n        _this._wap = wap;\n        _this._type = _constants.MIME.JS;\n        _this._errorSent = false;\n        _this._frameContainer = null;\n\n        _this.style = {\n            set visibility(value) {\n                //self._overflow.style.visibility = value;\n            },\n            set display(value) {\n                //self._overflow.style.display = value;\n            }\n        };\n\n        _this.buffered = {\n            get length() {\n                return 0;\n            }\n        };\n        return _this;\n    }\n\n    _createClass(VPAIDPlayer, [{\n        key: 'createElement',\n        value: function createElement() {\n            var _this2 = this;\n\n            console.log('[alfa] Create VPAID container element ', this._type);\n\n            this._errorSent = false;\n\n            // set VPAID load timeout handler\n            this._adLoadTimeoutTimer = setTimeout(function () {\n                console.log('[alfa] VPAID adloadtimeout');\n                _this2._emitError('adloadtimeout');\n            }, VPAID_LOAD_TIMEOUT);\n\n            var frame = void 0;\n            if (this._type === _constants.MIME.JS) {\n                frame = this.createHTML5Frame();\n            } else if (this._type === _constants.MIME.FLASH) {\n                frame = this.createFlashFrame();\n            }\n\n            if (frame) {\n                frame.style.border = '0px';\n                frame.style.width = '100%';\n                frame.style.height = '100%';\n                frame.style.position = 'absolute';\n                frame.style.left = '0';\n                frame.style.top = '0';\n                frame.style.overflow = 'hidden';\n                frame.scrolling = 'no';\n            }\n        }\n    }, {\n        key: 'createHTML5Frame',\n        value: function createHTML5Frame() {\n            var _this3 = this;\n\n            // create FRAME and inject it to page\n            var frame = this._frame = document.createElement('iframe');\n            frame.src = 'javascript:false';\n            this._parent.appendChild(frame);\n\n            // write to frame source\n            var d = frame.contentWindow.document;\n            try {\n                d.open().write(generateHTML5FrameSource(this._src));\n                frame.contentWindow.alfaLoad = this.onIFrameReady.bind(this);\n                frame.contentWindow.alfaError = function (error) {\n                    return _this3._emitError(error);\n                };\n                d.close();\n            } catch (e) {\n                console.log(e);\n            }\n\n            // pass 'mousemove' event out of the frame\n            frame.contentWindow.addEventListener('mousemove', function (event) {\n                var boundingClientRect = frame.getBoundingClientRect();\n\n                var evt = new CustomEvent('mousemove', { bubbles: true, cancelable: false });\n                evt.clientX = event.clientX + boundingClientRect.left;\n                evt.clientY = event.clientY + boundingClientRect.top;\n\n                frame.dispatchEvent(evt);\n            });\n\n            // catch 'contextmenu' event, and show\n            frame.contentWindow.document.addEventListener('contextmenu', function (e) {\n                console.log('[alfa] ASD CONTEXT MENUS');\n                var items = [{ id: 'about_player', text: 'About Web Alfa player', href: 'http://www.alfaplayer.com/share/' }];\n                (0, _contextMenu.showContextMenuAt)(e.x, e.y, items, _this3._parent);\n                e.preventDefault();\n            });\n\n            return frame;\n        }\n    }, {\n        key: 'createFlashFrame',\n        value: function createFlashFrame() {\n            var _this4 = this;\n\n            var frame = void 0;\n\n            if (this._frameContainer === null) {\n                frame = this._frameContainer = document.createElement('span');\n                this._frameContainer.className = 'alfa-vpaid-container';\n                //this._frameContainer.style.display = 'none';\n                this._parent.appendChild(this._frameContainer);\n            }\n\n            var vpaidFlashClient = new _VPAIDFLASHClient2.default(this._frameContainer, function (error) {\n                if (error) {\n                    console.log('[alfa] VPAID Error:', error);\n                    _this4._emitError(error);\n                }\n\n                vpaidFlashClient.loadAdUnit(_this4._src, function (error, adUnit) {\n                    if (error) {\n                        console.log('[alfa] VPAID Error:', error);\n                        _this4._emitError(error);\n                    }\n\n                    _this4._creative = adUnit;\n                    var rect = _this4._parent.getBoundingClientRect();\n                    adUnit.initAd(rect.width, rect.height, 'normal', -1, {\n                        AdParameters: _this4._wap.currentAd.adParameters || ''\n                    });\n\n                    EVENTS.forEach(function (eventName) {\n                        if (typeof _this4['on' + eventName] === 'function') {\n                            adUnit.on(eventName, _this4['on' + eventName].bind(_this4));\n                        } else {\n                            adUnit.on(eventName, function () {\n                                return console.log('[alfa VPAID] ' + eventName);\n                            });\n                        }\n                    });\n                });\n            }, FlashClientOpts);\n\n            return frame;\n        }\n    }, {\n        key: 'play',\n        value: function play() {\n            console.log('[alfa] play VPAID ad');\n            if (this._creative) {\n                this._creative.resumeAd();\n            }\n        }\n    }, {\n        key: 'pause',\n        value: function pause() {\n            console.log('[alfa] pause VPAID ad');\n            if (this._creative) {\n                this._creative.pauseAd();\n            }\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            console.log('[alfa] skip VPAID ad');\n            if (this._creative) {\n                this._creative.skipAd();\n            }\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            console.log('[alfa] resize VPAID ad');\n            if (this._creative) {\n                this._creative.resizeAd(width, height, viewMode);\n            }\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            console.log('[alfa] expand VPAID ad');\n            if (this._creative) {\n                this._creative.expandAd();\n            }\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            console.log('[alfa] collapse VPAID ad');\n            if (this._creative) {\n                this._creative.collapseAd();\n            }\n        }\n    }, {\n        key: 'getAdLinear',\n        value: function getAdLinear() {\n            if (this._creative) {\n                return this._creative.getAdLinear();\n            }\n            return true;\n        }\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded() {\n            if (this._creative) {\n                return this._creative.getAdExpanded();\n            }\n            return false;\n        }\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState() {\n            if (this._creative) {\n                return this._creative.getAdSkippableState();\n            }\n            return false;\n        }\n    }, {\n        key: 'onAdImpression',\n        value: function onAdImpression() {\n            console.log('[alfa] VPAID on AdImpression');\n            this._wap.notifyImpressions();\n        }\n    }, {\n        key: 'onAdVideoFirstQuartile',\n        value: function onAdVideoFirstQuartile() {\n            console.log('[alfa] VPAID on AdVideoFirstQuartile');\n            this._wap.notifyOnce(_constants.VAST_EVENTS.FIRST_QUARTILE);\n        }\n    }, {\n        key: 'onAdVideoMidpoint',\n        value: function onAdVideoMidpoint() {\n            console.log('[alfa] VPAID on AdVideoMidpoint');\n            this._wap.notifyOnce(_constants.VAST_EVENTS.MIDPOINT);\n        }\n    }, {\n        key: 'onAdVideoThirdQuartile',\n        value: function onAdVideoThirdQuartile() {\n            console.log('[alfa] VPAID on AdVideoThirdQuartile');\n            this._wap.notifyOnce(_constants.VAST_EVENTS.THIRD_QUARTILE);\n        }\n    }, {\n        key: 'onAdLoaded',\n        value: function onAdLoaded() {\n            var _this5 = this;\n\n            this._creative.startAd();\n            console.log('[alfa] VPAID on AdLoaded');\n\n            if (this._adLoadTimeoutTimer) {\n                clearTimeout(this._adLoadTimeoutTimer);\n            }\n            this._duration = 0;\n            this._currentTime = 0;\n            this._paused = false;\n            this.emit(_constants.MEDIA_EVENTS.play);\n\n            // set interval to repeatedly check and update VPAID duration and time in player interface\n            this._checkTimeInterval = setInterval(function () {\n                _this5._readDurationAndTime();\n            }, CHECK_TIME_INTERVAL);\n\n            try {\n                this._creative.setAdVolume(this._volume);\n            } catch (e) {\n                // nothing to do\n            }\n        }\n    }, {\n        key: 'onAdVideoStart',\n        value: function onAdVideoStart() {\n            console.log('[alfa] VPAID on AdVideoStart');\n            this._paused = false;\n            this._wap.notifyOnce(_constants.VAST_EVENTS.START);\n        }\n    }, {\n        key: 'onAdClickThru',\n        value: function onAdClickThru(url, id, playerHandles) {\n            console.log('[alfa] VPAID on AdClickThru');\n            this.emit(_constants.PLAYER_EVENTS.AD_CLICK_THROUGH, url, id, playerHandles);\n        }\n    }, {\n        key: 'onAdExpandedChange',\n        value: function onAdExpandedChange() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'AdExpandedChange');\n        }\n    }, {\n        key: 'onAdInteraction',\n        value: function onAdInteraction() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'AdInteraction');\n        }\n    }, {\n        key: 'onAdUserAcceptInvitation',\n        value: function onAdUserAcceptInvitation() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'AdUserAcceptInvitation');\n        }\n    }, {\n        key: 'onAdUserMinimize',\n        value: function onAdUserMinimize() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'AdUserMinimize');\n        }\n    }, {\n        key: 'onAdUserClose',\n        value: function onAdUserClose() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'AdUserClose');\n        }\n    }, {\n        key: 'onAdSkippableStateChange',\n        value: function onAdSkippableStateChange() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'AdSkippableStateChange');\n        }\n    }, {\n        key: 'onAdVideoComplete',\n        value: function onAdVideoComplete() {\n            console.log('[alfa] VPAID on AdVideoComplete');\n            this._wap.notifyOnce(_constants.VAST_EVENTS.COMPLETE);\n        }\n    }, {\n        key: 'onAdPaused',\n        value: function onAdPaused() {\n            console.log('[alfa] VPAID on AdPaused');\n            this._paused = true;\n            this.emit(_constants.MEDIA_EVENTS.pause);\n        }\n    }, {\n        key: 'onAdPlaying',\n        value: function onAdPlaying() {\n            console.log('[alfa] VPAID on AdPlaying');\n            this._paused = false;\n            this.emit(_constants.MEDIA_EVENTS.play);\n            this.emit(_constants.MEDIA_EVENTS.timeupdate);\n        }\n    }, {\n        key: 'onAdError',\n        value: function onAdError(e) {\n            console.log('[alfa] VPAID on AdError: ', e);\n            this._paused = true;\n            if (this._type === _constants.MIME.FLASH) {\n                this._parent.removeChild(this._frameContainer);\n                this._frameContainer = null;\n            } else {\n                this._parent.removeChild(this._frame);\n            }\n            this._frame = void 0;\n            this._creative = void 0;\n            if (this._adLoadTimeoutTimer) {\n                clearTimeout(this._adLoadTimeoutTimer);\n            }\n            if (this._checkTimeInterval) {\n                clearInterval(this._checkTimeInterval);\n            }\n            if (!this._errorSent) this._errorSent = true;\n\n            var vastError = (0, _errors.createVastError)(_errors.VAST_ERRORS.VPAID_ERROR, e && e.message || e);\n            this.emit(_constants.MEDIA_EVENTS.error, vastError);\n        }\n    }, {\n        key: 'onAdVolumeChange',\n        value: function onAdVolumeChange() {\n            console.log('[alfa] VPAID on AdVolumeChange');\n            this._readVolume();\n        }\n    }, {\n        key: 'onAdRemainingTimeChange',\n        value: function onAdRemainingTimeChange() {\n            this._readDurationAndTime();\n        }\n    }, {\n        key: 'onAdDurationChange',\n        value: function onAdDurationChange() {\n            this._readDurationAndTime();\n        }\n    }, {\n        key: 'onAdStopped',\n        value: function onAdStopped() {\n            var _this6 = this;\n\n            console.log('[alfa] VPAID on AdStopped');\n\n            if (this._checkTimeInterval) {\n                clearInterval(this._checkTimeInterval);\n            }\n\n            if (this._type === _constants.MIME.FLASH) {\n                this._parent.removeChild(this._frameContainer);\n                this._frameContainer = null;\n            } else {\n                if (this._frame.parentNode) this._frame.parentNode.removeChild(this._frame);\n            }\n\n            setTimeout(function () {\n                return _this6.emit(_constants.MEDIA_EVENTS.ended);\n            }, 75);\n            this._frame = void 0;\n            this._creative = void 0;\n        }\n    }, {\n        key: 'onAdSkipped',\n        value: function onAdSkipped() {\n            this._wap.emit(_constants.PLAYER_EVENTS.VPAID_EVENT, 'onAdSkipped');\n        }\n    }, {\n        key: '_emitError',\n        value: function _emitError(error) {\n            if (!this._errorSent) {\n                this._errorSent = true;\n\n                var vastError = (0, _errors.createVastError)(_errors.VAST_ERRORS.VPAID_ERROR, error && error.message || error);\n                this.emit(_constants.MEDIA_EVENTS.error, vastError);\n            }\n        }\n    }, {\n        key: '_readVolume',\n        value: function _readVolume() {\n            var _this7 = this;\n\n            if (this._type === _constants.MIME.FLASH) {\n                this._creative.getAdVolume(function (err, value) {\n                    if (err) {\n                        return;\n                    }\n\n                    _this7._wap.ui.setVolumeUI(value);\n                    _this7._wap.emit(_constants.MEDIA_EVENTS.volumechange, value);\n                });\n            } else {\n                var vol = this._creative.getAdVolume();\n                this._wap.ui.setVolumeUI(vol);\n                this._wap.emit(_constants.MEDIA_EVENTS.volumechange, vol);\n            }\n        }\n    }, {\n        key: '_readDurationAndTime',\n        value: function _readDurationAndTime() {\n            var _this8 = this;\n\n            if (!this._creative) {\n                return;\n            }\n\n            if (this._type === _constants.MIME.FLASH) {\n                this._creative.getAdDuration(function (err, value) {\n                    if (err) {\n                        return;\n                    }\n\n                    _this8._duration = value;\n                    _this8.emit(_constants.MEDIA_EVENTS.durationchange);\n                });\n\n                this._creative.getAdRemainingTime(function (err, value) {\n                    if (err) {\n                        return;\n                    }\n\n                    if (_this8._duration <= 0) {\n                        _this8._duration = value;\n                        _this8.emit(_constants.MEDIA_EVENTS.durationchange);\n                    }\n\n                    _this8._currentTime = _this8._duration - value;\n                    _this8.emit(_constants.MEDIA_EVENTS.timeupdate);\n                });\n            } else if (this._type === _constants.MIME.JS) {\n                this._duration = this._creative.getAdDuration();\n                this._currentTime = this._duration - this._creative.getAdRemainingTime();\n                this.emit(_constants.MEDIA_EVENTS.timeupdate);\n                this.emit(_constants.MEDIA_EVENTS.durationchange);\n            }\n        }\n    }, {\n        key: 'onParentResize',\n        value: function onParentResize() {\n            console.log('[alfa] OnParentResize');\n            if (this._creative) {\n                var rect = this._videoEl.getBoundingClientRect();\n                this._creative.resizeAd(rect.width, rect.height, 'normal');\n            }\n        }\n    }, {\n        key: 'onIFrameReady',\n        value: function onIFrameReady() {\n            var _this9 = this;\n\n            console.log('[alfa] VPAID IFRAME ready');\n            var vpaidAD = this._creative = this._frame.contentWindow.getVPAIDAd();\n\n            var adEl = this._frame.contentWindow.document.createElement('div');\n            adEl.className = 'ad-element';\n            adEl.style.height = '100%';\n            this._frame.contentWindow.document.body.appendChild(adEl);\n\n            EVENTS.forEach(function (eventName) {\n                var handler = _this9['on' + eventName];\n                if (typeof handler === 'function') {\n                    vpaidAD.subscribe(handler, eventName, _this9);\n                } else {\n                    vpaidAD.subscribe(function () {\n                        return console.log('[alfa VPAID] ' + eventName);\n                    }, eventName, _this9);\n                }\n            });\n\n            var rect = this._videoEl.getBoundingClientRect();\n            vpaidAD.initAd(rect.width, rect.height, 'normal', 1000, {\n                AdParameters: this._wap.currentAd.adParameters || ''\n            }, {\n                slot: adEl,\n                videoSlot: this._videoEl\n            });\n        }\n    }, {\n        key: 'paused',\n        get: function get() {\n            return this._paused;\n        }\n    }, {\n        key: 'type',\n        get: function get() {\n            return this._type;\n        },\n        set: function set(value) {\n            this._type = value;\n        }\n    }, {\n        key: 'volume',\n        get: function get() {\n            return this._volume;\n        },\n        set: function set(value) {\n            console.log('set volume: ' + value);\n\n            this._volume = value;\n            try {\n                if (this._creative) this._creative.setAdVolume(value);\n            } catch (e) {\n                //console.error('VPAID error',e.message);\n            }\n        }\n    }, {\n        key: 'error',\n        get: function get() {\n            return null;\n        }\n    }, {\n        key: 'duration',\n        get: function get() {\n            return this._duration;\n        }\n    }, {\n        key: 'currentTime',\n        get: function get() {\n            return this._currentTime;\n        }\n\n        //not implemented\n\n    }, {\n        key: 'src',\n        get: function get() {\n            return this._src;\n        },\n        set: function set(value) {\n            this._src = value;\n            this.createElement();\n        }\n    }]);\n\n    return VPAIDPlayer;\n}(_eventSystem2.default);\n\nexports.default = VPAIDPlayer;\n\n\nfunction generateHTML5FrameSource(src) {\n    return '<head>' + '<script>' + 'function onLoad() {' + '    var js = document.createElement(\"script\");' + '    js.src = \"' + encodeURI(src) + '\";' + '    js.addEventListener(\"load\", function() { window.alfaLoad(); });' + '    js.addEventListener(\"error\", function(error) { window.alfaError(new URIError(\"VPAID script \" + error.target.src + \" is not accessible.\")); });' + '    document.body.appendChild(js);' + '}' + '</script>' + '</head>' + '<body onload=\"onLoad()\" style=\"margin: 0\">';\n}\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar swfobject = __webpack_require__(17);\n\nvar JSFlashBridge = __webpack_require__(18).JSFlashBridge;\nvar VPAIDAdUnit = __webpack_require__(39).VPAIDAdUnit;\n\nvar noop = __webpack_require__(4).noop;\nvar callbackTimeout = __webpack_require__(4).callbackTimeout;\nvar isPositiveInt = __webpack_require__(4).isPositiveInt;\nvar createElementWithID = __webpack_require__(4).createElementWithID;\nvar uniqueVPAID = __webpack_require__(4).unique('vpaid');\nvar createFlashTester = __webpack_require__(41).createFlashTester;\n\nvar ERROR = 'error';\nvar FLASH_VERSION = '10.1.0';\n\nvar flashTester = { isSupported: function isSupported() {\n        return true;\n    } }; // if the runFlashTest is not run the flashTester will always return true\n\nvar VPAIDFLASHClient = function () {\n    function VPAIDFLASHClient(vpaidParentEl, callback) {\n        var swfConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { data: 'VPAIDFlash.swf', width: 800, height: 400 };\n\n        var _this = this;\n\n        var params = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high' };\n        var vpaidOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { debug: false, timeout: 10000 };\n\n        _classCallCheck(this, VPAIDFLASHClient);\n\n        var me = this;\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._destroyed = false;\n        callback = callback || noop;\n\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID, true);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = 'flashid=' + this._flashID + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER + '&debug=' + vpaidOptions.debug + '&salign=' + params.salign;\n\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n\n        if (!this.el) {\n            return onError('swfobject failed to create object in element');\n        }\n\n        var handler = callbackTimeout(vpaidOptions.timeout, function (err, data) {\n            $loadPendedAdUnit.call(_this);\n            callback(err, data);\n        }, function () {\n            callback('vpaid flash load timeout ' + vpaidOptions.timeout);\n        });\n\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, handler);\n\n        function onError(error) {\n            setTimeout(function () {\n                callback(new Error(error));\n            }, 0);\n            return me;\n        }\n    }\n\n    _createClass(VPAIDFLASHClient, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._destroyAdUnit();\n\n            if (this._flash) {\n                this._flash.destroy();\n                this._flash = null;\n            }\n            this.el = null;\n            this._destroyed = true;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: '_destroyAdUnit',\n        value: function _destroyAdUnit() {\n            delete this._loadLater;\n\n            if (this._adUnitLoad) {\n                this._adUnitLoad = null;\n                this._flash.removeCallback(this._adUnitLoad);\n            }\n\n            if (this._adUnit) {\n                this._adUnit._destroy();\n                this._adUnit = null;\n            }\n        }\n    }, {\n        key: 'loadAdUnit',\n        value: function loadAdUnit(adURL, callback) {\n            var _this2 = this;\n\n            $throwIfDestroyed.call(this);\n\n            if (this._adUnit) {\n                this._destroyAdUnit();\n            }\n\n            if (this._flash.isReady()) {\n                this._adUnitLoad = function (err, message) {\n                    if (!err) {\n                        _this2._adUnit = new VPAIDAdUnit(_this2._flash);\n                    }\n                    _this2._adUnitLoad = null;\n                    callback(err, _this2._adUnit);\n                };\n\n                this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n            } else {\n                this._loadLater = { url: adURL, callback: callback };\n            }\n        }\n    }, {\n        key: 'unloadAdUnit',\n        value: function unloadAdUnit() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            $throwIfDestroyed.call(this);\n\n            this._destroyAdUnit();\n            this._flash.callFlashMethod('unloadAdUnit', [], callback);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            $throwIfDestroyed.call(this);\n            return this._flash.getFlashID();\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            $throwIfDestroyed.call(this);\n            return this._flash.getFlashURL();\n        }\n    }]);\n\n    return VPAIDFLASHClient;\n}();\n\nsetStaticProperty('isSupported', function () {\n    var supported = swfobject.hasFlashPlayerVersion(FLASH_VERSION) && flashTester.isSupported();\n\n    if (!supported) {\n        console.warn('-- VPAIDFLASHClient: Minimum required version of flash ', FLASH_VERSION);\n    }\n\n    console.log([\"-- VPAIDFLASHClient: Flash version:\", swfobject.getFlashPlayerVersion()]);\n\n    return supported;\n}, true);\n\nsetStaticProperty('runFlashTest', function (swfConfig) {\n    flashTester = createFlashTester(document.body, swfConfig);\n});\n\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error('VPAIDFlashToJS is destroyed!');\n    }\n}\n\nfunction $loadPendedAdUnit() {\n    if (this._loadLater) {\n        this.loadAdUnit(this._loadLater.url, this._loadLater.callback);\n        delete this._loadLater;\n    }\n}\n\nfunction setStaticProperty(propertyName, value) {\n    var writable = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    Object.defineProperty(VPAIDFLASHClient, propertyName, {\n        writable: writable,\n        configurable: false,\n        value: value\n    });\n}\n\nVPAIDFLASHClient.swfobject = swfobject;\n\nmodule.exports = VPAIDFLASHClient;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar SingleValueRegistry = __webpack_require__(11).SingleValueRegistry;\nvar instances = new SingleValueRegistry();\n\nvar JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function value(id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IVPAIDAdUnit = __webpack_require__(40).IVPAIDAdUnit;\nvar ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nvar VPAIDAdUnit = exports.VPAIDAdUnit = function (_IVPAIDAdUnit) {\n    _inherits(VPAIDAdUnit, _IVPAIDAdUnit);\n\n    function VPAIDAdUnit(flash) {\n        _classCallCheck(this, VPAIDAdUnit);\n\n        var _this = _possibleConstructorReturn(this, (VPAIDAdUnit.__proto__ || Object.getPrototypeOf(VPAIDAdUnit)).call(this));\n\n        _this._destroyed = false;\n        _this._flash = flash;\n        return _this;\n    }\n\n    _createClass(VPAIDAdUnit, [{\n        key: '_destroy',\n        value: function _destroy() {\n            var _this2 = this;\n\n            this._destroyed = true;\n            ALL_VPAID_METHODS.forEach(function (methodName) {\n                _this2._flash.removeCallbackByMethodName(methodName);\n            });\n            IVPAIDAdUnit.EVENTS.forEach(function (event) {\n                _this2._flash.offEvent(event);\n            });\n\n            this._flash = null;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._flash.on(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            this._flash.off(eventName, callback);\n        }\n\n        //VPAID interface\n\n    }, {\n        key: 'handshakeVersion',\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '2.0';\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n        }\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { AdParameters: '' };\n            var environmentVars = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : { flashVars: '' };\n            var callback = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : undefined;\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n            creativeData = creativeData || { AdParameters: '' };\n            environmentVars = environmentVars || { flashVars: '' };\n\n            this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData.AdParameters || '', environmentVars.flashVars || ''], callback);\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            //resize ad inside the flash\n            this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('startAd', [], callback);\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('stopAd', [], callback);\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('pauseAd', [], callback);\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('resumeAd', [], callback);\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('expandAd', [], callback);\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('collapseAd', [], callback);\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n            this._flash.callFlashMethod('skipAd', [], callback);\n        }\n\n        //properties that will be treat as async methods\n\n    }, {\n        key: 'getAdLinear',\n        value: function getAdLinear(callback) {\n            this._flash.callFlashMethod('getAdLinear', [], callback);\n        }\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {\n            this._flash.callFlashMethod('getAdWidth', [], callback);\n        }\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {\n            this._flash.callFlashMethod('getAdHeight', [], callback);\n        }\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {\n            this._flash.callFlashMethod('getAdExpanded', [], callback);\n        }\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {\n            this._flash.callFlashMethod('getAdSkippableState', [], callback);\n        }\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {\n            this._flash.callFlashMethod('getAdRemainingTime', [], callback);\n        }\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {\n            this._flash.callFlashMethod('getAdDuration', [], callback);\n        }\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(volume) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            this._flash.callFlashMethod('setAdVolume', [volume], callback);\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {\n            this._flash.callFlashMethod('getAdVolume', [], callback);\n        }\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {\n            this._flash.callFlashMethod('getAdCompanions', [], callback);\n        }\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {\n            this._flash.callFlashMethod('getAdIcons', [], callback);\n        }\n    }]);\n\n    return VPAIDAdUnit;\n}(IVPAIDAdUnit);\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//simple representation of the API\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IVPAIDAdUnit = exports.IVPAIDAdUnit = function () {\n    function IVPAIDAdUnit() {\n        _classCallCheck(this, IVPAIDAdUnit);\n    }\n\n    _createClass(IVPAIDAdUnit, [{\n        key: 'handshakeVersion',\n\n\n        //all methods below\n        //are async methods\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '2.0';\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n        }\n\n        //creativeData is an object to be consistent with VPAIDHTML\n\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { AdParameters: '' };\n            var environmentVars = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : { flashVars: '' };\n            var callback = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : undefined;\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n        }\n\n        //properties that will be treat as async methods\n\n    }, {\n        key: 'getAdLinear',\n        value: function getAdLinear(callback) {}\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {}\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {}\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {}\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {}\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {}\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {}\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(soundVolume) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {}\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {}\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {}\n    }]);\n\n    return IVPAIDAdUnit;\n}();\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange', 'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError']\n});\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar swfobject = __webpack_require__(17);\n\nvar FLASH_TEST = 'vpaid_video_flash_tester';\nvar FLASH_TEST_EL = 'vpaid_video_flash_tester_el';\nvar JSFlashBridge = __webpack_require__(18).JSFlashBridge;\nvar utils = __webpack_require__(4);\nvar MultipleValuesRegistry = __webpack_require__(11).MultipleValuesRegistry;\n\nvar FlashTester = function () {\n    function FlashTester(parent) {\n        var _this = this;\n\n        var swfConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { data: 'VPAIDFlash.swf', width: 800, height: 400 };\n\n        _classCallCheck(this, FlashTester);\n\n        this.parentEl = utils.createElementWithID(parent, FLASH_TEST_EL); // some browsers create global variables using the element id http://stackoverflow.com/questions/3434278/do-dom-tree-elements-with-ids-become-global-variables\n        utils.hideFlashEl(this.parentEl);\n        var params = {};\n        params.movie = swfConfig.data;\n        params.FlashVars = 'flashid=' + FLASH_TEST_EL + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER;\n        params.allowScriptAccess = 'always';\n\n        this.el = swfobject.createSWF(swfConfig, params, FLASH_TEST_EL);\n        this._handlers = new MultipleValuesRegistry();\n        this._isSupported = false;\n        if (this.el) {\n            utils.hideFlashEl(this.el);\n            this._flash = new JSFlashBridge(this.el, swfConfig.data, FLASH_TEST_EL, swfConfig.width, swfConfig.height, function () {\n                var support = true;\n                _this._isSupported = support;\n                _this._handlers.get('change').forEach(function (callback) {\n                    setTimeout(function () {\n                        callback('change', support);\n                    }, 0);\n                });\n            });\n        }\n    }\n\n    _createClass(FlashTester, [{\n        key: 'isSupported',\n        value: function isSupported() {\n            // return this._isSupported;\n            return true;\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }]);\n\n    return FlashTester;\n}();\n\nvar createFlashTester = exports.createFlashTester = function createFlashTester(el, swfConfig) {\n    if (!window[FLASH_TEST]) {\n        window[FLASH_TEST] = new FlashTester(el, swfConfig);\n    }\n    return window[FLASH_TEST];\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Background = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _styles = __webpack_require__(1);\n\nvar _userAgent = __webpack_require__(6);\n\nvar _utils = __webpack_require__(8);\n\nvar _constants = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    MOUSE_OVER_PLAYER: 'mouse_over_player',\n    MOUSE_OUT_OF_PLAYER: 'mouse_out_of_player'\n};\n\nvar Background = exports.Background = function (_EventSystem) {\n    _inherits(Background, _EventSystem);\n\n    function Background() {\n        _classCallCheck(this, Background);\n\n        var _this = _possibleConstructorReturn(this, (Background.__proto__ || Object.getPrototypeOf(Background)).call(this));\n\n        _this.element = null;\n        return _this;\n    }\n\n    _createClass(Background, [{\n        key: 'create',\n        value: function create(parent, width, height) {\n            var _this2 = this;\n\n            var element = this.element = document.createElement('div');\n\n            // click event\n            element.addEventListener(_userAgent.parsedUA.isMobile ? 'touchend' : 'click', function (e) {\n                return _this2.emit(_constants.PLAYER_EVENTS.CLICK, e);\n            });\n            // bind mouse events\n            this.__bindMouseEvents(parent, element);\n\n            element.className = _styles.STYLES.ROOT;\n            if (parent) {\n                element.classList.add('alfa-main-background');\n\n                if (width && height) {\n                    parent.style.width = width + 'px';\n                    parent.style.height = height + 'px';\n                    element.style.width = width + 'px';\n                    element.style.height = height + 'px';\n                } else if (parent.offsetHeight > 0 && parent.offsetWidth > 0) {\n                    element.style.width = parent.offsetWidth + 'px';\n                    element.style.height = parent.offsetHeight + 'px';\n                } else {\n                    element.style.cssText = _styles.STYLES.BACKGROUND_FULL_PAGE;\n                }\n            } else {\n                element.classList.add('alfa-video-background');\n            }\n\n            // load player styles\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = _styles.css;\n            element.appendChild(styleElement);\n\n            if (parent) {\n                parent.appendChild(element);\n            } else {\n                document.body.appendChild(element);\n            }\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.element.parentNode.removeChild(this.ui.element);\n        }\n    }, {\n        key: 'addElement',\n        value: function addElement(child) {\n            this.element.appendChild(child);\n        }\n    }, {\n        key: 'removeElement',\n        value: function removeElement(child) {\n            this.element.removeChild(child);\n        }\n    }, {\n        key: 'isFullscreen',\n        value: function isFullscreen() {\n            return this.element.classList.contains(_styles.STYLES.FULLSCREEN);\n        }\n    }, {\n        key: 'enterFullscreen',\n        value: function enterFullscreen() {\n            this.element.classList.add(_styles.STYLES.FULLSCREEN);\n        }\n    }, {\n        key: 'exitFullscreen',\n        value: function exitFullscreen() {\n            this.element.classList.remove(_styles.STYLES.FULLSCREEN);\n        }\n\n        /**\n         * Set player background to full translucent, so we can see underneath player if we injected as VPAID player\n         */\n\n    }, {\n        key: 'enableTranslucence',\n        value: function enableTranslucence() {\n            this.element.style.background = 'rgba(0,0,0,0)';\n        }\n    }, {\n        key: 'isInBounds',\n        value: function isInBounds(target) {\n            return (0, _utils.isChildOf)(target, this.element);\n        }\n    }, {\n        key: '__bindMouseEvents',\n\n\n        /**\n         * Bind mouse events if NOT on mobile device\n         * @param element\n         * @private\n         */\n        value: function __bindMouseEvents(parent, element) {\n            var _this3 = this;\n\n            // check for mobile device\n            if (_userAgent.parsedUA.isMobile) {\n                return;\n            }\n\n            // bind 'mousemove' event\n            element.addEventListener('mousemove', function (e) {\n                _this3.emit(EVENTS.MOUSE_OVER_PLAYER, e);\n            }, true);\n            // bind 'mouseout' event\n            element.addEventListener('mouseout', function (e) {\n                // check if mouse is out of player bounds\n                var root = parent || element;\n                if ((0, _utils.isChildOf)(e.relatedTarget, root)) {\n                    return;\n                }\n\n                _this3.emit(EVENTS.MOUSE_OUT_OF_PLAYER, e);\n            });\n        }\n    }, {\n        key: 'size',\n        get: function get() {\n            return {\n                width: this.element.offsetWidth,\n                height: this.element.offsetHeight\n            };\n        }\n    }]);\n\n    return Background;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.IconsContainer = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _icon = __webpack_require__(44);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    ICON_VIEW: 'icon_view',\n    ICON_CLICK: 'icon_click'\n};\n\n/**\r\n * Container element for VAST icons\r\n */\n\nvar IconsContainer = exports.IconsContainer = function (_EventSystem) {\n    _inherits(IconsContainer, _EventSystem);\n\n    function IconsContainer() {\n        _classCallCheck(this, IconsContainer);\n\n        var _this = _possibleConstructorReturn(this, (IconsContainer.__proto__ || Object.getPrototypeOf(IconsContainer)).call(this));\n\n        _this.element = null;\n        _this.icons = [];\n        return _this;\n    }\n\n    _createClass(IconsContainer, [{\n        key: 'create',\n        value: function create(parent) {\n            if (this.element) {\n                this.remove();\n            }\n\n            this.element = document.createElement('div');\n            this.element.className = 'alfa-icons-container';\n\n            parent.appendChild(this.element);\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            var element = this.element;\n            if (element && element.parentNode) {\n                element.parentNode.removeChild(element);\n            }\n        }\n    }, {\n        key: 'resizeToVideo',\n        value: function resizeToVideo(videoElement) {\n            if (!this.element) {\n                return;\n            }\n\n            var videoElementRect = videoElement.getBoundingClientRect();\n\n            var top = void 0,\n                height = void 0,\n                left = void 0,\n                width = void 0;\n            if (videoElement && videoElement.videoHeight > 0) {\n                if (videoElement.videoHeight / videoElementRect.height <= videoElement.videoWidth / videoElementRect.width) {\n                    var relativeHeight = videoElement.videoHeight / (videoElement.videoWidth / videoElementRect.width);\n                    top = (videoElementRect.height - relativeHeight) / 2 + 'px';\n                    height = relativeHeight + 'px';\n                    left = '0';\n                    width = '100%';\n                } else {\n                    var relativeWidth = videoElement.videoWidth / (videoElement.videoHeight / videoElementRect.height);\n                    left = (videoElementRect.width - relativeWidth) / 2 + 'px';\n                    width = relativeWidth + 'px';\n                    top = '0';\n                    height = '100%';\n                }\n            } else {\n                top = '0';\n                height = '100%';\n                left = '0';\n                width = '100%';\n            }\n\n            // set new dimensions\n            var element = this.element;\n            element.style.top = top;\n            element.style.height = height;\n            element.style.left = left;\n            element.style.width = width;\n        }\n    }, {\n        key: 'showIcons',\n        value: function showIcons(newIconRecords) {\n            var _this2 = this;\n\n            if (!this.element) {\n                return;\n            }\n\n            var visibleIconElements = this.icons;\n\n            // filter visible icons that should be destroyed\n            var iconsToDestroy = visibleIconElements.filter(function (iconElement) {\n                var newIconRecordsByIndex = newIconRecords.filter(function (newIconRecord) {\n                    return newIconRecord.index === iconElement.data.index;\n                });\n                return newIconRecordsByIndex.length <= 0;\n            });\n            // filter new icons data - for Icon element creation\n            var iconRecordsToCreate = newIconRecords.filter(function (newIconRecord) {\n                var visibleIconElementsByIndex = visibleIconElements.filter(function (iconElement) {\n                    return iconElement.data.index === newIconRecord.index;\n                });\n                return visibleIconElementsByIndex.length <= 0;\n            });\n\n            // destroy invalid icons\n            iconsToDestroy.forEach(function (iconElement) {\n                var index = visibleIconElements.indexOf(iconElement);\n                if (index >= 0) {\n                    visibleIconElements.slice(index, 1);\n                }\n\n                iconElement.off(_icon.EVENTS.VIEW);\n                iconElement.off(_icon.EVENTS.CLICK);\n\n                iconElement.remove();\n            });\n\n            // create new icons\n            iconRecordsToCreate.forEach(function (iconRecord) {\n                var iconElement = new _icon.Icon(iconRecord);\n                iconElement.create(_this2.element);\n\n                iconElement.on(_icon.EVENTS.VIEW, function (icon) {\n                    _this2.emit(EVENTS.ICON_VIEW, icon);\n                });\n                iconElement.on(_icon.EVENTS.CLICK, function (icon) {\n                    _this2.emit(EVENTS.ICON_CLICK, icon);\n                });\n\n                visibleIconElements.push(iconElement);\n            });\n        }\n    }]);\n\n    return IconsContainer;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Icon = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    VIEW: 'view',\n    CLICK: 'click'\n};\n\n/**\r\n * VAST icon element\r\n */\n\nvar Icon = exports.Icon = function (_EventSystem) {\n    _inherits(Icon, _EventSystem);\n\n    function Icon(data) {\n        _classCallCheck(this, Icon);\n\n        var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this));\n\n        _this.element = null;\n        _this.data = data;\n        return _this;\n    }\n\n    _createClass(Icon, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            var element = this.element = document.createElement('div');\n            element.className = 'alfa-icon';\n            if (this.data.clickThrough) {\n                element.classList.add(_styles.STYLES.CLICKABLE);\n            }\n            element.style.width = this.data.width + 'px';\n            element.style.height = this.data.height + 'px';\n\n            positionElement(element, this.data);\n\n            var img = document.createElement('img');\n            img.src = this.data.staticResource;\n\n            // emit event after successful image loading\n            img.onload = function () {\n                _this2.emit(EVENTS.VIEW, _this2.data);\n            };\n\n            // click listener\n            img.addEventListener('click', function () {\n                _this2.emit(EVENTS.CLICK, _this2.data);\n            });\n\n            element.appendChild(img);\n\n            parent.appendChild(element);\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.element && this.element.parentNode) {\n                this.element.parentNode.removeChild(this.element);\n            }\n        }\n    }]);\n\n    return Icon;\n}(_eventSystem2.default);\n\nfunction positionElement(element, data) {\n    var x = String(data.xPosition).toLowerCase();\n    if (x === 'left') {\n        element.style.left = '0';\n    } else if (x === 'right') {\n        element.style.right = '0';\n    } else {\n        element.style.left = x + 'px';\n    }\n\n    var y = String(data.yPosition).toLowerCase();\n    if (y === 'top') {\n        element.style.top = '0';\n    } else if (y === 'bottom') {\n        element.style.bottom = '0';\n    } else {\n        element.style.top = y + 'px';\n    }\n}\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Overlay = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _errors = __webpack_require__(5);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    VIEW: 'view',\n    CLOSE: 'close',\n    CONTENT_CLICK: 'content_click',\n    VAST_ERROR: 'vast_error'\n};\n\nvar Overlay = exports.Overlay = function (_EventSystem) {\n    _inherits(Overlay, _EventSystem);\n\n    function Overlay(nonLinear) {\n        _classCallCheck(this, Overlay);\n\n        var _this = _possibleConstructorReturn(this, (Overlay.__proto__ || Object.getPrototypeOf(Overlay)).call(this));\n\n        _this.parent = null;\n        _this.element = null;\n        _this.nonLinear = nonLinear;\n        return _this;\n    }\n\n    _createClass(Overlay, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            this.parent = parent;\n\n            var element = this.element = document.createElement('div');\n            element.className = 'alfa-overlay-root';\n\n            // hide root overlay element, until successful image loading\n            this.hide();\n\n            // close button click listener\n            var closeButton = document.createElement('div');\n            closeButton.className = 'alfa-overlay-close-btn';\n            closeButton.addEventListener('click', function () {\n                _this2.emit(EVENTS.CLOSE);\n            });\n\n            var contentFrame = document.createElement('div');\n            contentFrame.className = 'alfa-overlay-content-frame';\n\n            // banner image\n            var image = document.createElement('img');\n\n            // banner image props\n            image.src = this.nonLinear.staticResource;\n            image.style.width = '100%';\n            image.style.height = '100%';\n\n            // show banner after successful image loading\n            image.onload = function () {\n                _this2.show();\n                _this2.emit(EVENTS.VIEW);\n            };\n\n            // emit VAST error if target resource cannot be loaded (404 error)\n            image.onerror = function () {\n                var error = (0, _errors.createVastError)(_errors.VAST_ERRORS.NONLINEAR_FETCH, 'NonLinear resource \\'' + image.src + '\\' is not accessible.');\n                _this2.emit(EVENTS.VAST_ERROR, error);\n            };\n\n            // content click listener\n            image.addEventListener('click', function () {\n                window.open(_this2.nonLinear.clickThrough, '_blank');\n                _this2.emit(EVENTS.CONTENT_CLICK, _this2.nonLinear);\n            });\n            contentFrame.appendChild(image);\n\n            element.appendChild(contentFrame);\n            element.appendChild(closeButton);\n\n            // update banner sizes according to NonLinear size, with parent size in mind\n            this.updateGeometry();\n\n            parent.appendChild(element);\n        }\n\n        /**\r\n         * Update banner sizes according to NonLinear size, with parent size in mind\r\n         */\n\n    }, {\n        key: 'updateGeometry',\n        value: function updateGeometry() {\n            var availableWidth = this.parent.offsetWidth - 30;\n            var availableHeight = this.parent.offsetHeight - 50;\n            var scaleWidth = availableWidth / this.nonLinear.width;\n            var scaleHeight = availableHeight / this.nonLinear.height;\n\n            var minScale = scaleHeight < scaleWidth ? scaleHeight : scaleWidth;\n\n            this.width = minScale * this.nonLinear.width;\n            this.height = minScale * this.nonLinear.height;\n\n            this.element.style.width = this.width + 'px';\n            this.element.style.height = this.height + 'px';\n            this.element.style.bottom = '40px';\n            this.element.style.left = Math.round((this.parent.offsetWidth - this.width) / 2) + 'px';\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            if (this.element) {\n                this.element.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n            }\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            if (this.element) {\n                this.element.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.element && this.element.parentNode) {\n                this.element.parentNode.removeChild(this.element);\n            }\n        }\n    }]);\n\n    return Overlay;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SkipButton = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _settings = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    CLICK: 'click'\n};\n\nvar SkipButton = exports.SkipButton = function (_EventSystem) {\n    _inherits(SkipButton, _EventSystem);\n\n    function SkipButton(skipOffset) {\n        _classCallCheck(this, SkipButton);\n\n        var _this = _possibleConstructorReturn(this, (SkipButton.__proto__ || Object.getPrototypeOf(SkipButton)).call(this));\n\n        _this.element = null;\n        _this.skipText = null;\n        _this.skipTime = 999;\n        _this.skipOffset = skipOffset || _settings.settings.skipAdOffset;\n        return _this;\n    }\n\n    _createClass(SkipButton, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            var element = this.element = document.createElement('div');\n            element.className = 'alfa-skip-button';\n            element.addEventListener('click', function () {\n                // emit CLICK only after skip interval is passed\n                if (_this2.skipTime <= 0) {\n                    _this2.emit(EVENTS.CLICK);\n                }\n            });\n\n            var skipText = this.skipText = document.createElement('span');\n            skipText.className = 'alfa-skip-button-text';\n            element.appendChild(skipText);\n\n            parent.appendChild(element);\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.element && this.element.parentNode) {\n                this.element.parentNode.removeChild(this.element);\n            }\n        }\n    }, {\n        key: 'update',\n        value: function update(currentTime) {\n            this.skipTime = Math.round(this.skipOffset - currentTime);\n            if (this.skipTime > 0) {\n                this.skipText.innerHTML = 'Skip Ad in ' + this.skipTime;\n            } else {\n                this.skipText.innerHTML = 'Skip Now';\n            }\n        }\n    }]);\n\n    return SkipButton;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.AdultDialog = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    AGREED: 'agreed',\n    REJECT: 'reject'\n};\n\nvar WARNING_TEXT = '' + 'By entering this video, clicking the green \"Show Me\" button below, you agree to the following terms and conditions: ' + 'You certify that you are 18 years of age or older, and are not offended by sexually explicit imagery. ' + 'You agree that you will not permit any person(s) under 18 years of age to have access to the video.';\n\nvar AdultDialog = exports.AdultDialog = function (_EventSystem) {\n    _inherits(AdultDialog, _EventSystem);\n\n    function AdultDialog() {\n        _classCallCheck(this, AdultDialog);\n\n        var _this = _possibleConstructorReturn(this, (AdultDialog.__proto__ || Object.getPrototypeOf(AdultDialog)).call(this));\n\n        _this.element = null;\n        return _this;\n    }\n\n    _createClass(AdultDialog, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            this.element = document.createElement('div');\n            this.element.className = 'alfa-adult-warning-base';\n\n            var innerBase = document.createElement('div');\n            innerBase.className = 'alfa-adult-inner-base';\n\n            var innerCenter = document.createElement('div');\n            innerCenter.className = 'alfa-adult-inner-center';\n\n            var mainText = document.createElement('div');\n            mainText.className = 'alfa-adult-main-text ' + _styles.STYLES.NO_SELECT;\n            mainText.appendChild(document.createTextNode('Adult Only!'));\n\n            var warningText = document.createElement('div');\n            warningText.className = 'alfa-adult-warning-text ' + _styles.STYLES.NO_SELECT;\n            warningText.appendChild(document.createTextNode(WARNING_TEXT));\n\n            var showButton = document.createElement('div');\n            showButton.appendChild(document.createTextNode('Show me'));\n            showButton.className = 'alfa-adult-show-button ' + _styles.STYLES.NO_SELECT;\n            showButton.addEventListener('click', function () {\n                _this2.remove();\n                _this2.emit(EVENTS.AGREED);\n            });\n\n            var showButtonRow = document.createElement('div');\n            showButtonRow.appendChild(showButton);\n            showButtonRow.className = 'alfa-adult-showme';\n\n            var leaveButton = document.createElement('div');\n            leaveButton.className = 'alfa-adult-leave ' + _styles.STYLES.NO_SELECT;\n            leaveButton.appendChild(document.createTextNode('Leave'));\n            leaveButton.addEventListener('click', function () {\n                _this2.emit(EVENTS.REJECT);\n            });\n\n            innerCenter.appendChild(mainText);\n            innerCenter.appendChild(warningText);\n            innerCenter.appendChild(showButtonRow);\n            innerBase.appendChild(innerCenter);\n            innerBase.appendChild(leaveButton);\n            this.element.appendChild(innerBase);\n\n            parent.appendChild(this.element);\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.element && this.element.parentNode) {\n                this.element.parentNode.removeChild(this.element);\n            }\n        }\n    }]);\n\n    return AdultDialog;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ControlsBar = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _userAgent = __webpack_require__(6);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _timeBar = __webpack_require__(49);\n\nvar _timeLabel = __webpack_require__(50);\n\nvar _volumeBar = __webpack_require__(51);\n\nvar _utils = __webpack_require__(8);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    TIME_SEEK_START: 'time_seek_start',\n    TIME_SEEK: 'time_seek',\n    TIME_SEEK_END: 'time_seek_end',\n\n    PLAY_PAUSE_CLICK: 'play_pause_click',\n    VOLUME_CLICK: 'volume_click',\n    VOLUME_CHANGE: 'volume_change',\n    FULLSCREEN_CLICK: 'fullscreen_click'\n};\n\nvar ControlsBar = exports.ControlsBar = function (_EventSystem) {\n    _inherits(ControlsBar, _EventSystem);\n\n    function ControlsBar() {\n        _classCallCheck(this, ControlsBar);\n\n        var _this = _possibleConstructorReturn(this, (ControlsBar.__proto__ || Object.getPrototypeOf(ControlsBar)).call(this));\n\n        _this.element = null;\n        _this.playButton = null;\n\n        _this.timeBar = new _timeBar.TimeBar();\n        _this.currentTime = new _timeLabel.TimeLabel('alfa-current-time');\n        _this.totalTime = new _timeLabel.TimeLabel('alfa-total-time');\n\n        _this.volumeButton = null;\n        _this.volumeBar = null;\n        return _this;\n    }\n\n    _createClass(ControlsBar, [{\n        key: 'create',\n        value: function create(parent, config) {\n            var _this2 = this;\n\n            this.element = document.createElement('span');\n            this.element.className = 'alfa-controls ' + _styles.STYLES.TRANSITION_VISIBLE;\n\n            this.playButton = document.createElement('span');\n            this.playButton.className = 'alfa-play-button play-icon alfa-controlbar-item alfa-ctrl-button-icon ' + _styles.STYLES.NO_SELECT;\n            this.element.appendChild(this.playButton);\n\n            this.currentTime.create(this.element);\n            this.timeBar.create(this.element);\n            this.totalTime.create(this.element);\n\n            if (!_userAgent.parsedUA.isMobile) {\n                this.createVolumeRegulator(this.element);\n            }\n\n            if (!config.isFullscreenRestricted()) {\n                this.createFullscreenButton(this.element);\n            }\n\n            this.playButton.addEventListener(_userAgent.parsedUA.isMobile ? 'touchend' : 'click', function (e) {\n                e.stopPropagation();\n                _this2.emit(EVENTS.PLAY_PAUSE_CLICK);\n            });\n\n            this.timeBar.on(_timeBar.EVENTS.SEEK_START, function () {\n                return _this2.emit(EVENTS.TIME_SEEK_START);\n            });\n            this.timeBar.on(_timeBar.EVENTS.SEEK, function (percent) {\n                return _this2.emit(EVENTS.TIME_SEEK, percent);\n            });\n            this.timeBar.on(_timeBar.EVENTS.SEEK_END, function () {\n                return _this2.emit(EVENTS.TIME_SEEK_END);\n            });\n\n            parent.appendChild(this.element);\n        }\n    }, {\n        key: 'createVolumeRegulator',\n        value: function createVolumeRegulator(parent) {\n            var _this3 = this;\n\n            this.volumeButton = document.createElement('span');\n            this.volumeButton.className = _styles.STYLES.BUTTON_VOLUME + ' alfa-controlbar-item alfa-ctrl-button-icon';\n\n            this.volumeBar = new _volumeBar.VolumeBar();\n            this.volumeBar.create(this.volumeButton);\n            this.volumeBar.on(_volumeBar.EVENTS.VOLUME_CHANGE, function (percent) {\n                return _this3.emit(EVENTS.VOLUME_CHANGE, percent);\n            });\n\n            this.volumeButton.addEventListener('click', function (e) {\n                e.stopPropagation();\n                _this3.emit(EVENTS.VOLUME_CLICK);\n            });\n            this.volumeButton.addEventListener('mouseenter', function () {\n                return _this3.volumeBar.show();\n            });\n            this.volumeButton.addEventListener('mouseout', function (ev) {\n                var related = ev.relatedTarget;\n                if (!(0, _utils.isChildOf)(related, _this3.volumeButton)) {\n                    _this3.volumeBar.hide();\n                }\n            });\n\n            parent.appendChild(this.volumeButton);\n        }\n    }, {\n        key: 'createFullscreenButton',\n        value: function createFullscreenButton(parent) {\n            var _this4 = this;\n\n            var fullScreenButton = document.createElement('span');\n            fullScreenButton.className = 'alfa-fullscreen-button alfa-controlbar-item alfa-ctrl-button-icon';\n            fullScreenButton.addEventListener('click', function (e) {\n                e.stopPropagation();\n                _this4.emit(EVENTS.FULLSCREEN_CLICK);\n            });\n\n            parent.appendChild(fullScreenButton);\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            if (!this.element) {\n                return;\n            }\n\n            this.element.classList.remove(_styles.STYLES.DISPLAY_NONE);\n            this.element.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'hide',\n        value: function hide(immediate) {\n            if (immediate) {\n                this.element.classList.add(_styles.STYLES.DISPLAY_NONE);\n            }\n            this.element.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'isVisible',\n        value: function isVisible() {\n            return !this.element.classList.contains(_styles.STYLES.DISPLAY_NONE) && !this.element.classList.contains(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'morphToAdsLayout',\n        value: function morphToAdsLayout() {\n            this.currentTime.setText('Wait for ad...');\n            this.timeBar.hide();\n            this.totalTime.hide();\n\n            this.element.classList.add('adsLayout');\n        }\n    }, {\n        key: 'morphToWaitingAdsLayout',\n        value: function morphToWaitingAdsLayout() {\n            this.currentTime.setText('Wait for ad...');\n        }\n    }, {\n        key: 'morphToNormalLayout',\n        value: function morphToNormalLayout() {\n            if (!this.isAdsLayout()) {\n                return;\n            }\n\n            this.timeBar.show();\n            this.totalTime.show();\n            this.currentTime.setTime(0);\n            this.element.classList.remove('adsLayout');\n        }\n    }, {\n        key: 'isAdsLayout',\n        value: function isAdsLayout() {\n            return this.element.classList.contains('adsLayout');\n        }\n    }, {\n        key: 'showPlayButton',\n        value: function showPlayButton() {\n            this.playButton.classList.remove(_styles.STYLES.ICON_PAUSE);\n            this.playButton.classList.add(_styles.STYLES.ICON_PLAY);\n        }\n    }, {\n        key: 'showPauseButton',\n        value: function showPauseButton() {\n            this.playButton.classList.remove(_styles.STYLES.ICON_PLAY);\n            this.playButton.classList.add(_styles.STYLES.ICON_PAUSE);\n        }\n    }, {\n        key: 'updateVolume',\n        value: function updateVolume(vol) {\n            if (!this.volumeButton) {\n                return;\n            }\n\n            this.volumeBar.setVolume(vol);\n\n            if (vol === 0) {\n                this.volumeButton.classList.add(_styles.STYLES.BUTTON_VOLUME_MUTE);\n            } else {\n                this.volumeButton.classList.remove(_styles.STYLES.BUTTON_VOLUME_MUTE);\n            }\n        }\n    }]);\n\n    return ControlsBar;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TimeBar = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _userAgent = __webpack_require__(6);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _utils = __webpack_require__(8);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    SEEK_START: 'seek_start',\n    SEEK: 'seek',\n    SEEK_END: 'seek_end'\n};\n\nvar TimeBar = exports.TimeBar = function (_EventSystem) {\n    _inherits(TimeBar, _EventSystem);\n\n    function TimeBar() {\n        _classCallCheck(this, TimeBar);\n\n        var _this = _possibleConstructorReturn(this, (TimeBar.__proto__ || Object.getPrototypeOf(TimeBar)).call(this));\n\n        _this.element = null;\n        _this.thumb = null;\n        _this.playRail = null;\n        _this.buffRail = null;\n\n        _this.__isSeeking = false;\n        return _this;\n    }\n\n    _createClass(TimeBar, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            this.element = document.createElement('span');\n            this.element.className = _styles.STYLES.TIMEBAR + ' ' + _styles.STYLES.NO_SELECT;\n\n            // seek rail\n            var seekRail = document.createElement('span');\n            seekRail.className = _styles.STYLES.TIMEBAR_RAIL + ' ' + _styles.STYLES.TIMEBAR_SEEK_RAIL;\n            var seekRailFilling = document.createElement('span');\n            seekRailFilling.className = _styles.STYLES.TIMEBAR_RAIL_FILLING + ' ' + _styles.STYLES.TIMEBAR_SEEK_RAIL_FILLING;\n            seekRail.appendChild(seekRailFilling);\n\n            // buff rail\n            this.buffRail = document.createElement('span');\n            this.buffRail.className = _styles.STYLES.TIMEBAR_RAIL + ' ' + _styles.STYLES.TIMEBAR_BUFF_RAIL;\n            this.buffRail.style.width = '0%';\n            var buffRailFilling = document.createElement('span');\n            buffRailFilling.className = _styles.STYLES.TIMEBAR_RAIL_FILLING + ' ' + _styles.STYLES.TIMEBAR_BUFF_RAIL_FILLING + ' ' + _styles.STYLES.NO_SELECT;\n            this.buffRail.appendChild(buffRailFilling);\n\n            // play rail\n            this.playRail = document.createElement('span');\n            this.playRail.className = _styles.STYLES.TIMEBAR_RAIL + ' ' + _styles.STYLES.TIMEBAR_PLAY_RAIL;\n            var playRailFilling = document.createElement('span');\n            playRailFilling.className = _styles.STYLES.TIMEBAR_RAIL_FILLING + ' ' + _styles.STYLES.TIMEBAR_PLAY_RAIL_FILLING + ' ' + _styles.STYLES.NO_SELECT;\n            this.playRail.appendChild(playRailFilling);\n\n            this.thumb = document.createElement('span');\n            this.thumb.className = _styles.STYLES.TIMEBAR_THUMB + ' ' + _styles.STYLES.NO_SELECT;\n\n            // append main elements\n            this.element.appendChild(seekRail);\n            this.element.appendChild(this.buffRail);\n            this.element.appendChild(this.playRail);\n            this.element.appendChild(this.thumb);\n\n            parent.appendChild(this.element);\n\n            if (_userAgent.parsedUA.isMobile) {\n                this.element.addEventListener('touchstart', function (e) {\n                    return _this2.__onSeekStart(e);\n                });\n                this.element.addEventListener('touchmove', function (e) {\n                    return _this2.__onSeek(e);\n                });\n                this.element.addEventListener('touchend', function (e) {\n                    return _this2.__onSeekEnd(e);\n                });\n            } else {\n                this.element.addEventListener('mousedown', function (e) {\n                    return _this2.__onSeekStart(e);\n                });\n                window.addEventListener('mousemove', function (e) {\n                    return _this2.__onSeek(e);\n                });\n                window.addEventListener('mouseup', function (e) {\n                    return _this2.__onSeekEnd(e);\n                });\n                this.element.addEventListener('click', function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }, true);\n            }\n        }\n    }, {\n        key: 'setPosition',\n        value: function setPosition(percent) {\n            this.setBufferedPosition(percent);\n            this.setPlayPosition(percent);\n        }\n    }, {\n        key: 'getBufferedPosition',\n        value: function getBufferedPosition() {\n            return parseFloat(this.buffRail.style.width);\n        }\n    }, {\n        key: 'setBufferedPosition',\n        value: function setBufferedPosition(percent) {\n            this.buffRail.style.width = percent > 0 ? percent + '%' : '0';\n        }\n    }, {\n        key: 'getPlayPosition',\n        value: function getPlayPosition() {\n            return parseFloat(this.playRail.style.width);\n        }\n    }, {\n        key: 'setPlayPosition',\n        value: function setPlayPosition(percent) {\n            this.thumb.style.left = percent > 0 ? percent + '%' : '0';\n            this.playRail.style.width = percent > 0 ? percent + '%' : '0';\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            this.element.style.visibility = '';\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.element.style.visibility = 'hidden';\n        }\n    }, {\n        key: 'isSeeking',\n        value: function isSeeking() {\n            return this.__isSeeking;\n        }\n    }, {\n        key: '__onSeekStart',\n        value: function __onSeekStart() {\n            console.log('[alfa] SeekStart');\n\n            this.__isSeeking = true;\n            this.emit(EVENTS.SEEK_START);\n        }\n    }, {\n        key: '__onSeek',\n        value: function __onSeek(e) {\n            if (!this.__isSeeking) {\n                return;\n            }\n\n            if (_userAgent.parsedUA.isMobile) {\n                e = e.changedTouches[0];\n            }\n\n            var percent = this.__calculateSeekPercent(e);\n            this.setPlayPosition(percent);\n            this.emit(EVENTS.SEEK, percent);\n        }\n    }, {\n        key: '__onSeekEnd',\n        value: function __onSeekEnd(e) {\n            if (!this.__isSeeking) {\n                return;\n            }\n\n            console.log('[alfa] SeekEnd');\n            this.__onSeek(e);\n            e.stopPropagation();\n\n            this.__isSeeking = false;\n            this.emit(EVENTS.SEEK_END);\n        }\n    }, {\n        key: '__calculateSeekPercent',\n        value: function __calculateSeekPercent(e) {\n            var rect = this.element.getBoundingClientRect();\n            var percent = (e.clientX - rect.left) / this.element.offsetWidth;\n            return (0, _utils.normalizePercent)(percent) * 100;\n        }\n    }]);\n\n    return TimeBar;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TimeLabel = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _common = __webpack_require__(7);\n\nvar _styles = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TimeLabel = exports.TimeLabel = function () {\n    function TimeLabel(className) {\n        _classCallCheck(this, TimeLabel);\n\n        this.className = className || '';\n        this.element = null;\n    }\n\n    _createClass(TimeLabel, [{\n        key: 'create',\n        value: function create(parent) {\n            this.element = document.createElement('span');\n            this.element.className = this.className + ' alfa-control-text alfa-controlbar-item ' + _styles.STYLES.NO_SELECT;\n            this.element.innerHTML = (0, _common.formatTime)(0);\n\n            parent.appendChild(this.element);\n        }\n    }, {\n        key: 'setText',\n        value: function setText(text, time) {\n            if (time != null) {\n                text = text + ' ' + (0, _common.formatTime)(time);\n            }\n            this.element.innerHTML = text;\n        }\n    }, {\n        key: 'setTime',\n        value: function setTime(time) {\n            if (time > 0) {\n                this.element.innerHTML = (0, _common.formatTime)(time);\n            } else {\n                this.element.innerHTML = (0, _common.formatTime)(0);\n            }\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            this.element.style.visibility = '';\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.element.style.visibility = 'hidden';\n        }\n    }]);\n\n    return TimeLabel;\n}();\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.VolumeBar = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _utils = __webpack_require__(8);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    VOLUME_CHANGE: 'volume_change'\n};\nvar BORDERS_OFFSET = 5;\n\nvar VolumeBar = exports.VolumeBar = function (_EventSystem) {\n    _inherits(VolumeBar, _EventSystem);\n\n    function VolumeBar() {\n        _classCallCheck(this, VolumeBar);\n\n        var _this = _possibleConstructorReturn(this, (VolumeBar.__proto__ || Object.getPrototypeOf(VolumeBar)).call(this));\n\n        _this.element = null;\n        _this.thumb = null;\n        _this.railCurrent = null;\n\n        _this.hideTimer = -1;\n        return _this;\n    }\n\n    _createClass(VolumeBar, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            if (!parent) {\n                console.log('[alfa] VolumeBar.create: no parent specified');\n                return;\n            }\n\n            // root DOM element\n            this.element = document.createElement('div');\n            this.element.className = _styles.STYLES.VOLUME_BAR + ' ' + _styles.STYLES.TRANSITION_VISIBLE + ' ' + _styles.STYLES.OPACITY_HIDDEN;\n\n            // default 'gray' volume rail group & rail\n            var railGroup = document.createElement('span');\n            railGroup.className = '' + _styles.STYLES.VOLUME_BAR_RAIL_GROUP;\n            var rail = document.createElement('span');\n            rail.className = '' + _styles.STYLES.VOLUME_BAR_RAIL;\n            railGroup.appendChild(rail);\n\n            // active 'red' volume rail group & rail\n            var railCurrentGroup = document.createElement('span');\n            railCurrentGroup.className = '' + _styles.STYLES.VOLUME_BAR_CURRENT_GROUP;\n            this.railCurrent = document.createElement('span');\n            this.railCurrent.className = '' + _styles.STYLES.VOLUME_BAR_CURRENT;\n            railCurrentGroup.appendChild(this.railCurrent);\n\n            // volume thumb\n            this.thumb = document.createElement('div');\n            this.thumb.className = '' + _styles.STYLES.VOLUME_BAR_THUMB;\n\n            this.element.appendChild(railGroup);\n            this.element.appendChild(railCurrentGroup);\n            this.element.appendChild(this.thumb);\n\n            this.element.addEventListener('click', function (e) {\n                return _this2.onClick(e);\n            });\n\n            parent.appendChild(this.element);\n        }\n    }, {\n        key: 'setVolume',\n        value: function setVolume(volume) {\n            this.thumb.style.bottom = volume * (this.element.offsetHeight - this.thumb.offsetHeight - 2) + 'px';\n            this.railCurrent.style.top = (1 - volume) * (this.element.offsetHeight - 14) + 7 + 'px';\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            clearTimeout(this.hideTimer);\n            this.element.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this.__setupHideTimer();\n        }\n    }, {\n        key: 'onClick',\n        value: function onClick(e) {\n            e.stopPropagation();\n\n            var pos = (0, _utils.getCursorPosition)(this.element, e);\n            pos.y += BORDERS_OFFSET;\n            var percent = (this.element.offsetHeight - pos.y) / (this.element.offsetHeight - BORDERS_OFFSET * 2);\n            percent = (0, _utils.normalizePercent)(percent);\n\n            // notify UI about volume change\n            this.emit(EVENTS.VOLUME_CHANGE, percent);\n        }\n    }, {\n        key: '__setupHideTimer',\n        value: function __setupHideTimer() {\n            var _this3 = this;\n\n            clearTimeout(this.hideTimer);\n            this.hideTimer = setTimeout(function () {\n                _this3.element.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n            }, 300);\n        }\n    }]);\n\n    return VolumeBar;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ShareButton = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EVENTS = exports.EVENTS = {\n    CLICK: 'click'\n};\n\nvar ShareButton = exports.ShareButton = function (_EventSystem) {\n    _inherits(ShareButton, _EventSystem);\n\n    function ShareButton() {\n        _classCallCheck(this, ShareButton);\n\n        var _this = _possibleConstructorReturn(this, (ShareButton.__proto__ || Object.getPrototypeOf(ShareButton)).call(this));\n\n        _this.element = null;\n        return _this;\n    }\n\n    _createClass(ShareButton, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            this.element = document.createElement('div');\n            this.element.className = 'alfa-share-button ' + _styles.STYLES.TRANSITION_VISIBLE;\n            this.element.addEventListener('click', function (e) {\n                e.stopPropagation();\n                _this2.emit(EVENTS.CLICK);\n            });\n            parent.appendChild(this.element);\n\n            var parentWidth = parent.getBoundingClientRect().width;\n            var parentHeight = parent.getBoundingClientRect().height;\n\n            if (parentWidth < 210 || parentHeight < 210) {\n                this.element.style.width = '30px';\n                this.element.style.height = '24px';\n            } else if (parentWidth < 400 || parentHeight < 400) {\n                this.element.style.width = '60px';\n                this.element.style.height = '48px';\n            } else if (parentWidth < 800 || parentHeight < 800) {\n                this.element.style.width = '80px';\n                this.element.style.height = '64px';\n            }\n        }\n    }, {\n        key: 'show',\n        value: function show() {\n            if (this.element == null) {\n                console.warn('[alfa] ShareButton.show: show before create');\n                return;\n            }\n\n            this.element.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            if (this.element == null) {\n                console.warn('[alfa] ShareButton.hide: hide before create');\n                return;\n            }\n\n            this.element.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }]);\n\n    return ShareButton;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ShareDialog = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _userAgent = __webpack_require__(6);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _networking = __webpack_require__(9);\n\nvar _socialNetworks = __webpack_require__(54);\n\nvar _socialNetworks2 = _interopRequireDefault(_socialNetworks);\n\nvar _utils = __webpack_require__(8);\n\nvar _styles = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SocialButton = function (_EventSystem) {\n    _inherits(SocialButton, _EventSystem);\n\n    function SocialButton(social, isBig) {\n        _classCallCheck(this, SocialButton);\n\n        var _this = _possibleConstructorReturn(this, (SocialButton.__proto__ || Object.getPrototypeOf(SocialButton)).call(this));\n\n        _this.element = null;\n        _this.isBig = isBig;\n        _this.social = social;\n\n        _this.hideDialogTimer = null;\n        return _this;\n    }\n\n    _createClass(SocialButton, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this2 = this;\n\n            this.element = document.createElement('a');\n            this.element.className = 'alfa-social-button alfa-social-' + this.social.name;\n            if (this.isBig) {\n                this.element.classList.add('alfa-social-button-big');\n            }\n            this.element.setAttribute('target', '_blank');\n\n            this.element.addEventListener('click', function (e) {\n                return _this2.emit('click', e);\n            });\n\n            parent.appendChild(this.element);\n        }\n    }, {\n        key: 'setLink',\n        value: function setLink(link) {\n            this.element.setAttribute('href', link);\n        }\n    }]);\n\n    return SocialButton;\n}(_eventSystem2.default);\n\nvar EVENTS = exports.EVENTS = {\n    DONE: 'done'\n};\n\nvar ShareDialog = exports.ShareDialog = function (_EventSystem2) {\n    _inherits(ShareDialog, _EventSystem2);\n\n    function ShareDialog(isEndScreen) {\n        _classCallCheck(this, ShareDialog);\n\n        var _this3 = _possibleConstructorReturn(this, (ShareDialog.__proto__ || Object.getPrototypeOf(ShareDialog)).call(this));\n\n        _this3.element = null;\n        _this3.isEndScreen = isEndScreen;\n        _this3.shareButtons = [];\n        return _this3;\n    }\n\n    _createClass(ShareDialog, [{\n        key: 'create',\n        value: function create(parent) {\n            var _this4 = this;\n\n            this.element = document.createElement('div');\n            if (!this.isEndScreen) {\n                this.element.className = 'alfa-share-background ' + _styles.STYLES.TRANSITION_VISIBLE + ' ' + _styles.STYLES.OPACITY_HIDDEN;\n            } else {\n                this.element.className = 'alfa-share-background-big';\n            }\n\n            var socialButtonsElement = document.createElement('div');\n            socialButtonsElement.className = 'alfa-share-socials';\n\n            this.element.appendChild(socialButtonsElement);\n\n            parent.appendChild(this.element);\n\n            this.shareButtons = _socialNetworks2.default.map(function (network) {\n                var socialButton = new SocialButton(network, _this4.isEndScreen);\n                socialButton.create(socialButtonsElement);\n                socialButton.on('click', function () {\n                    // if dialog is in popup mode, then close it after button click\n                    if (!_this4.isEndScreen) {\n                        _this4.hide();\n                    }\n                    _this4.emit(EVENTS.DONE);\n                });\n                return socialButton;\n            });\n\n            // if dialog is not on endscreen, then setup auto hide behaviour\n            if (!this.isEndScreen) {\n                this.element.addEventListener('mouseout', function (ev) {\n                    var root = _this4.element;\n                    if (!(0, _utils.isChildOf)(ev.relatedTarget, root) && ev.relatedTarget !== root) {\n                        _this4.setupHideTimeout(1000);\n                    }\n                });\n                this.element.addEventListener('mousemove', function () {\n                    _this4.resetHideTimeout();\n                }, true);\n            }\n        }\n    }, {\n        key: 'show',\n        value: function show(shareURL) {\n            var _this5 = this;\n\n            (0, _networking.getShortURL)(shareURL, function (responseText) {\n                if (!responseText) {\n                    console.log('[alfa] Empty share short response');\n                    return;\n                }\n\n                _this5.shareButtons.forEach(function (button) {\n                    var link = button.social.shareUrl(responseText);\n                    button.setLink(link);\n                });\n            });\n\n            if (!this.isEndScreen) {\n                this.resetHideTimeout();\n\n                // actually showing element\n                this.element.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n\n                if (_userAgent.parsedUA.isMobile) {\n                    this.setupHideTimeout(3000);\n                }\n            }\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            if (!this.element) {\n                return;\n            }\n\n            this.element.classList.add(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'isVisible',\n        value: function isVisible() {\n            if (this.element) {\n                return !this.element.classList.contains(_styles.STYLES.OPACITY_HIDDEN);\n            }\n\n            return false;\n        }\n    }, {\n        key: 'resetHideTimeout',\n        value: function resetHideTimeout() {\n            clearTimeout(this.hideDialogTimer);\n\n            this.element.classList.remove(_styles.STYLES.OPACITY_HIDDEN);\n        }\n    }, {\n        key: 'setupHideTimeout',\n        value: function setupHideTimeout(timeout) {\n            var _this6 = this;\n\n            clearTimeout(this.hideDialogTimer);\n\n            // hide dialog after timeout\n            this.hideDialogTimer = setTimeout(function () {\n                _this6.hide();\n                _this6.emit(EVENTS.DONE);\n            }, timeout || 3000);\n        }\n    }]);\n\n    return ShareDialog;\n}(_eventSystem2.default);\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SocialNetwork = function () {\n    function SocialNetwork(name, rei, url) {\n        _classCallCheck(this, SocialNetwork);\n\n        this.name = name;\n        this.rei = rei;\n        this.url = url;\n    }\n\n    _createClass(SocialNetwork, [{\n        key: 'shareUrl',\n        value: function shareUrl(playerUrl, image, title, description) {\n            if (this.name === 'facebook') playerUrl = playerUrl.replace('https:', 'http:');\n\n            return this.url.replace('_URL_', playerUrl).replace('_IMAGE_', image).replace('_TITLE_', title).replace('_DESCR_', description);\n        }\n    }]);\n\n    return SocialNetwork;\n}();\n\nfunction defineNetwork(name, rei, url) {\n    return new SocialNetwork(name, rei, url);\n}\n\nexports.default = [defineNetwork('facebook', 'www.facebook.com', 'https://www.facebook.com/sharer.php?u=_URL_&display=page'), defineNetwork('gplus', 'plus.google.com', 'https://plus.google.com/share?url=_URL_'), defineNetwork('twitter', 'twitter.com', 'https://twitter.com/share?url=_URL_')];\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isActiveTab = exports.ViewabilityObserver = exports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getViewability = getViewability;\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar VIEWABILITY_THRESHOLD = 0.5; // 50% is threshold to generate viewability change event\nvar VIEWABILITY_CHECK_TIMEOUT = 500; // ms, timeout to check viewability, if IntersectionObserver is not supported\nvar ACTIVE_TAB_CHECK_TIMEOUT = 500; // ms, timeout to check window focus and active tab status\n\nvar EVENTS = exports.EVENTS = {\n    VISIBLE: 'visible',\n    HIDDEN: 'hidden',\n\n    VIEWABILITY: 'viewability',\n    FOCUS: 'focus',\n    ACTIVITY: 'activity'\n};\n\nvar ViewabilityObserver = exports.ViewabilityObserver = function (_EventSystem) {\n    _inherits(ViewabilityObserver, _EventSystem);\n\n    function ViewabilityObserver(element) {\n        _classCallCheck(this, ViewabilityObserver);\n\n        var _this = _possibleConstructorReturn(this, (ViewabilityObserver.__proto__ || Object.getPrototypeOf(ViewabilityObserver)).call(this));\n\n        _this.isFocused = true;\n        _this.isActiveTab = isActiveTab();\n        _this.visibilityRatio = getViewability(element);\n\n        // init FOCUS checks\n        _this.__cancelFocusChecks = initFocusChecks(function (focused) {\n            if (_this.isFocused !== focused) {\n                _this.isFocused = focused;\n                _this.emit(EVENTS.FOCUS, focused);\n                checkVisibility();\n            }\n        });\n\n        // init ACTIVE_TAB checks\n        _this.__cancelActiveTabChecks = initActiveTabChecks(function (active) {\n            if (_this.isActiveTab !== active) {\n                _this.isActiveTab = active;\n                _this.emit(EVENTS.ACTIVITY, active);\n                checkVisibility();\n            }\n        });\n\n        // init VIEWABILITY checks\n        var previousVisible = null;\n        _this.__cancelViewabilityChecks = initViewabilityChecks(element, function (ratio) {\n            _this.visibilityRatio = ratio;\n            var isVisible = ratio >= VIEWABILITY_THRESHOLD;\n\n            // emit event, only if threshold is crossed\n            if (previousVisible !== isVisible) {\n                previousVisible = isVisible;\n\n                // emit event\n                var viewability = { ratio: ratio, isVisible: isVisible };\n                _this.emit(EVENTS.VIEWABILITY, viewability);\n                checkVisibility();\n            }\n        });\n\n        var checkVisibility = function checkVisibility() {\n            if (_this.visibilityRatio >= VIEWABILITY_THRESHOLD && _this.isFocused && _this.isActiveTab) {\n                _this.emit(EVENTS.VISIBLE);\n            } else {\n                _this.emit(EVENTS.HIDDEN);\n            }\n        };\n        return _this;\n    }\n\n    _createClass(ViewabilityObserver, [{\n        key: 'cancel',\n        value: function cancel() {\n            this.__cancelFocusChecks();\n            this.__cancelActiveTabChecks();\n            this.__cancelViewabilityChecks();\n        }\n    }, {\n        key: 'getViewability',\n        value: function getViewability() {\n            return {\n                visibility: Math.ceil(this.visibilityRatio * 100),\n                focused: this.isFocused,\n                active: this.isActiveTab\n            };\n        }\n    }]);\n\n    return ViewabilityObserver;\n}(_eventSystem2.default);\n\nfunction initViewabilityChecks(vo, callback) {\n    if (isIntersectionObserverSupported()) {\n        return initViewabilityChecksWithObserver(vo, callback);\n    } else {\n        return initViewabilityChecksWithInterval(vo, callback);\n    }\n}\n\nfunction initViewabilityChecksWithObserver(element, callback) {\n    var options = {\n        threshold: [VIEWABILITY_THRESHOLD]\n    };\n    var io = new IntersectionObserver(function (entries) {\n        if (entries && entries.length > 0) {\n            callback(entries[0].intersectionRatio);\n        }\n    }, options);\n    io.observe(element);\n\n    // cancelling function\n    return function () {\n        return io.disconnect();\n    };\n}\n\nfunction initViewabilityChecksWithInterval(element, callback) {\n    function viewabilityCallback() {\n        var ratio = getViewability(element);\n        callback(ratio);\n    }\n\n    // setup repeatable viewability checks\n    var interval = setInterval(viewabilityCallback, VIEWABILITY_CHECK_TIMEOUT);\n    // run first check on next tick\n    setTimeout(viewabilityCallback, 0);\n\n    // cancelling function\n    return function () {\n        return clearInterval(interval);\n    };\n}\n\nfunction initFocusChecks(callback) {\n    var onBlur = function onBlur() {\n        return callback(false);\n    };\n    window.addEventListener('blur', onBlur);\n\n    var onFocus = function onFocus() {\n        return callback(true);\n    };\n    window.addEventListener('focus', onFocus);\n\n    // cancelling function\n    return function () {\n        window.removeEventListener('blur', onBlur);\n        window.removeEventListener('focus', onFocus);\n    };\n}\n\nfunction initActiveTabChecks(callback) {\n    function checkCallback() {\n        callback(isActiveTab());\n    }\n\n    // setup repeatable viewability checks\n    var interval = setInterval(checkCallback, ACTIVE_TAB_CHECK_TIMEOUT);\n    // run first check on next tick\n    setTimeout(checkCallback, 0);\n\n    // cancelling function\n    return function () {\n        return clearInterval(interval);\n    };\n}\n\nvar isActiveTab = exports.isActiveTab = function () {\n    if ('hidden' in document) {\n        return function () {\n            return !document.hidden;\n        };\n    }\n    if ('webkitHidden' in document) {\n        return function () {\n            return !document.webkitHidden;\n        };\n    }\n    // document.hidden not supported\n    return function () {\n        return true;\n    };\n}();\n\nfunction getViewability(element) {\n    var viewport = getViewportProps();\n    var positions = getElementProps(element, viewport);\n\n    return calculateViewability(positions, viewport);\n}\n\nfunction getViewportProps() {\n    return {\n        h: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || 0,\n        w: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth || 0,\n        sl: window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n        st: window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n    };\n}\n\nfunction getElementProps(element, viewport) {\n    // Get the bounding rectangle of our element\n    var elementBoundingBox = element.getBoundingClientRect();\n    return {\n        x: elementBoundingBox.left + viewport.sl,\n        y: elementBoundingBox.top + viewport.st,\n        w: elementBoundingBox.width,\n        h: elementBoundingBox.height\n    };\n}\n\nfunction calculateViewability(pos, stage) {\n    var horizontal = 0;\n    if (pos.x < stage.sl) {\n        horizontal += stage.sl - pos.x;\n    }\n    if (pos.x + pos.w > stage.sl + stage.w) {\n        horizontal += pos.x + pos.w - (stage.sl + stage.w);\n    }\n    if (horizontal > pos.w) {\n        horizontal = pos.w;\n    }\n\n    var vertical = 0;\n    if (pos.y < stage.st) {\n        vertical += stage.st - pos.y;\n    }\n    if (pos.y + pos.h > stage.st + stage.h) {\n        vertical += pos.y + pos.h - (stage.st + stage.h);\n    }\n    if (vertical > pos.h) {\n        vertical = pos.h;\n    }\n\n    return (pos.w - horizontal) * (pos.h - vertical) / (pos.w * pos.h);\n}\n\nfunction isIntersectionObserverSupported() {\n    return 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype;\n}\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.VastNotifier = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _array = __webpack_require__(16);\n\nvar _url = __webpack_require__(10);\n\nvar _constants = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FLAG_IMPRESSIONS = '__impressions';\n\n/**\r\n * Notify server through 'Image.src' hack.\r\n * It's main value is it not susceptible to CORS restrictions, unlike XHR requests.\r\n */\n\nvar VastNotifier = exports.VastNotifier = function () {\n    function VastNotifier(bus) {\n        _classCallCheck(this, VastNotifier);\n\n        this.onceGuard = {};\n        this.pending = {};\n\n        this.impressions = [];\n        this.eventsLinear = null;\n        this.eventsNonLinear = null;\n\n        this.error = '';\n    }\n\n    _createClass(VastNotifier, [{\n        key: 'init',\n        value: function init(ad) {\n            this.onceGuard = {}; // clear notify once flags\n\n            this.impressions = ad.impressions || [];\n            this.eventsLinear = ad.eventsLinear || null;\n            this.eventsNonLinear = ad.eventsNonLinear || null;\n\n            this.error = ad.error || '';\n        }\n\n        /**\r\n         * Fire event by name\r\n         *\r\n         * @param {string} eventName\r\n         */\n\n    }, {\n        key: 'fireLinear',\n        value: function fireLinear(eventName) {\n            if (!this.eventsLinear) {\n                return;\n            }\n\n            var urls = this.eventsLinear[eventName];\n\n            console.log('[alfa] Notify event: ', eventName, urls);\n\n            if (urls && urls.length > 0) {\n                this.fireByUrl(urls);\n            }\n        }\n\n        /**\r\n         * Fire event by name only once for current ad and return was impressions fired on this call or not\r\n         * @param {string} eventName\r\n         * @returns {boolean} Was event fired on this call\r\n         */\n\n    }, {\n        key: 'fireLinearOnce',\n        value: function fireLinearOnce(eventName) {\n            if (!this.eventsLinear) {\n                return false;\n            }\n            // if event was invoked earlier - do nothing\n            if (this.wasFired(eventName)) {\n                return false;\n            }\n\n            // Remember that event was invoked\n            this.markAsFired(eventName);\n\n            // Fire event\n            this.fireLinear(eventName);\n\n            return true;\n        }\n    }, {\n        key: 'fireProgress',\n        value: function fireProgress(time) {\n            var _this = this;\n\n            var progressEvents = this.eventsLinear[_constants.VAST_EVENTS.PROGRESS];\n            if (!progressEvents || progressEvents.length === 0) {\n                return;\n            }\n\n            // search appropriate 'progress' events\n            var filteredEvents = progressEvents\n            // take only 'not fired' before\n            .filter(function (event, index) {\n                return !_this.wasFired(__formatEventName(index));\n            })\n            // remove those that are early yet\n            .filter(function (event) {\n                return event.offset <= time;\n            });\n\n            filteredEvents.forEach(function (event) {\n                console.log('[alfa] Notify progress event for ' + event.offset + 's at ' + time + 's: ' + event.url);\n\n                // Remember that event with index from complete list was invoked\n                _this.markAsFired(__formatEventName(progressEvents.indexOf(event)));\n\n                // Fire event\n                _this.fireByUrl(event.url);\n            });\n\n            function __formatEventName(index) {\n                return _constants.VAST_EVENTS.PROGRESS + '_' + index;\n            }\n        }\n\n        /**\r\n         * Fire current ad impressions only once and return was impressions fired on this call or not\r\n         *\r\n         * @returns {boolean} Was impressions fired on this call\r\n         */\n\n    }, {\n        key: 'fireImpressions',\n        value: function fireImpressions() {\n            if (this.impressions.length === 0) {\n                return false;\n            }\n            // if event was invoked earlier - do nothing\n            if (this.wasFired(FLAG_IMPRESSIONS)) {\n                return false;\n            }\n\n            // Remember that event was invoked\n            this.markAsFired(FLAG_IMPRESSIONS);\n\n            console.log('[alfa] Notify impressions:', this.impressions);\n            this.fireByUrl(this.impressions);\n\n            return true;\n        }\n    }, {\n        key: 'fireNonLinear',\n        value: function fireNonLinear(eventName) {\n            if (!this.eventsNonLinear) {\n                return;\n            }\n\n            var urls = this.eventsNonLinear[eventName];\n\n            console.log('[alfa] Notify NonLinear event: ', eventName, urls);\n\n            if (urls && urls.length > 0) {\n                this.fireByUrl(urls);\n            }\n        }\n\n        /**\r\n         * Fire request to provided URL/URLs\r\n         *\r\n         * @param {String|String[]} urls URL\r\n         */\n\n    }, {\n        key: 'fireByUrl',\n        value: function fireByUrl(urls) {\n            var _this2 = this;\n\n            if (!urls) {\n                return;\n            }\n\n            // normalize and remove duplicates\n            urls = normalizeUrls(urls);\n            urls = (0, _array.uniq)(urls);\n\n            urls.forEach(function (url) {\n                url = (0, _url.checkHttpsAwareness)(url);\n\n                var rnd = Math.round(Math.random() * 100000);\n                url = url + (url.indexOf('?') > 0 ? '&' : '?') + 'r' + rnd + '=' + rnd;\n\n                var img = document.createElement('img');\n                img.src = url;\n\n                // add IMG to PENDING object, to retain object reference, so GC doesn't delete it before request is over\n                var imgCode = 'img_' + rnd;\n                _this2.pending[imgCode] = img;\n                img.onload = img.onerror = function () {\n                    delete _this2.pending[imgCode];\n                };\n            });\n        }\n\n        /**\r\n         * Fire error by code\r\n         *\r\n         * @param {number} errorCode\r\n         */\n\n    }, {\n        key: 'fireError',\n        value: function fireError(errorCode) {\n            if (!this.error) {\n                return;\n            }\n\n            console.log('[alfa] Notify vast error:', errorCode);\n\n            var url = this.error.replace(/\\[ERRORCODE\\]/g, errorCode);\n            this.fireByUrl(url);\n        }\n\n        /**\r\n         * Check if event was fired for current ad\r\n         *\r\n         * @param {string} eventName\r\n         * @returns {boolean}\r\n         */\n\n    }, {\n        key: 'wasFired',\n        value: function wasFired(eventName) {\n            return this.onceGuard[eventName];\n        }\n\n        /**\r\n         * Mark event as fired for current ad\r\n         *\r\n         * @param {string} eventName\r\n         */\n\n    }, {\n        key: 'markAsFired',\n        value: function markAsFired(eventName) {\n            this.onceGuard[eventName] = true;\n        }\n    }]);\n\n    return VastNotifier;\n}();\n\nfunction normalizeUrls(urls) {\n    // make array from single url\n    if (!Array.isArray(urls)) {\n        urls = [urls];\n    }\n\n    return urls.map(function (url) {\n        // we can receive URL object with additional params, take only url path from it\n        if (url && url.url) {\n            return url.url;\n        }\n        if (typeof url === 'string') {\n            return url;\n        }\n    }).filter(function (url) {\n        return url;\n    });\n}\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.parse = parse;\n\nvar _constants = __webpack_require__(2);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _common = __webpack_require__(7);\n\nvar _errors = __webpack_require__(5);\n\nvar _parserVast = __webpack_require__(58);\n\nvar _parserVast2 = _interopRequireDefault(_parserVast);\n\nvar _parserVast3 = __webpack_require__(59);\n\nvar _parserVast4 = _interopRequireDefault(_parserVast3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(source, onVastWarning, callback) {\n    var xml = void 0,\n        firstTag = void 0;\n    if (typeof source === 'object') {\n        xml = source;\n        firstTag = xml;\n    } else {\n        try {\n            xml = (0, _common.parseXML)(source);\n            firstTag = xml.firstChild;\n        } catch (e) {\n            return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.PARSING_ERROR, 'Error while parsing VAST XML: ' + e.message), source);\n        }\n    }\n\n    // determine VAST version by root tag\n    var parser = void 0;\n    if (firstTag.nodeName === 'VideoAdServingTemplate') {\n        parser = new _parserVast2.default(1);\n    } else if (firstTag.nodeName === 'VAST') {\n        var ver = firstTag.getAttribute('version');\n        if (ver.substr(0, 3) === '2.0') {\n            parser = new _parserVast4.default(2);\n        } else if (ver.substr(0, 3) === '3.0') {\n            parser = new _parserVast4.default(3);\n        } else if (ver.substr(0, 1) === '4') {\n            parser = new _parserVast4.default(4);\n        } else {\n            return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.VERSION_NOT_SUPPORTED, 'Version in VAST - ' + ver), source);\n        }\n    } else {\n        return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.SCHEMA_ERROR, 'Not supported root tag - ' + firstTag.nodeName), source);\n    }\n\n    // if we want to pass warnings and parser supports event emitting, then bind to it\n    if (onVastWarning && parser instanceof _eventSystem2.default) {\n        parser.on(_constants.PLAYER_EVENTS.VAST_WARNING, function (error) {\n            onVastWarning(error);\n        });\n    }\n\n    // run parsing\n    parser.parse(xml, source, callback);\n}\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _data = __webpack_require__(13);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ParserVast1 = function () {\n    function ParserVast1(version) {\n        _classCallCheck(this, ParserVast1);\n\n        this.version = version;\n        this.wrapperCounter = 0;\n    }\n\n    _createClass(ParserVast1, [{\n        key: 'parse',\n        value: function parse(xml, source, callback) {\n            var adTag = new _data.AdTag();\n\n            var ad = xml.getElementsByTagName('Ad')[0];\n            try {\n                var video = ad.getElementsByTagName('Video')[0];\n\n                var mediaFile = new _data.MediaFile();\n                var mediaFileTag = video.getElementsByTagName('MediaFile');\n                mediaFile.url = mediaFileTag[0].getElementsByTagName('URL')[0].firstChild.data;\n\n                var linear = new _data.Linear();\n                linear.mediaFiles.push(mediaFile);\n                linear.clickThrough = video.getElementsByTagName('VideoClicks')[0].getElementsByTagName('ClickThrough')[0].getElementsByTagName('URL')[0].firstChild.data;\n\n                adTag.linears.push(linear);\n            } catch (e) {\n                console.error('[alfa] Error parsing vast version 1 (video section)', e);\n            }\n\n            var urls = ad.getElementsByTagName('Impression')[0].getElementsByTagName('URL');\n            for (var i = 0; i < urls.length; i++) {\n                adTag.impressions.push(urls[i].firstChild.data);\n            }\n\n            var tracking = ad.getElementsByTagName('TrackingEvents')[0].getElementsByTagName('Tracking');\n            for (var _i = 0; _i < tracking.length; _i++) {\n                var eventName = tracking[_i].getAttribute('event');\n                if (!eventName) continue;\n\n                var _urls = tracking[_i].getElementsByTagName('URL');\n                adTag.eventsLinear[eventName.toLowerCase()] = [];\n                for (var j = 0; j < _urls.length; j++) {\n                    if (_urls[j].firstChild.data) adTag.eventsLinear[eventName.toLowerCase()].push(_urls[j].firstChild.data);\n                }\n            }\n\n            var vast = new _data.Vast(this.version);\n            vast.adTags.push(adTag);\n            vast.source = source;\n            callback(null, vast);\n        }\n    }]);\n\n    return ParserVast1;\n}();\n\nexports.default = ParserVast1;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = __webpack_require__(2);\n\nvar _userAgent = __webpack_require__(6);\n\nvar _eventSystem = __webpack_require__(0);\n\nvar _eventSystem2 = _interopRequireDefault(_eventSystem);\n\nvar _common = __webpack_require__(7);\n\nvar _url = __webpack_require__(10);\n\nvar _errors = __webpack_require__(5);\n\nvar _data = __webpack_require__(13);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar WRAPPER_LOOP_LIMIT = 10;\n\nvar ParserVast2 = function (_EventSystem) {\n    _inherits(ParserVast2, _EventSystem);\n\n    function ParserVast2(version) {\n        _classCallCheck(this, ParserVast2);\n\n        var _this = _possibleConstructorReturn(this, (ParserVast2.__proto__ || Object.getPrototypeOf(ParserVast2)).call(this));\n\n        _this.version = version;\n        _this.wrapperCounter = 0;\n        _this.sources = [];\n        return _this;\n    }\n\n    _createClass(ParserVast2, [{\n        key: 'parse',\n        value: function parse(xml, source, callback) {\n            var _this2 = this;\n\n            this.sources.push(source);\n\n            var ads = xml.getElementsByTagName('Ad');\n            if (ads.length === 0) {\n                return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.UNDEFINED_ERROR, 'No AD tags in VAST'));\n            }\n\n            var vast = new _data.Vast(this.version);\n            var adTagIndex = 0;\n\n            var readTagFunc = function readTagFunc() {\n                // console.log('Parse AD:', ads[iteration]);\n\n                _this2.readAdTag(ads[adTagIndex], new _data.AdTag(), true, function (error, adTag) {\n                    if (error) {\n                        return callback(error);\n                    }\n\n                    // merge events from linear tracking tags\n                    adTag.mergeLinearEvents();\n\n                    // select appropriate media file based on user agent and screen size\n                    var screenSize = {\n                        width: window.screen.availWidth,\n                        height: window.screen.availHeight\n                    };\n                    adTag.selectMediaFile(_userAgent.parsedUA, screenSize);\n\n                    // notify server about absence of supported MediaFile, if there was any MediaFiles\n                    if (adTag.linears.length > 0 && !adTag.linear) {\n                        _this2.__emitVastWarning(_errors.VAST_ERRORS.LINEAR_NOT_SUPPORTED, 'No supported Linear MediaFile');\n                    }\n\n                    // take only ads with impressions or VPAID mediafiles\n                    if (adTag.impressions.length > 0 || adTag.mediaFile && adTag.mediaFile.isVPAID()) {\n                        vast.adTags.push(adTag);\n                    }\n\n                    // count ads\n                    adTagIndex++;\n\n                    // if there is another Ad - parse it\n                    if (adTagIndex < ads.length) {\n                        return readTagFunc();\n                    }\n\n                    // notify about VAST without impressions\n                    if (vast.adTags.length === 0) {\n                        var message = 'There was no ADs with impressions in VAST';\n                        if (_this2.wrapperCounter > 0) {\n                            message += ', after following wrappers for ' + _this2.wrapperCounter + ' times';\n                        }\n\n                        return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.SCHEMA_ERROR, message, source));\n                    }\n\n                    // store last parsed XML\n                    vast.source = _this2.sources.length > 0 ? _this2.sources[_this2.sources.length - 1] : '';\n\n                    // end of parsing and return to caller\n                    callback(null, vast);\n                });\n            };\n\n            readTagFunc();\n        }\n    }, {\n        key: 'readAdTag',\n        value: function readAdTag(adNode, adTag, followAdditionalWrappers, callback) {\n            var inlineTags = adNode.getElementsByTagName('InLine');\n            var wrapperTags = adNode.getElementsByTagName('Wrapper');\n            var inInLine = inlineTags.length > 0;\n            var adChildTag = inInLine ? inlineTags[0] : wrapperTags[0];\n\n            var adSystemTags = adChildTag.getElementsByTagName('AdSystem');\n            if (adSystemTags.length > 0) {\n                adTag.adSystem = (0, _common.getCDATA)(adSystemTags[0]);\n            }\n\n            var errorTags = adChildTag.getElementsByTagName('Error');\n            if (errorTags.length > 0) {\n                adTag.error = (0, _common.getCDATA)(errorTags[0]);\n            }\n\n            var impressionTags = adChildTag.getElementsByTagName('Impression');\n            for (var i = 0; i < impressionTags.length; i++) {\n                var impressionText = (0, _common.getCDATA)(impressionTags[i]);\n                if (impressionText) {\n                    adTag.impressions.push(impressionText);\n                }\n            }\n\n            var creativeTags = adChildTag.getElementsByTagName('Creative');\n            for (var _i = 0; _i < creativeTags.length; _i++) {\n                var linearTags = creativeTags[_i].getElementsByTagName('Linear');\n                for (var j = 0; j < linearTags.length; j++) {\n                    var linear = this.__readLinearTag(linearTags[j], inInLine);\n                    adTag.linears.push(linear);\n                }\n\n                var companionTags = creativeTags[_i].getElementsByTagName('Companion');\n                if (companionTags.length > 0) {\n                    for (var _j = 0; _j < companionTags.length; _j++) {\n                        var companion = __readCompanionTag(companionTags[_j]);\n                        adTag.companions.push(companion);\n                    }\n                }\n\n                var nonLinearAdsTags = creativeTags[_i].getElementsByTagName('NonLinearAds');\n                if (nonLinearAdsTags.length > 0) {\n                    __readTrackingArray(adTag.eventsNonLinear, nonLinearAdsTags[0].getElementsByTagName('Tracking'));\n\n                    var nonLinearTags = nonLinearAdsTags[0].getElementsByTagName('NonLinear');\n                    for (var _j2 = 0; _j2 < nonLinearTags.length; _j2++) {\n                        var nl = this.__readNonLinearTag(nonLinearTags[_j2]);\n\n                        // report that we don't support current 'NonLinear' type\n                        if (!nl.staticResource) {\n                            var types = [];\n                            if (nl.htmlResource) {\n                                types.push('html');\n                            }\n                            if (nl.iframeResource) {\n                                types.push('iframe');\n                            }\n                            this.__emitVastWarning(_errors.VAST_ERRORS.NONLINEAR_SUPPORT, 'Not found supported STATIC NonLinear, found: ' + types.join(','));\n                        }\n\n                        adTag.nonLinears.push(nl);\n                    }\n                }\n            }\n\n            // <Icons> -> <Icon> tags\n            var iconTags = adChildTag.getElementsByTagName('Icon');\n            for (var _i2 = 0; _i2 < iconTags.length; _i2++) {\n                var icon = this.__readIconTag(iconTags[_i2]);\n                icon.index = adTag.icons.length;\n                adTag.icons.push(icon);\n            }\n\n            if (followAdditionalWrappers && wrapperTags && wrapperTags.length > 0) {\n                // if we beyond max limit, then follow wrapper\n                if (this.wrapperCounter < WRAPPER_LOOP_LIMIT) {\n                    this.wrapperCounter++;\n                    var followAdditionalWrappersAttr = wrapperTags[0].getAttribute('followAdditionalWrappers');\n                    var followNext = !(followAdditionalWrappersAttr === 'false' || followAdditionalWrappersAttr === false);\n\n                    try {\n                        this.followWrapper(adTag, wrapperTags[0], followNext, callback);\n                        return;\n                    } catch (e) {\n                        // notify listeners about wrapper error\n                        var source = this.sources.length > 0 ? this.sources[this.sources.length - 1] : '';\n                        return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.SCHEMA_ERROR, e.message, source));\n                    }\n                } else {\n                    // notify server about wrapper limit error\n                    var _source = this.sources.length > 0 ? this.sources[this.sources.length - 1] : '';\n                    return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.WRAPPER_LIMIT, 'Exceeded max wrapper limit: ' + WRAPPER_LOOP_LIMIT, _source));\n                }\n            }\n\n            callback(null, adTag);\n        }\n    }, {\n        key: 'followWrapper',\n        value: function followWrapper(adTag, wrapper, followAdditionalWrappers, callback) {\n            var _this3 = this;\n\n            var tagURI = wrapper.getElementsByTagName('VASTAdTagURI');\n\n            // return if absent or empty 'VASTAdTagURI' tag\n            if (tagURI.length <= 0 || tagURI[0].childNodes.length <= 0) {\n                callback(null, adTag);\n                return;\n            }\n\n            var url = (0, _url.checkHttpsAwareness)(tagURI[0].childNodes[0].wholeText.trim());\n            (0, _common.getUrlContentAsync)(url, function (source) {\n                // check for empty response\n                if (!source) {\n                    return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.SCHEMA_ERROR, 'Empty VAST returned by wrapper from url: ' + url, source));\n                }\n\n                // collect VAST sources\n                _this3.sources.push(source);\n\n                // try to parse response as XML\n                var xml = void 0;\n                try {\n                    xml = (0, _common.parseXML)(source);\n                } catch (e) {\n                    return callback((0, _errors.createVastError)(_errors.VAST_ERRORS.PARSING_ERROR, 'Error while parsing VAST returned by wrapper from url \"' + url + '\": ' + e.message, source));\n                }\n\n                // recursively parse Ad\n                var ads = xml.getElementsByTagName('Ad');\n                if (ads && ads.length > 0) {\n                    return _this3.readAdTag(ads[0], adTag, followAdditionalWrappers, callback);\n                }\n\n                // notify server about wrapper response without ads\n                _this3.__emitVastWarning(_errors.VAST_ERRORS.WRAPPER_NO_ADS, 'No ADS in wrapper response on url: ' + url);\n                // return to current wrapper\n                callback(null, adTag);\n            });\n        }\n    }, {\n        key: '__readLinearTag',\n        value: function __readLinearTag(tag, inInLine) {\n            var linear = new _data.Linear();\n\n            // some data can be only in 'InLine' tag (not in 'Wrapper')\n            if (inInLine) {\n                // duration\n                var durationTags = tag.getElementsByTagName('Duration');\n                if (durationTags.length > 0) {\n                    var durationText = (0, _common.getCDATA)(durationTags[0]);\n                    linear.duration = (0, _common.parseTime)(durationText);\n                }\n\n                // skip offset\n                linear.skipOffset = __readOffset(tag.getAttribute('skipoffset'), linear.duration);\n\n                // media files\n                var mediaFileTags = tag.getElementsByTagName('MediaFile');\n                for (var i = 0; i < mediaFileTags.length; i++) {\n                    var mediaFile = this.__readMediaFile(mediaFileTags[i]);\n                    linear.mediaFiles.push(mediaFile);\n                }\n\n                // click through\n                var clickThrough = tag.getElementsByTagName('ClickThrough');\n                if (clickThrough.length > 0) {\n                    linear.clickThrough = (0, _common.getCDATA)(clickThrough[0]);\n                }\n\n                // ad parameters\n                var adParameters = tag.getElementsByTagName('AdParameters');\n                if (adParameters.length > 0) {\n                    linear.parameters = (0, _common.getCDATA)(adParameters[0]);\n                }\n            }\n\n            // tracking events\n            __readTrackingArray(linear.events, tag.getElementsByTagName('Tracking'), linear.duration);\n\n            // clicks tracking\n            var clickTracking = tag.getElementsByTagName('ClickTracking');\n            for (var _i3 = 0; _i3 < clickTracking.length; _i3++) {\n                linear.clickTrackings.push((0, _common.getCDATA)(clickTracking[_i3]));\n            }\n\n            // custom clicks\n            var customClick = tag.getElementsByTagName('CustomClick');\n            for (var _i4 = 0; _i4 < customClick.length; _i4++) {\n                linear.clickCustoms.push((0, _common.getCDATA)(customClick[_i4]));\n            }\n\n            return linear;\n        }\n    }, {\n        key: '__readMediaFile',\n        value: function __readMediaFile(tag) {\n            var mediaFile = new _data.MediaFile();\n            mediaFile.delivery = tag.getAttribute('delivery').toLowerCase().trim();\n            mediaFile.type = tag.getAttribute('type').toLowerCase().trim();\n            mediaFile.width = tag.getAttribute('width') * 1;\n            mediaFile.height = tag.getAttribute('height') * 1;\n            mediaFile.bitrate = tag.getAttribute('bitrate') * 1;\n            mediaFile.url = (0, _common.getCDATA)(tag);\n            mediaFile.apiFramework = tag.getAttribute('apiFramework');\n            return mediaFile;\n        }\n    }, {\n        key: '__readNonLinearTag',\n        value: function __readNonLinearTag(tag) {\n            var nl = new _data.NonLinear();\n\n            var staticResource = tag.getElementsByTagName('StaticResource');\n            if (staticResource.length > 0) {\n                nl.staticResource = (0, _common.getCDATA)(staticResource[0]);\n                nl.type = staticResource[0].getAttribute('creativeType');\n            }\n\n            var htmlResource = tag.getElementsByTagName('HTMLResource');\n            if (htmlResource.length > 0) {\n                nl.htmlResource = (0, _common.getCDATA)(htmlResource[0]);\n            }\n\n            var iframeResource = tag.getElementsByTagName('IFrameResource');\n            if (iframeResource.length > 0) {\n                nl.iframeResource = (0, _common.getCDATA)(iframeResource[0]);\n            }\n\n            var nonLinearClickThrough = tag.getElementsByTagName('NonLinearClickThrough');\n            if (nonLinearClickThrough.length > 0) {\n                nl.clickThrough = (0, _common.getCDATA)(nonLinearClickThrough[0]);\n            }\n\n            var nonLinearClickTracking = tag.getElementsByTagName('NonLinearClickTracking');\n            if (nonLinearClickTracking.length > 0) {\n                nl.clickTracking = (0, _common.getCDATA)(nonLinearClickTracking[0]);\n            }\n\n            nl.height = tag.getAttribute('height') * 1;\n            nl.width = tag.getAttribute('width') * 1;\n\n            return nl;\n        }\n    }, {\n        key: '__readIconTag',\n        value: function __readIconTag(tag) {\n            var icon = new _data.Icon();\n\n            // required props\n            icon.program = tag.getAttribute('program');\n            icon.width = tag.getAttribute('width') * 1;\n            icon.height = tag.getAttribute('height') * 1;\n            icon.xPosition = readPosition(tag.getAttribute('xPosition'));\n            icon.yPosition = readPosition(tag.getAttribute('yPosition'));\n            icon.resource = null;\n\n            // resources\n            var staticResource = tag.getElementsByTagName('StaticResource');\n            if (staticResource.length > 0) {\n                icon.staticResource = (0, _common.getCDATA)(staticResource[0]);\n                icon.staticResourceType = staticResource[0].getAttribute('type');\n            }\n\n            var htmlResource = tag.getElementsByTagName('HTMLResource');\n            if (htmlResource.length > 0) {\n                icon.htmlResource = (0, _common.getCDATA)(htmlResource[0]);\n            }\n\n            var iframeResource = tag.getElementsByTagName('IFrameResource');\n            if (iframeResource.length > 0) {\n                icon.iframeResource = (0, _common.getCDATA)(iframeResource[0]);\n            }\n\n            // optional props\n            icon.apiFramework = tag.getAttribute('apiFramework');\n            icon.offset = (0, _common.parseTime)(tag.getAttribute('offset'));\n            icon.duration = (0, _common.parseTime)(tag.getAttribute('duration'));\n\n            // clicks and tracking\n            var viewTrackingTags = tag.getElementsByTagName('IconViewTracking');\n            for (var i = 0; i < viewTrackingTags.length; i++) {\n                icon.viewTracking.push((0, _common.getCDATA)(viewTrackingTags[i]));\n            }\n            var clickThroughTags = tag.getElementsByTagName('IconClickThrough');\n            if (clickThroughTags && clickThroughTags.length > 0) {\n                icon.clickThrough = (0, _common.getCDATA)(clickThroughTags[0]);\n            }\n            var clickTrackingTags = tag.getElementsByTagName('IconClickTracking');\n            for (var _i5 = 0; _i5 < clickTrackingTags.length; _i5++) {\n                icon.clickTracking.push((0, _common.getCDATA)(clickTrackingTags[_i5]));\n            }\n\n            return icon;\n\n            function readPosition(value) {\n                if (value === 'left' || value === 'right' || value === 'top' || value === 'bottom') {\n                    return value;\n                }\n                var num = value * 1;\n                return num || 0;\n            }\n        }\n    }, {\n        key: '__emitVastWarning',\n        value: function __emitVastWarning(code, msg) {\n            var warning = (0, _errors.createVastError)(code, msg);\n            this.emit(_constants.PLAYER_EVENTS.VAST_WARNING, warning);\n        }\n    }]);\n\n    return ParserVast2;\n}(_eventSystem2.default);\n\nexports.default = ParserVast2;\n\n\nfunction __readOffset(text, duration) {\n    if (!text) {\n        return 0;\n    }\n\n    // if offset is set in percents\n    if (text.indexOf('%') > 0) {\n        if (duration > 0) {\n            var skipOffsetPercent = text.slice(0, -1) * 1;\n            return duration * skipOffsetPercent / 100;\n        }\n    } else {\n        return (0, _common.parseTime)(text);\n    }\n}\n\nfunction __readCompanionTag(tag) {\n    var companion = new _data.Companion();\n\n    var companionClickThrough = tag.getElementsByTagName('CompanionClickThrough');\n    if (companionClickThrough.length > 0) {\n        companion.clickThrough = (0, _common.getCDATA)(companionClickThrough[0]);\n    }\n\n    var staticResource = tag.getElementsByTagName('StaticResource');\n    if (staticResource.length > 0) {\n        companion.staticResource = (0, _common.getCDATA)(staticResource[0]);\n        companion.creativeType = staticResource[0].getAttribute('creativeType');\n    }\n\n    var htmlResource = tag.getElementsByTagName('HTMLResource');\n    if (htmlResource.length > 0) {\n        companion.htmlResource = (0, _common.getCDATA)(htmlResource[0]);\n    }\n\n    var iframeResource = tag.getElementsByTagName('IFrameResource');\n    if (iframeResource.length > 0) {\n        companion.iframeResource = (0, _common.getCDATA)(iframeResource[0]);\n    }\n\n    __readTrackingArray(companion.events, tag.getElementsByTagName('Tracking'));\n\n    companion.width = tag.getAttribute('width') * 1;\n    companion.height = tag.getAttribute('height') * 1;\n\n    return companion;\n}\n\nfunction __readTrackingArray(intoTarget, trackingTags, duration) {\n    for (var j = 0; j < trackingTags.length; j++) {\n        var eventName = trackingTags[j].getAttribute('event');\n        if (!eventName) {\n            continue;\n        }\n\n        // lowercasing all event names\n        eventName = eventName.toLowerCase();\n        if (!intoTarget[eventName]) {\n            intoTarget[eventName] = [];\n        }\n\n        // 'progress' event also contains 'offset' attribute\n        if (eventName === _constants.VAST_EVENTS.PROGRESS) {\n            intoTarget[eventName].push({\n                offset: __readOffset(trackingTags[j].getAttribute('offset'), duration),\n                url: (0, _common.getCDATA)(trackingTags[j])\n            });\n        } else {\n            intoTarget[eventName].push((0, _common.getCDATA)(trackingTags[j]));\n        }\n    }\n}\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// scripts/webalfaplayer.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0427b23153cf89013669","export default class EventSystem {\r\n    constructor() {\r\n        this.events = {};\r\n    }\r\n\r\n    emit(eventName) {\r\n        let listeners = this.events[eventName];\r\n        if (!listeners) {\r\n            return;\r\n        }\r\n\r\n        // collect arguments passed to listeners (rest from second)\r\n        let args = undefined;\r\n        if (arguments.length > 1) {\r\n            args = Array.prototype.slice.call(arguments, 1);\r\n        }\r\n\r\n        // run listeners with provided arguments\r\n        for (let i = 0; i < listeners.length; i++) {\r\n            listeners[i].apply(null, args);\r\n        }\r\n    }\r\n\r\n    on(eventName, func) {\r\n        this.addEventListener(eventName, func);\r\n    }\r\n\r\n    off(eventName, func) {\r\n        this.removeEventListener(eventName, func);\r\n    }\r\n\r\n    addEventListener(eventName, func) {\r\n        if (!this.events[eventName]) {\r\n            this.events[eventName] = [];\r\n        }\r\n        this.events[eventName].push(func);\r\n    }\r\n\r\n    removeEventListener(eventName, func) {\r\n        if (this.events[eventName]) {\r\n            if (func) {\r\n                const i = this.events[eventName].indexOf(func);\r\n                if (i >= 0) {\r\n                    this.events[eventName].splice(i, 1);\r\n                }\r\n            } else {\r\n                this.events[eventName] = [];\r\n            }\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/system/eventSystem.js","import playerCss from 'styles/player.scss';\n\nexport const css = playerCss;\n\nexport const STYLES = {\n    ROOT: 'alfa-root',\n\n    FULLSCREEN: 'alfa-fullscreen',\n    TRANSITION_VISIBLE: 'alfa-visible-animation',\n    OPACITY_VISIBLE: 'alfa-opacity-visible',\n    OPACITY_HIDDEN: 'alfa-opacity-hide',\n    DISPLAY_NONE: 'alfa-display-none',\n    NO_SELECT: 'alfa-noselect',\n    CLICKABLE: 'alfa-clickable',\n\n    LOADING_INDICATOR: 'alfa-loading-indicator',\n    LOADING_INDICATOR_VPAID: 'alfa-loading-indicator--vpaid',\n\n    TIMEBAR: 'alfa-timebar',\n    TIMEBAR_RAIL: 'alfa-timebar__rail',\n    TIMEBAR_RAIL_FILLING: 'alfa-timebar__rail-filling',\n    TIMEBAR_SEEK_RAIL: 'alfa-timebar__seek-rail',\n    TIMEBAR_SEEK_RAIL_FILLING: 'alfa-timebar__seek-rail-filling',\n    TIMEBAR_BUFF_RAIL: 'alfa-timebar__buff-rail',\n    TIMEBAR_BUFF_RAIL_FILLING: 'alfa-timebar__buff-rail-filling',\n    TIMEBAR_PLAY_RAIL: 'alfa-timebar__play-rail',\n    TIMEBAR_PLAY_RAIL_FILLING: 'alfa-timebar__play-rail-filling',\n    TIMEBAR_THUMB: 'alfa-timebar__thumb',\n\n    VOLUME_BAR: 'alfa-volume__bar',\n    VOLUME_BAR_RAIL_GROUP: 'alfa-volume__rail-group',\n    VOLUME_BAR_RAIL: 'alfa-volume__rail',\n    VOLUME_BAR_CURRENT_GROUP: 'alfa-volume__current-group',\n    VOLUME_BAR_CURRENT: 'alfa-volume__current',\n    VOLUME_BAR_THUMB: 'alfa-volume__thumb',\n\n    BUTTON_VOLUME: 'alfa-volume__button',\n    BUTTON_VOLUME_MUTE: 'alfa-volume__button--mute',\n\n    ICON_PAUSE: 'pause-icon',\n    ICON_PLAY: 'play-icon',\n\n    BACKGROUND_FULL_PAGE: 'position:relative;top:0;left:0;right:0;bottom:0',\n    PASSBACK_HTML_IFRAME: 'position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;border:none;overflow:hidden'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/styles.js","export const URL = {\r\n    NOTIFY_ON_LOAD: 'player.logs.videmob.com/onload',\r\n    NOTIFY_ON_LOAD_DEV: '34.225.76.139:8851/onload',\r\n\r\n    NOTIFY_ERROR: 'player.logs.videmob.com/error',\r\n    NOTIFY_ERROR_DEV: '34.225.76.139:8851',\r\n\r\n    NOTIFY_INFO: 'player.logs.videmob.com/info',\r\n    NOTIFY_INFO_DEV: '34.225.76.139:8851/info',\r\n\r\n    SHORTENER_URL: 'd20cu0stheph7f.cloudfront.net',\r\n    SHORTENER_URL_DEV: 'dwhsvxfkehdnj.cloudfront.net',\r\n\r\n    VAST_BASE_APP: '//vast.videmob.com/vmvast.php',\r\n    VAST_BASE_WEB: '//vastweb.videmob.com/vmvast.php',\r\n    VAST_BASE_DEV: '//adservernodejs.dimsem.com/vmvast',\r\n    SHOW_AD: 'websdk.cdn.videmob.com/player',\r\n    VPAID_FLASH: '//websdk.cdn.videmob.com/player/VPAIDFlash.swf'\r\n};\r\n\r\nexport const MIME = {\r\n    JS: 'application/javascript',\r\n    FLASH: 'application/x-shockwave-flash'\r\n};\r\n\r\nexport const VIDEO_TYPE = {\r\n    HTML5: 'html5',\r\n    FLASH: 'flash'\r\n};\r\n\r\n// all event names are lowercased here and in VAST parsing for consistency\r\nexport const VAST_EVENTS = {\r\n    CREATIVE_VIEW: 'creativeview',\r\n    START: 'start',\r\n    FIRST_QUARTILE: 'firstquartile',\r\n    MIDPOINT: 'midpoint',\r\n    THIRD_QUARTILE: 'thirdquartile',\r\n    COMPLETE: 'complete',\r\n    MUTE: 'mute',\r\n    UNMUTE: 'unmute',\r\n    PAUSE: 'pause',\r\n    REWIND: 'rewind',\r\n    RESUME: 'resume',\r\n    FULLSCREEN: 'fullscreen',\r\n    EXIT_FULLSCREEN: 'exitfullscreen',\r\n    EXPAND: 'expand',\r\n    COLLAPSE: 'collapse',\r\n    ACCEPT_INVITATION: 'acceptinvitation',\r\n    ACCEPT_INVITATION_LINEAR: 'acceptinvitationlinear',\r\n    CLOSE: 'close',\r\n    CLOSE_LINEAR: 'closelinear',\r\n    SKIP: 'skip',\r\n    PROGRESS: 'progress'\r\n};\r\n\r\nexport const PLAYER_EVENTS = {\r\n    PLAYER_CREATED: 'playerCreated',\r\n    BUFFERING: 'buffering',\r\n    CLICK: 'click',\r\n    VIDEO_ERROR: 'videoerror',\r\n    EMPTY_ADS_LIST: 'emptyadslist',\r\n    AD_IMPRESSION: 'adimpression',\r\n    AD_FINISHED: 'adfinished',\r\n    AD_SKIPPED: 'adskipped',\r\n    AD_CLICK_THROUGH: 'adclickthrough',\r\n    AD_TRACKING: 'adtracking',\r\n    VPAID_EVENT: 'vpaidEvent',\r\n    VAST_WARNING: 'vastWarning'\r\n};\r\n\r\n// HTML5 audio\\video tags events\r\nexport const MEDIA_EVENTS = {\r\n    abort: 'abort',                     // Sent when playback is aborted; for example, if the media is playing and is restarted from the beginning, this event is sent.\r\n    canplay: 'canplay',                 // Sent when enough data is available that the media can be played, at least for a couple of frames.  This corresponds to the HAVE_ENOUGH_DATA readyState.\r\n    canplaythrough: 'canplaythrough',   // Sent when the ready state changes to CAN_PLAY_THROUGH, indicating that the entire media can be played without interruption, assuming the download rate remains at least at the current level. It will also be fired when playback is toggled between paused and playing. Note: Manually setting the currentTime will eventually fire a canplaythrough event in firefox. Other browsers might not fire this event.\r\n    durationchange: 'durationchange',   // The metadata has loaded or changed, indicating a change in duration of the media.  This is sent, for example, when the media has loaded enough that the duration is known.\r\n    emptied: 'emptied',                 // The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it.\r\n    encrypted: 'encrypted',             // The user agent has encountered initialization data in the media data.\r\n    ended: 'ended',                     // Sent when playback completes.\r\n    error: 'error',                     // Sent when an error occurs.  The element's error attribute contains more information. See HTMLMediaElement.error for details.\r\n    interruptbegin: 'interruptbegin',   // Sent when audio playing on a Firefox OS device is interrupted, either because the app playing the audio is sent to the background, or audio in a higher priority audio channel begins to play. See Using the AudioChannels API for more details.\r\n    interruptend: 'interruptend',       // Sent when previously interrupted audio on a Firefox OS device commences playing again — when the interruption ends. This is when the associated app comes back to the foreground, or when the higher priority audio finished playing. See Using the AudioChannels API for more details.\r\n    loadeddata: 'loadeddata',           // The first frame of the media has finished loading.\r\n    loadedmetadata: 'loadedmetadata',   // The media's metadata has finished loading; all attributes now contain as much useful information as they're going to.\r\n    loadstart: 'loadstart',             // Sent when loading of the media begins.\r\n    pause: 'pause',                     // Sent when playback is paused.\r\n    play: 'play',                       // Sent when playback of the media starts after having been paused; that is, when playback is resumed after a prior pause event.\r\n    playing: 'playing',                 // Sent when the media begins to play (either for the first time, after having been paused, or after ending and then restarting).\r\n    progress: 'progress',               // Sent periodically to inform interested parties of progress downloading the media. Information about the current amount of the media that has been downloaded is available in the media element's buffered attribute.\r\n    ratechange: 'ratechange',           // Sent when the playback speed changes.\r\n    seeked: 'seeked',                   // Sent when a seek operation completes.\r\n    seeking: 'seeking',                 // Sent when a seek operation begins.\r\n    stalled: 'stalled',                 // Sent when the user agent is trying to fetch media data, but data is unexpectedly not forthcoming.\r\n    suspend: 'suspend',                 // Sent when loading of the media is suspended; this may happen either because the download has completed or because it has been paused for any other reason.\r\n    timeupdate: 'timeupdate',           // The time indicated by the element's currentTime attribute has changed.\r\n    volumechange: 'volumechange',       // Sent when the audio volume changes (both when the volume is set and when the muted attribute is changed).\r\n    waiting: 'waiting'                  // Sent when the requested operation (such as playback) is delayed pending the completion of another operation (such as a seek).\r\n};\r\n\r\nexport const MEDIA_ERROR = {\r\n    MEDIA_ERR_ABORTED: 1,\r\n    MEDIA_ERR_NETWORK: 2,\r\n    MEDIA_ERR_DECODE: 3,\r\n    MEDIA_ERR_SRC_NOT_SUPPORTED: 4\r\n};\r\n\r\nexport const DEFAULTS = {\r\n    SKIP_AD_TIME: 7\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/data/constants.js","import { uuid } from 'alfa-common/lib/utils/uuid';\r\nimport { ensureProtocol } from 'alfa-common/lib/utils/url';\r\nimport { URL, DEFAULTS } from '@/data/constants';\r\nimport { Storage } from '@/data/storage';\r\n\r\nconst KEY_VOLUME = 'AlfaPlayerVolume';\r\nconst KEY_CURRENT_PLAY = 'alfa_current_play';\r\nconst KEY_ENV = 'alfa_env';\r\nconst KEY_VAST_URL = 'alfa_vast_url';\r\n\r\n// this SID used in 'load' event and for first player instance\r\nexport const INITIAL_SID = uuid();\r\nlet isInitialSIDUsed = false;\r\n\r\nexport class Settings {\r\n    constructor() {\r\n        this.isRotated = false;\r\n        this.isDebug = false;\r\n        this.urlProtocol = '';\r\n        this.storage = new Storage();\r\n    }\r\n\r\n    get env() {\r\n        return this.storage.read(KEY_ENV) || '';\r\n    }\r\n\r\n    get vast_url() {\r\n        return this.storage.read(KEY_VAST_URL) || URL.VAST_BASE_DEV;\r\n    }\r\n\r\n    get volume() {\r\n        const str = this.storage.read(KEY_VOLUME);\r\n        if (!str) {\r\n            return 1;\r\n        }\r\n        const num = +str;\r\n        return !isNaN(num) ? num : 1;\r\n    }\r\n\r\n    set volume(value) {\r\n        this.storage.write(KEY_VOLUME, value);\r\n    }\r\n\r\n    get currentPlay() {\r\n        const num = parseFloat(this.storage.read(KEY_CURRENT_PLAY));\r\n        return !isNaN(num) ? num : 0;\r\n    }\r\n\r\n    set currentPlay(value) {\r\n        this.storage.write(KEY_CURRENT_PLAY, value);\r\n    }\r\n\r\n    get skipAdOffset() {\r\n        return this.isDev ? 1 : DEFAULTS.SKIP_AD_TIME;\r\n    }\r\n\r\n    get isDev() {\r\n        return this.env === 'dev';\r\n    }\r\n\r\n    nextSID() {\r\n        if (!isInitialSIDUsed) {\r\n            isInitialSIDUsed = true;\r\n            return INITIAL_SID;\r\n        } else {\r\n            return uuid();\r\n        }\r\n    }\r\n\r\n    getShortenerUrl() {\r\n        return this.isDev ? URL.SHORTENER_URL_DEV : URL.SHORTENER_URL;\r\n    }\r\n\r\n    getAppType() {\r\n        const APP_NAME = 'webplayer';\r\n\r\n        if (process.env.ALFA_ROTATED) {\r\n            return APP_NAME + '.r';\r\n        } else if (process.env.ALFA_VPAID) {\r\n            return APP_NAME + '.vpaid';\r\n        }\r\n        return APP_NAME;\r\n    }\r\n\r\n    getNotifyOnLoadUrl() {\r\n        const url = this.isDev ? URL.NOTIFY_ON_LOAD_DEV : URL.NOTIFY_ON_LOAD;\r\n        return ensureProtocol(url, this.urlProtocol);\r\n    }\r\n\r\n    getNotifyInfoUrl() {\r\n        const url = this.isDev ? URL.NOTIFY_INFO_DEV : URL.NOTIFY_INFO;\r\n        return ensureProtocol(url, this.urlProtocol);\r\n    }\r\n\r\n    getNotifyErrorUrl() {\r\n        const url = this.isDev ? URL.NOTIFY_ERROR_DEV : URL.NOTIFY_ERROR;\r\n        return ensureProtocol(url, this.urlProtocol);\r\n    }\r\n}\r\n\r\nexport const settings = new Settings();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/data/settings.js","'use strict';\r\n\r\nexport function unique(prefix) {\r\n    let count = -1;\r\n    return f => {\r\n        return `${prefix}_${++count}`;\r\n    };\r\n}\r\n\r\nexport function noop() {\r\n}\r\n\r\n\r\nexport function callbackTimeout(timer, onSuccess, onTimeout) {\r\n\r\n    let timeout = setTimeout(() => {\r\n\r\n        onSuccess = noop;\r\n        onTimeout();\r\n\r\n    }, timer);\r\n\r\n    return function () {\r\n        clearTimeout(timeout);\r\n        onSuccess.apply(this, arguments);\r\n    };\r\n}\r\n\r\n\r\nexport function createElementWithID(parent, id, cleanContent = false) {\r\n    var nEl = document.createElement('div');\r\n    nEl.id = id;\r\n    if (cleanContent) {\r\n        parent.innerHTML = '';\r\n    }\r\n    parent.appendChild(nEl);\r\n    return nEl;\r\n}\r\n\r\nexport function isPositiveInt(newVal, oldVal) {\r\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\r\n}\r\n\r\nlet endsWith = (function () {\r\n    if (String.prototype.endsWith) return String.prototype.endsWith;\r\n    return function endsWith (searchString, position) {\r\n        var subjectString = this.toString();\r\n        if (position === undefined || position > subjectString.length) {\r\n            position = subjectString.length;\r\n        }\r\n        position -= searchString.length;\r\n        var lastIndex = subjectString.indexOf(searchString, position);\r\n        return lastIndex !== -1 && lastIndex === position;\r\n    };\r\n})();\r\n\r\nexport function stringEndsWith(string, search) {\r\n    return endsWith.call(string, search);\r\n}\r\n\r\nexport function hideFlashEl(el) {\r\n    // can't use display none or visibility none because will block flash in some browsers\r\n    el.style.position = 'absolute';\r\n    el.style.left = '-1px';\r\n    el.style.top = '-1px';\r\n    el.style.width = '1px';\r\n    el.style.height = '1px';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/utils.js","import { sendError as networkSendError } from '@/system/networking';\r\nimport { settings } from '@/data/settings';\r\n\r\nlet __oldHandler = null;\r\n\r\nexport const VAST_ERRORS = {\r\n    PARSING_ERROR: 100,          // XML parsing error\r\n    SCHEMA_ERROR: 101,           // VAST schema validation error\r\n    VERSION_NOT_SUPPORTED: 102,  // VAST version of response not supported\r\n\r\n    TRAFFICKING_ERROR: 200,     // Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display.\r\n    DIFFERENT_LINEARITY: 201,   // Video player expecting different linearity\r\n    DIFFERENT_DURATION: 202,    // Video player expecting different duration\r\n    DIFFERENT_SIZE: 203,        // Video player expecting different size\r\n\r\n    WRAPPER_ERROR: 300,    // General Wrapper error\r\n    WRAPPER_TIMEOUT: 301,  // Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)\r\n    WRAPPER_LIMIT: 302,    // Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response\r\n    WRAPPER_NO_ADS: 303,   // No Ads VAST response after one or more Wrappers\r\n\r\n    LINEAR_ERROR: 400,           // General Linear error. Video player is unable to display the Linear Ad\r\n    LINEAR_NOT_FOUND: 401,       // File not found. Unable to find Linear/MediaFile from URI\r\n    LINEAR_TIMEOUT: 402,         // Timeout of MediaFile URI\r\n    LINEAR_NOT_SUPPORTED: 403,   // Couldn’t find MediaFile that is supported by this video player, based on the attributes of the MediaFile element\r\n    LINEAR_NOT_DISPLAYING: 405,  // Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn’t display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc\r\n\r\n    NONLINEAR_ERROR: 500,       // General NonLinearAds error\r\n    NONLINEAR_TOO_LARGE: 501,   // Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)\r\n    NONLINEAR_FETCH: 502,       // Unable to fetch NonLinearAds/NonLinear resource\r\n    NONLINEAR_SUPPORT: 503,     // Couldn’t find NonLinear resource with supported type\r\n\r\n    COMPANION_ERROR: 600,       // General CompanionAds error\r\n    COMPANION_TOO_LARGE: 601,   // Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)\r\n    COMPANION_DISPLAY: 602,     // Unable to display Required Companion\r\n    COMPANION_FETCH: 603,       // Unable to fetch CompanionAds/Companion resource\r\n    COMPANION_SUPPORT: 604,     // Couldn’t find Companion resource with supported type\r\n\r\n    UNDEFINED_ERROR: 900,  // Undefined Error\r\n    VPAID_ERROR: 901       // General VPAID error\r\n};\r\n\r\nexport const PLAYER_ERRORS = {\r\n    GENERAL_ERROR: 10000,\r\n    NO_ADS: 10001,\r\n    CRITICAL_ERROR: 10100\r\n};\r\n\r\n/*\r\nPOST JSON to: http://34.225.76.139:8551/\r\nWEB GUI: http://dev:ba3jus5yi8@34.225.76.139:8500/errorlogger-env1\r\n */\r\n\r\nexport class AlfaError extends Error {\r\n    constructor(msg) {\r\n        super();\r\n        this.name = 'AlfaError';\r\n        this.message = msg;\r\n        this.code = PLAYER_ERRORS.GENERAL_ERROR;\r\n    }\r\n}\r\n\r\nexport class CriticalError extends AlfaError {\r\n    constructor(msg) {\r\n        super(msg);\r\n        this.name = 'CriticalError';\r\n        this.code = PLAYER_ERRORS.CRITICAL_ERROR;\r\n    }\r\n}\r\n\r\nexport class VastError extends AlfaError {\r\n    constructor(code, msg, source) {\r\n        super(msg);\r\n        this.name = 'VastError';\r\n        this.code = code;\r\n        this.source = source;\r\n    }\r\n}\r\n\r\nexport class NoAdsError extends AlfaError {\r\n    constructor(msg) {\r\n        super(msg);\r\n        this.name = 'NoAdsError';\r\n        this.code = PLAYER_ERRORS.NO_ADS;\r\n    }\r\n}\r\n\r\n/**\r\n * Register a global error listener to passed WINDOW global object.\r\n * Store previous registered listener.\r\n *\r\n * @param global\r\n */\r\nexport function registerGlobalErrorHandler(global) {\r\n    if (global.onerror) {\r\n        __oldHandler = global.onerror;\r\n    }\r\n\r\n    global.onerror = handler;\r\n\r\n    console.log('[alfa] Global Error Handler registered');\r\n}\r\n\r\n/**\r\n * Remove registered listener.\r\n * Restore previous listener, if any.\r\n *\r\n * @param global\r\n */\r\nexport function unregisterGlobalErrorHandler(global) {\r\n    if (__oldHandler) {\r\n        global.onerror = __oldHandler;\r\n        __oldHandler = null;\r\n    } else {\r\n        global.onerror = null;\r\n    }\r\n}\r\n\r\nexport function createError(msg) {\r\n    return new AlfaError(msg);\r\n}\r\n\r\nexport function createVastError(code, msg, source) {\r\n    return new VastError(code, msg, source);\r\n}\r\n\r\n/**\r\n * Send error to server\r\n*/\r\nexport function sendError(error, data) {\r\n    error = error || {};\r\n    const message = (error.name ? '[' + error.name + ']' : '') + ' ' + (error.message || '');\r\n\r\n    const body = {\r\n        name: 'err',\r\n        msg: message,\r\n        code: error.code || 0,\r\n        type: settings.getAppType(),\r\n        sid: error.sid || undefined,\r\n        ver: process.env.VERSION || 'dev',\r\n        data: data\r\n    };\r\n    console.warn('[alfa] Error: ' + JSON.stringify(body));\r\n\r\n    networkSendError(body);\r\n}\r\n\r\nfunction handler(msg, url, lineNo, columnNo, handledError) {\r\n    console.log(`[alfa global error] msg: ${msg}, url: ${url}, lineNo: ${lineNo}, columnNo: ${columnNo}`);\r\n    console.log('[alfa global error]', handledError);\r\n\r\n    if (url) {\r\n        msg = `${msg} (url: '${ url }', lineNo: ${ lineNo }, columnNo: ${ columnNo })`;\r\n    }\r\n\r\n    const error = new CriticalError(msg);\r\n    sendError(error);\r\n\r\n    if (__oldHandler) {\r\n        return __oldHandler.apply(this, arguments);\r\n    }\r\n\r\n    return true;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/system/errors.js","const DEVICE_NAMES_REGEX = /(android|bb\\d+|meego)|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i;\r\nconst DEVICE_MODELS_REGEX = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;\r\n\r\nconst FORMATS_DEFAULT = ['video/mp4', 'mp4', 'video/webm', 'webm'];\r\nconst FORMATS_FOR_IOS_DEVICES = ['video/mp4', 'mp4'];\r\n\r\nconst BITRATE_LIMIT_DEFAULT = 2500;\r\nconst BITRATE_LIMIT_FOR_MOBILE_DEVICES = 1000;\r\n\r\nexport class UserAgent {\r\n    constructor(userAgent = '') {\r\n        this.isAndroid = userAgent.indexOf('Android') >= 0;\r\n        this.isIOS = /(iPhone|iPod|iPad)/g.test(userAgent);\r\n        this.isIOSSmall = /(iPhone|iPod)/g.test(userAgent);\r\n\r\n        this.isIE = /MSIE|rv:11/i.test(userAgent);\r\n        this.isUCBrowser = /(UCBrowser)/g.test(userAgent);\r\n        this.isChrome = userAgent.indexOf('Chrome') >= 0 || userAgent.indexOf('CriOS') >= 0; // 'CriOS' is chrome in ios\r\n        this.isFirefox = userAgent.indexOf('Firefox') >= 0;\r\n\r\n        this.isMobile = DEVICE_NAMES_REGEX.test(userAgent) || DEVICE_MODELS_REGEX.test(userAgent.substr(0, 4));\r\n        this.isFacebook = userAgent.indexOf('FB_IAB') >= 0 || userAgent.indexOf('FBAV') >= 0;\r\n\r\n        this.supportedVideoFormats = this.isIOS ? FORMATS_FOR_IOS_DEVICES : FORMATS_DEFAULT;\r\n        this.bitrateLimit = this.isMobile ? BITRATE_LIMIT_FOR_MOBILE_DEVICES : BITRATE_LIMIT_DEFAULT;\r\n    }\r\n\r\n    isSupportedVideoFormat(format) {\r\n        return this.supportedVideoFormats.indexOf(format) >= 0;\r\n    }\r\n\r\n    static parse(userAgent) {\r\n        return new UserAgent(userAgent);\r\n    }\r\n}\r\n\r\nexport const parsedUA = UserAgent.parse(navigator.userAgent);\r\nexport const rawUA = navigator.userAgent;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/data/userAgent.js","import { MEDIA_EVENTS } from '@/data/constants';\n\nexport function parseTime(timeString) {\n    if (!timeString) {\n        return 0;\n    }\n\n    const msIndex = timeString.indexOf('.');\n    if (msIndex > 0) {\n        timeString = timeString.slice(0, msIndex);\n    }\n\n    const ar = timeString.split(':');\n    let result = 0;\n    if (ar.length === 3) {\n        result = parseInt(ar[2]) + parseInt(ar[1]) * 60 + parseInt(ar[0]) * 3600;\n    } else if (ar.length === 2) {\n        result = parseInt(ar[1]) + parseInt(ar[0]) * 60;\n    } else {\n        return 0;\n    }\n    return result;\n}\n\nexport function formatTime(seconds) {\n    // handle invalid times\n    if (seconds == null || seconds < 0 || isNaN(seconds) || seconds === Infinity) {\n        return '-';\n    }\n\n    let s = Math.floor(seconds % 60),\n        m = Math.floor(seconds / 60 % 60),\n        h = Math.floor(seconds / 3600);\n\n    h = h > 0 ? h + ':' : '';\n    m = (m < 10 ? '0' + m : m) + ':';\n    s = (s < 10) ? '0' + s : s;\n\n    return h + m + s;\n}\n\nexport function getUrlContentAsync(url, callback) {\n    if (location.protocol === 'https:' && url.toString().substr(0, 5) === 'http:') {\n        console.error('Incorrect URL protocol. Expected to be HTTPS request');\n        return callback();\n    }\n\n    try {\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n\n        xhr.onload = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    callback(xhr.responseText);\n                } else {\n                    callback();\n                }\n            }\n        };\n\n        xhr.onerror = function (e) {\n            console.error(e.message);\n            callback();\n        };\n\n        xhr.send();\n    } catch (e) {\n        console.error(e.message);\n        callback();\n    }\n}\n\nexport function parseXML(source) {\n    source = (source || '').trim();\n\n    const parser = new DOMParser();\n    const xml = parser.parseFromString(source, 'text/xml');\n\n    // check if parser done without errors\n    const parserErrorTag = xml.querySelector('parsererror');\n    if (parserErrorTag) {\n        throw new Error(parserErrorTag.innerText);\n    }\n\n    return xml;\n}\n\nexport function getCDATA(xmlNode) {\n    if (xmlNode && xmlNode.firstChild) {\n        if (xmlNode.firstChild.wholeText) {\n            return xmlNode.firstChild.wholeText.trim();\n        }\n        return xmlNode.firstChild.data;\n    }\n\n    return '';\n}\n\nexport function playWhenCan(videoElement, successCallback, errorCallback) {\n    // check if video is already buffered enough to start playing ...\n    if (videoElement.readyState >= videoElement.HAVE_FUTURE_DATA) {\n        runPlay(successCallback, errorCallback);\n    } else {\n        // ... if not - try to run play to overcome play-on-touch problem on mobile devices and additionally set callback on CANPLAY event\n        runPlay();\n        videoElement.addEventListener(MEDIA_EVENTS.canplay, onCanPlay);\n    }\n\n    function onCanPlay() {\n        runPlay();\n        videoElement.removeEventListener(MEDIA_EVENTS.canplay, onCanPlay);\n    }\n\n    function runPlay(onSuccess, onError) {\n        onSuccess = onSuccess || noop;\n        onError = onError || noop;\n\n        if (!videoElement.paused) {\n            return;\n        }\n\n        const promise = videoElement.play();\n        if (promise) {\n            promise\n                .then(onSuccess)\n                .catch(onError);\n        } else {\n            setTimeout(() => {\n                // if video is paused, then probably there was an error\n                if (videoElement.paused && onError) {\n                    onError();\n                }\n            }, 100);\n        }\n    }\n}\n\nexport function noop() {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/common.js","export function isChildOf(c, p) {\r\n    if (c) {\r\n        while ((c = c.parentNode) && c !== p) ;\r\n    }\r\n    return !!c;\r\n}\r\n\r\nexport function isElementInViewport(el) {\r\n    let rect = el.getBoundingClientRect();\r\n    return (\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n    );\r\n}\r\n\r\nexport function isElementPartiallyInViewport(el) {\r\n    let rect = el.getBoundingClientRect();\r\n    let heightPart = rect.height / 5;\r\n    let widthPart = rect.width / 5;\r\n    let viewHeight = (window.innerHeight || document.documentElement.clientHeight);\r\n    let viewWidth = (window.innerWidth || document.documentElement.clientWidth);\r\n    return (\r\n        (rect.bottom >= heightPart && rect.right >= widthPart && (rect.top + heightPart) < viewHeight) ||\r\n        (rect.bottom >= heightPart && (rect.left + widthPart) < viewWidth && (rect.top + heightPart) < viewHeight) ||\r\n        ((rect.top + heightPart) < viewHeight && rect.right >= widthPart && rect.bottom > heightPart) ||\r\n        ((rect.top + heightPart) < viewHeight && (rect.left + widthPart) < viewWidth && rect.bottom > heightPart)\r\n    );\r\n}\r\n\r\nexport function getCursorPosition(canvas, event) {\r\n    let rect = canvas.getBoundingClientRect();\r\n    let xx = event.clientX - rect.left;\r\n    let yy = event.clientY - rect.top;\r\n\r\n    return { x: xx, y: yy };\r\n}\r\n\r\nexport function normalizePercent(percent) {\r\n    if (percent < 0)\r\n        percent = 0;\r\n    else if (percent > 1)\r\n        percent = 1;\r\n    return percent;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/utils.js","import { settings } from '@/data/settings';\r\nimport { noop } from '@/utils/common';\r\n\r\nconst requests = {};\r\n\r\nclass RequestError extends Error {\r\n    constructor(xhr) {\r\n        super();\r\n\r\n        this.status = xhr.status;\r\n        if (this.status) {\r\n            this.message = xhr.statusText;\r\n        } else {\r\n            this.message = 'Request aborted';\r\n        }\r\n    }\r\n}\r\n\r\nclass Request {\r\n    constructor() {\r\n        this.xhr = new XMLHttpRequest();\r\n\r\n        this.active = false;\r\n        this.success = false;\r\n        this.error = false;\r\n    }\r\n\r\n    send(url, options, callback) {\r\n        // defaulting params\r\n        options = options || {};\r\n        callback = callback || noop;\r\n        const method = options.method || 'GET';\r\n\r\n        // if request was active - abort it\r\n        this.abort();\r\n\r\n        // reset status flags to working status\r\n        this.active = true;\r\n        this.success = false;\r\n        this.error = false;\r\n\r\n        // setup actual request\r\n        this.xhr.open(method, url, true);\r\n\r\n        // if request timeout was set - setup it\r\n        this.xhr.timeout = options.timeout || 0;\r\n\r\n        this.xhr.onload = () => {\r\n            this.active = false;\r\n            this.success = true;\r\n\r\n            callback(null, this.xhr.responseText);\r\n        };\r\n\r\n        this.xhr.onerror = () => {\r\n            this.active = false;\r\n            this.error = true;\r\n\r\n            console.error('[alfa] Error in request to: ' + url);\r\n            callback(new RequestError(this.xhr));\r\n        };\r\n\r\n        this.xhr.ontimeout = () => {\r\n            this.active = false;\r\n            this.error = true;\r\n\r\n            console.error('[alfa] Timeout in request to: ' + url);\r\n            callback(new RequestError(this.xhr));\r\n        };\r\n\r\n        // setup request headers\r\n        if (options.headers) {\r\n            for (let headerName in options.headers) {\r\n                if (options.headers.hasOwnProperty(headerName)) {\r\n                    this.xhr.setRequestHeader(headerName, options.headers[headerName]);\r\n                }\r\n            }\r\n        }\r\n\r\n        // actually start request\r\n        try {\r\n            if (options.body != null) {\r\n                this.xhr.send(options.body);\r\n            } else {\r\n                this.xhr.send();\r\n            }\r\n        } catch (e) {\r\n            callback(e);\r\n        }\r\n    }\r\n\r\n    post(url, options, callback) {\r\n        options.method = 'POST';\r\n        this.send(url, options, callback);\r\n    }\r\n\r\n    abort() {\r\n        if (this.xhr && this.active) {\r\n            this.active = false;\r\n            this.xhr.abort();\r\n\r\n            // create new XHR instance\r\n            this.xhr = new XMLHttpRequest();\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Run a GET request\r\n *\r\n * @param url\r\n * @param [options]\r\n * @param [callback]\r\n */\r\nexport function doGet(url, options, callback) {\r\n    options = options || {};\r\n    callback = callback || noop;\r\n\r\n    const req = getRequest();\r\n    req.send(url, options, callback);\r\n}\r\n\r\n/**\r\n * Run a POST request\r\n *\r\n * @param url\r\n * @param [options]\r\n * @param [callback]\r\n */\r\nexport function doPost(url, options, callback) {\r\n    options = options || {};\r\n    callback = callback || noop;\r\n\r\n    const req = getRequest();\r\n    req.post(url, options, callback);\r\n}\r\n\r\n/**\r\n *\r\n * @param [name]\r\n * @returns {Request}\r\n */\r\nexport function getRequest(name) {\r\n    if (!name) {\r\n        return new Request();\r\n    }\r\n\r\n    let req = requests[name];\r\n    if (!req) {\r\n        req = new Request();\r\n        requests[name] = req;\r\n    }\r\n    return req;\r\n}\r\n\r\nexport function getShortURL(queries, callback) {\r\n    const REQUEST_TIMEOUT = 3000;\r\n    callback = callback || noop;\r\n\r\n    const tinyUrl = '//' + settings.getShortenerUrl() + '/generate';\r\n    const reqUrl = tinyUrl + '?' + queries;\r\n\r\n    const req = getRequest('shareUrl');\r\n    req.send(reqUrl, {\r\n        timeout: REQUEST_TIMEOUT\r\n    }, (error, result) => {\r\n        if (error) {\r\n            return callback();\r\n        }\r\n        callback(result);\r\n    });\r\n}\r\n\r\nexport function sendOnLoad(body) {\r\n    sendPostRequest('OnLoad', settings.getNotifyOnLoadUrl(), body);\r\n}\r\n\r\nexport function sendInfo(body) {\r\n    sendPostRequest('Info', settings.getNotifyInfoUrl(), body);\r\n}\r\n\r\nexport function sendError(body) {\r\n    sendPostRequest('Error', settings.getNotifyErrorUrl(), body);\r\n}\r\n\r\nfunction sendPostRequest(type, url, body) {\r\n    const REQUEST_TIMEOUT = 1000;\r\n\r\n    const req = getRequest();\r\n    req.post(url, {\r\n        timeout: REQUEST_TIMEOUT,\r\n        body: JSON.stringify(body)\r\n    }, (e) => {\r\n        if (e) {\r\n            console.warn(`[alfa] Could not report ${ type } to server`);\r\n        } else {\r\n            console.info(`[alfa] ${ type } reported to server`);\r\n        }\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/system/networking.js","export function prepareFetchVastUrl(url, rect) {\r\n    if (url.indexOf('player_width=') > 0) {\r\n        url = url.replace(/player_width=\\d.*?(?=&|$)/, 'player_width=' + rect.width);\r\n        url = url.replace(/player_height=\\d.*?(?=&|$)/, 'player_height=' + rect.height);\r\n    } else {\r\n        url += '&player_width=' + rect.width + '&player_height=' + rect.height;\r\n    }\r\n\r\n    return url;\r\n}\r\n\r\nexport function checkHttpsAwareness(url) {\r\n    const HTTPS_AD_DOMAINS = '' +\r\n        'ad.doubleclick.net|' +\r\n        'bid.g.doubleclick.net|' +\r\n        'corp.google.com|' +\r\n        'ggpht.com|' +\r\n        'google.co.uk|' +\r\n        'google.com|' +\r\n        'googleads.g.doubleclick.net|' +\r\n        'googleads4.g.doubleclick.net|' +\r\n        'googleadservices.com|' +\r\n        'googlesyndication.com|' +\r\n        'googleusercontent.com|' +\r\n        'gstatic.com|' +\r\n        'prod.google.com|' +\r\n        'pubads.g.doubleclick.net|' +\r\n        's0.2mdn.net|' +\r\n        'static.doubleclick.net|' +\r\n        'surveys.g.doubleclick.net|' +\r\n        'youtube.com|' +\r\n        'ytimg.com';\r\n    const httpsRegex = new RegExp('^https?://([a-z0-9-]{1,63}\\\\.)*(' + HTTPS_AD_DOMAINS + ')(:[0-9]+)?([/?#]|$)', 'i');\r\n\r\n    if ('https:' === location.protocol && httpsRegex.test(url))\r\n        return url.replace(/^http:/i, 'https:');\r\n    return url;\r\n}\r\n\r\nexport function parseYoutubeID(url) {\r\n    if (!url || typeof url !== 'string') {\r\n        return '';\r\n    }\r\n\r\n    const regExp = /^.*youtu\\.?be\\/?(\\.com\\/watch\\?.*&?\\??v=)?([^.\\\\#&?]*).*/;\r\n    const match = url.match(regExp);\r\n    if (match && match[2].length >= 11) {\r\n        return match[2];\r\n    }\r\n\r\n    const embedRegExp = /youtube\\.com\\/embed\\/([^#&?]+)/;\r\n    const embedMatch = url.match(embedRegExp);\r\n    if (embedMatch && embedMatch[1].length >= 11) {\r\n        return embedMatch[1];\r\n    }\r\n\r\n    return '';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/url.js","'use strict';\r\n\r\nexport class MultipleValuesRegistry {\r\n    constructor () {\r\n        this._registries = {};\r\n    }\r\n    add (id, value) {\r\n        if (!this._registries[id]) {\r\n            this._registries[id] = [];\r\n        }\r\n        if (this._registries[id].indexOf(value) === -1) {\r\n            this._registries[id].push(value);\r\n        }\r\n    }\r\n    get (id) {\r\n        return this._registries[id] || [];\r\n    }\r\n    filterKeys (handler) {\r\n        return Object.keys(this._registries).filter(handler);\r\n    }\r\n    findByValue (value) {\r\n        var keys = Object.keys(this._registries).filter((key) => {\r\n            return this._registries[key].indexOf(value) !== -1;\r\n        });\r\n\r\n        return keys;\r\n    }\r\n    remove(key, value) {\r\n        if (!this._registries[key]) { return; }\r\n\r\n        var index = this._registries[key].indexOf(value);\r\n\r\n        if (index < 0) { return; }\r\n        return this._registries[key].splice(index, 1);\r\n    }\r\n    removeByKey (id) {\r\n        let old = this._registries[id];\r\n        delete this._registries[id];\r\n        return old;\r\n    }\r\n    removeByValue (value) {\r\n        let keys = this.findByValue(value);\r\n        return keys.map((key) => {\r\n            return this.remove(key, value);\r\n        });\r\n    }\r\n    removeAll() {\r\n        let old = this._registries;\r\n        this._registries = {};\r\n        return old;\r\n    }\r\n    size() {\r\n        return Object.keys(this._registries).length;\r\n    }\r\n}\r\n\r\nexport class SingleValueRegistry {\r\n    constructor () {\r\n        this._registries = {};\r\n    }\r\n    add (id, value) {\r\n        this._registries[id] = value;\r\n    }\r\n    get (id) {\r\n        return this._registries[id];\r\n    }\r\n    filterKeys (handler) {\r\n        return Object.keys(this._registries).filter(handler);\r\n    }\r\n    findByValue (value) {\r\n        var keys = Object.keys(this._registries).filter((key) => {\r\n            return this._registries[key] === value;\r\n        });\r\n\r\n        return keys;\r\n    }\r\n    remove (id) {\r\n        let old = this._registries[id];\r\n        delete this._registries[id];\r\n        return old;\r\n    }\r\n    removeByValue (value) {\r\n        let keys = this.findByValue(value);\r\n        return keys.map((key) => {\r\n            return this.remove(key);\r\n        });\r\n    }\r\n    removeAll() {\r\n        let old = this._registries;\r\n        this._registries = {};\r\n        return old;\r\n    }\r\n    size() {\r\n        return Object.keys(this._registries).length;\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/registry.js","export function isUrl(str) {\r\n    const URL_PREFIXES = [\r\n        '//',\r\n        'http://',\r\n        'https://'\r\n    ];\r\n\r\n    // prepare input\r\n    str = (str || '').trim().toLowerCase();\r\n    if (!str) {\r\n        return false;\r\n    }\r\n\r\n    // check\r\n    for (let i = 0; i < URL_PREFIXES.length; i++) {\r\n        const prefix = URL_PREFIXES[i];\r\n        if (str.substr(0, prefix.length) === prefix) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nexport function ensureProtocol(url, protocol) {\r\n    url = (url || '').trim();\r\n    if (!url) {\r\n        return '';\r\n    }\r\n    if (!url.match(/^[a-zA-Z]+:\\/\\//i)) {\r\n        return protocol + '//' + url;\r\n    } else {\r\n        return url;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/alfa-common/lib/utils/url.js","import { assign } from 'alfa-common/lib/polyfills/assign';\nimport { flatten, pick } from 'alfa-common/lib/utils/array';\nimport { MIME, VAST_EVENTS } from '@/data/constants';\n\nconst VAST_TYPE = {\n    VPAID: 'vpaid',\n    WRAPPER: 'wrapper',\n    INLINE: 'inline'\n};\n\nexport class Vast {\n    constructor(version) {\n        this.version = version || 0;\n        this.source = '';\n        this.adTags = [];\n    }\n\n    static looksLikeVast(text) {\n        text = (text || '').trim();\n        const STARTS = [\n            '<?xml',\n            '<VAST',\n            '<VideoAdServingTemplate'\n        ];\n        for (let i = 0; i < STARTS.length; i++) {\n            if (text.indexOf(STARTS[i]) === 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n\nexport class AdTag {\n    constructor() {\n        // VAST data\n        this.adSystem = '';\n        this.error = '';\n        this.impressions = [];\n        this.linears = [];\n        this.companions = [];\n        this.nonLinears = [];\n        this.icons = [];\n\n        // selection from entire VAST\n        this.linear = null;\n        this.mediaFile = null;\n\n        // events\n        this.eventsLinear = {};  // merged from all linears\n        this.eventsNonLinear = {};\n    }\n\n    getSupportedNonLinear() {\n        for (let i = 0; i < this.nonLinears.length; i++) {\n            if (this.nonLinears[i].isSupported()) {\n                return this.nonLinears[i];\n            }\n        }\n        return null;\n    }\n\n    hasIcons() {\n        return this.icons && this.icons.length > 0;\n    }\n\n    getIconsForTime(seconds) {\n        if (!this.hasIcons()) {\n            return [];\n        }\n\n        // filter by time\n        const byTime = this.icons.filter((icon) => icon.isValidForTime(seconds));\n\n        // filter by 'program' - take one by each program, closest to actual video\n        const byProgram = {};\n        byTime.forEach((icon) => {\n            byProgram[icon.program] = icon;\n        });\n\n        const result = [];\n        for (let prop in byProgram) {\n            result.push(byProgram[prop]);\n        }\n\n        return result;\n    }\n\n    hasProgressEvents() {\n        const events = this.eventsLinear[VAST_EVENTS.PROGRESS];\n        return events && events.length > 0;\n    }\n\n    mergeLinearEvents() {\n        this.linears.forEach((linear) => {\n            Object.keys(linear.events).forEach((event) => {\n                if (!this.eventsLinear[event]) {\n                    this.eventsLinear[event] = [];\n                }\n                [].push.apply(this.eventsLinear[event], linear.events[event]);\n            });\n        });\n    }\n\n    selectMediaFile(ua, screenSize) {\n        // collect all mediafiles in one array\n        const mediaFiles = flatten(pick(this.linears, 'mediaFiles'));\n\n        // if we don't find any mediafiles - just exit\n        if (mediaFiles.length === 0) {\n            return;\n        }\n\n        // select appropriate mediafile by format, resolution and bitrate\n        const mediaFile = MediaFile.pickAppropriate(mediaFiles, ua, screenSize);\n\n        // select linear that has selected mediaFile\n        const linears = this.linears.filter((item) => item.mediaFiles.indexOf(mediaFile) >= 0);\n        if (linears && linears.length > 0) {\n            this.linear = linears[0];\n        }\n\n        // copy selected mediafile data, so we can edit it\n        this.mediaFile = assign(new MediaFile(), mediaFile);\n        if (this.mediaFile.url && this.linear && this.linear.parameters) {\n            this.mediaFile.url += '?' + this.linear.parameters;\n        }\n    }\n\n    getVideoClickTrackings() {\n        return this.linears ? flatten(pick(this.linears, 'clickTrackings')) : [];\n    }\n\n    getVastType() {\n        if (this.mediaFile) {\n            return this.mediaFile.isVPAID() ? VAST_TYPE.VPAID : VAST_TYPE.INLINE;\n        }\n        return VAST_TYPE.WRAPPER;\n    }\n\n    get videoClickThrough() {\n        return this.linear ? this.linear.clickThrough : '';\n    }\n\n    get adParameters() {\n        return this.linear ? this.linear.parameters : '';\n    }\n\n    get apiFramework() {\n        return this.mediaFile ? this.mediaFile.apiFramework : '';\n    }\n}\n\nexport class Linear {\n    constructor() {\n        this.duration = 0;\n        this.skipOffset = 0;\n        this.parameters = null;\n        this.events = {};\n        this.mediaFiles = [];\n        this.clickThrough = '';\n        this.clickTrackings = [];\n        this.clickCustoms = [];\n    }\n}\n\nexport class MediaFile {\n    constructor() {\n        this.delivery = '';\n        this.type = '';\n        this.width = 0;\n        this.height = 0;\n        this.codec = '';\n        this.id = '';\n        this.bitrate = 0;\n        this.scalable = true;\n        this.maintainAspectRatio = true;\n        this.url = '';\n        this.apiFramework = '';\n    }\n\n    isVPAID() {\n        return this.type === MIME.JS || this.type === MIME.FLASH;\n    }\n\n    static pickAppropriate(mediaFiles, ua, { width, height }) {\n        // filter out VPAID files\n        let vpaidFiles = mediaFiles.filter((item) => item.isVPAID());\n\n        // try to look for VPAID\n        if (vpaidFiles.length > 0) {\n            // ios only supports JS VPAID\n            if (ua.isIOS) {\n                vpaidFiles = vpaidFiles.filter((item) => item.type === MIME.JS);\n            }\n\n            // try to pick media with largest dimensions\n            const largestMediaFile = vpaidFiles.reduce(pickLargest, null);\n            if (largestMediaFile) {\n                return largestMediaFile;\n            }\n\n            // try to pick media with smallest dimensions\n            const smallestMediaFile = vpaidFiles.reduce(pickSmallest, null);\n            if (smallestMediaFile) {\n                return smallestMediaFile;\n            }\n        }\n\n        // pick only media files with supported format\n        const supportedMediaFiles = mediaFiles.filter((item) => ua.isSupportedVideoFormat(item.type));\n\n        // look for largest media file of supported formats\n        const largestMediaFile = supportedMediaFiles.reduce(pickLargest, null);\n        if (largestMediaFile) {\n            return largestMediaFile;\n        }\n\n        // if we couldn't find appropriate media file by size, then pick smallest available\n        return supportedMediaFiles.reduce(pickSmallest, null);\n\n        function pickLargest(largest, item) {\n            // skip files that larger than screen or over bitrate limit\n            if (item.width > width ||\n                item.height > height ||\n                item.bitrate > ua.bitrateLimit) {\n                return largest;\n            }\n\n            if (!largest) {\n                return item;\n            }\n\n            // pick largest media ...\n            if (item.width > largest.width || item.height > largest.height) {\n                return item;\n            }\n\n            // ... or media with the biggest bitrate\n            if (item.width === largest.width && item.height === largest.height && item.bitrate > largest.bitrate) {\n                return item;\n            }\n\n            return largest;\n        }\n\n        function pickSmallest(smallest, item) {\n            if (!smallest) {\n                return item;\n            }\n\n            // pick smallest by width media\n            if (item.width < smallest.width) {\n                return item;\n            }\n\n            return smallest;\n        }\n    }\n}\n\nexport function Companion() {\n    this.width = 0;\n    this.height = 0;\n    this.staticResource = null;\n    this.htmlResource = null;\n    this.iframeResource = null;\n    this.clickThrough = null;\n    this.events = {};\n}\n\nexport class NonLinear {\n    constructor() {\n        this.type = null;\n        this.width = 0;\n        this.height = 0;\n        this.staticResource = null;\n        this.htmlResource = null;\n        this.iframeResource = null;\n        this.clickThrough = null;\n        this.clickTracking = null;\n    }\n\n    isSupported() {\n        return NonLinear.isSupported(this);\n    }\n\n    static isSupported(nonLinear) {\n        if (!nonLinear.staticResource) {\n            return false;\n        }\n        return nonLinear.type && ('' + nonLinear.type.indexOf('image')) >= 0;\n    }\n}\n\nexport class Icon {\n    constructor() {\n        this.index = 0;\n        // required\n        this.program = '';\n        this.width = 0;\n        this.height = 0;\n        this.xPosition = 0;\n        this.yPosition = 0;\n        // resource\n        this.staticResource = '';\n        this.staticResourceType = '';\n        this.htmlResource = '';\n        this.iframeResource = '';\n        // optional\n        this.apiFramework = '';\n        this.offset = 0;\n        this.duration = 0;\n\n        this.clickThrough = '';\n        this.viewTracking = [];\n        this.clickTracking = [];\n    }\n\n    isValidForTime(seconds) {\n        return this.offset <= seconds && (this.offset + this.duration) >= seconds;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/parser/data.js","const HISTORY_COUNT = 32;\r\n\r\nexport const STAGES = {\r\n    BEGIN: 'begin',\r\n    MAIN_VIDEO: 'mainvideo',\r\n    PRE_ROLL: 'preroll',\r\n    MID_ROLL: 'midroll',\r\n    POST_ROLL: 'postroll',\r\n    END: 'end'\r\n};\r\n\r\nexport class Stage {\r\n    constructor() {\r\n        // start with BEGIN stage\r\n        this._stages = [\r\n            STAGES.BEGIN\r\n        ];\r\n    }\r\n\r\n    get current() {\r\n        return this._stages && this._stages.slice(-1)[0] || STAGES.BEGIN;\r\n    }\r\n\r\n    get previous() {\r\n        return this._stages && this._stages.slice(-2, -1)[0] || STAGES.BEGIN;\r\n    }\r\n\r\n    next(stage) {\r\n        // do not change anything, if stage is the same as current\r\n        if (this.current === stage) {\r\n            return;\r\n        }\r\n\r\n        // add current stage to stage history\r\n        this._stages.push(stage);\r\n        // reduce 'stages' count to limit\r\n        this._stages = this._stages.slice(-1 * HISTORY_COUNT);\r\n    }\r\n\r\n    isBegin() {\r\n        return this.current === STAGES.BEGIN;\r\n    }\r\n\r\n    isPreRoll() {\r\n        return this.current === STAGES.PRE_ROLL;\r\n    }\r\n\r\n    isMidRoll() {\r\n        return this.current === STAGES.MID_ROLL;\r\n    }\r\n\r\n    isPostRoll() {\r\n        return this.current === STAGES.POST_ROLL;\r\n    }\r\n\r\n    isVideo() {\r\n        return this.current === STAGES.MAIN_VIDEO;\r\n    }\r\n\r\n    isEnd() {\r\n        return this.current === STAGES.END;\r\n    }\r\n\r\n    isAd() {\r\n        return this.isPreRoll() || this.isMidRoll() || this.isPostRoll();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/stage.js","/**\r\n * Slightly edited polyfill from MDN\r\n */\r\nexport function assign(target, varArgs) { // .length of function is 2\r\n    if (target == null) { // TypeError if undefined or null\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n\r\n    const to = Object(target);\r\n    for (let index = 1; index < arguments.length; index++) {\r\n        const nextSource = arguments[index];\r\n\r\n        if (nextSource != null) { // Skip over if undefined or null\r\n            for (let nextKey in nextSource) {\r\n                // Avoid bugs when hasOwnProperty is shadowed\r\n                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                    to[nextKey] = nextSource[nextKey];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return to;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/alfa-common/lib/polyfills/assign.js","export function uniq(array) {\r\n    if (isInvalidOrEmpty(array)) {\r\n        return [];\r\n    }\r\n\r\n    const result = [];\r\n    for (let i = 0; i < array.length; i++) {\r\n        const elem = array[i];\r\n        if (result.indexOf(elem) === -1) {\r\n            result.push(elem);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function pick(array, propName) {\r\n    if (isInvalidOrEmpty(array)) {\r\n        return [];\r\n    }\r\n\r\n    return array.map((item) => item[propName]);\r\n}\r\n\r\nexport function flatten(array) {\r\n    if (isInvalidOrEmpty(array)) {\r\n        return [];\r\n    }\r\n\r\n    return array.reduce((acc, items) => acc.concat(items), []);\r\n}\r\n\r\nfunction isInvalidOrEmpty(array) {\r\n    return !Array.isArray(array) || !array.length;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/alfa-common/lib/utils/array.js","/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>\nis released under the MIT License <http://www.opensource.org/licenses/mit-license.php>\n*/\n\n/* global ActiveXObject: false */\n\nlet UNDEF = 'undefined',\n    OBJECT = 'object',\n    SHOCKWAVE_FLASH = 'Shockwave Flash',\n    SHOCKWAVE_FLASH_AX = 'ShockwaveFlash.ShockwaveFlash',\n    FLASH_MIME_TYPE = 'application/x-shockwave-flash',\n    EXPRESS_INSTALL_ID = 'SWFObjectExprInst',\n    ON_READY_STATE_CHANGE = 'onreadystatechange',\n\n    win = window,\n    doc = document,\n    nav = navigator,\n\n    plugin = false,\n    domLoadFnArr = [],\n    regObjArr = [],\n    objIdArr = [],\n    listenersArr = [],\n    storedFbContent,\n    storedFbContentId,\n    storedCallbackFn,\n    storedCallbackObj,\n    isDomLoaded = false,\n    isExpressInstallActive = false,\n    dynamicStylesheet,\n    dynamicStylesheetMedia,\n    autoHideShow = true,\n    encodeURIEnabled = false;\n\n/* Centralized function for browser feature detection\n    - User agent string detection is only used when no good alternative is possible\n    - Is executed directly for optimal performance\n*/\nlet ua = function () {\n    let w3cdom = typeof doc.getElementById !== UNDEF && typeof doc.getElementsByTagName !== UNDEF && typeof doc.createElement !== UNDEF,\n        u = nav.userAgent.toLowerCase(),\n        p = nav.platform.toLowerCase(),\n        windows = p ? /win/.test(p) : /win/.test(u),\n        mac = p ? /mac/.test(p) : /mac/.test(u),\n        webkit = /webkit/.test(u) ? parseFloat(u.replace(/^.*webkit\\/(\\d+(\\.\\d+)?).*$/, '$1')) : false, // returns either the webkit version or false if not webkit\n        ie = nav.appName === 'Microsoft Internet Explorer',\n        playerVersion = [0, 0, 0],\n        d = null;\n    if (typeof nav.plugins !== UNDEF && typeof nav.plugins[SHOCKWAVE_FLASH] === OBJECT) {\n        d = nav.plugins[SHOCKWAVE_FLASH].description;\n        // nav.mimeTypes[\"application/x-shockwave-flash\"].enabledPlugin indicates whether plug-ins are enabled or disabled in Safari 3+\n        if (d && (typeof nav.mimeTypes !== UNDEF && nav.mimeTypes[FLASH_MIME_TYPE] && nav.mimeTypes[FLASH_MIME_TYPE].enabledPlugin)) {\n            plugin = true;\n            ie = false; // cascaded feature detection for Internet Explorer\n            d = d.replace(/^.*\\s+(\\S+\\s+\\S+$)/, '$1');\n            playerVersion[0] = toInt(d.replace(/^(.*)\\..*$/, '$1'));\n            playerVersion[1] = toInt(d.replace(/^.*\\.(.*)\\s.*$/, '$1'));\n            playerVersion[2] = /[a-zA-Z]/.test(d) ? toInt(d.replace(/^.*[a-zA-Z]+(.*)$/, '$1')) : 0;\n        }\n    }\n    else if (typeof win.ActiveXObject !== UNDEF) {\n        try {\n            let a = new ActiveXObject(SHOCKWAVE_FLASH_AX);\n            if (a) { // a will return null when ActiveX is disabled\n                d = a.GetVariable('$version');\n                if (d) {\n                    ie = true; // cascaded feature detection for Internet Explorer\n                    d = d.split(' ')[1].split(',');\n                    playerVersion = [toInt(d[0]), toInt(d[1]), toInt(d[2])];\n                }\n            }\n        }\n        catch (e) {}\n    }\n    return { w3: w3cdom, pv: playerVersion, wk: webkit, ie: ie, win: windows, mac: mac };\n}();\n\n/* Cross-browser onDomLoad\n    - Will fire an event as soon as the DOM of a web page is loaded\n    - Internet Explorer workaround based on Diego Perini's solution: http://javascript.nwbox.com/IEContentLoaded/\n    - Regular onload serves as fallback\n*/\nconst onDomLoad = function () {\n    if (!ua.w3) { return; }\n    if ((typeof doc.readyState !== UNDEF && (doc.readyState === 'complete' || doc.readyState === 'interactive')) || (typeof doc.readyState === UNDEF && (doc.getElementsByTagName('body')[0] || doc.body))) { // function is fired after onload, e.g. when script is inserted dynamically\n        callDomLoadFunctions();\n    }\n    if (!isDomLoaded) {\n        if (typeof doc.addEventListener !== UNDEF) {\n            doc.addEventListener('DOMContentLoaded', callDomLoadFunctions, false);\n        }\n        if (ua.ie) {\n            doc.attachEvent(ON_READY_STATE_CHANGE, function detach() {\n                if (doc.readyState === 'complete') {\n                    doc.detachEvent(ON_READY_STATE_CHANGE, detach);\n                    callDomLoadFunctions();\n                }\n            });\n            if (win === top) { // if not inside an iframe\n                (function checkDomLoadedIE() {\n                    if (isDomLoaded) { return; }\n                    try {\n                        doc.documentElement.doScroll('left');\n                    }\n                    catch (e) {\n                        setTimeout(checkDomLoadedIE, 0);\n                        return;\n                    }\n                    callDomLoadFunctions();\n                }());\n            }\n        }\n        if (ua.wk) {\n            (function checkDomLoadedWK() {\n                if (isDomLoaded) { return; }\n                if (!/loaded|complete/.test(doc.readyState)) {\n                    setTimeout(checkDomLoadedWK, 0);\n                    return;\n                }\n                callDomLoadFunctions();\n            }());\n        }\n    }\n}();\n\nfunction callDomLoadFunctions() {\n    if (isDomLoaded || !document.getElementsByTagName('body')[0]) { return; }\n    try { // test if we can really add/remove elements to/from the DOM; we don't want to fire it too early\n        let t, span = createElement('span');\n        span.style.display = 'none'; //hide the span in case someone has styled spans via CSS\n        t = doc.getElementsByTagName('body')[0].appendChild(span);\n        t.parentNode.removeChild(t);\n        t = null; //clear the variables\n        span = null;\n    }\n    catch (e) { return; }\n    isDomLoaded = true;\n    let dl = domLoadFnArr.length;\n    for (let i = 0; i < dl; i++) {\n        domLoadFnArr[i]();\n    }\n}\n\nfunction addDomLoadEvent(fn) {\n    if (isDomLoaded) {\n        fn();\n    }\n    else {\n        domLoadFnArr[domLoadFnArr.length] = fn; // Array.push() is only available in IE5.5+\n    }\n}\n\n/* Cross-browser onload\n    - Based on James Edwards' solution: http://brothercake.com/site/resources/scripts/onload/\n    - Will fire an event as soon as a web page including all of its assets are loaded\n */\nfunction addLoadEvent(fn) {\n    if (typeof win.addEventListener !== UNDEF) {\n        win.addEventListener('load', fn, false);\n    }\n    else if (typeof doc.addEventListener !== UNDEF) {\n        doc.addEventListener('load', fn, false);\n    }\n    else if (typeof win.attachEvent !== UNDEF) {\n        addListener(win, 'onload', fn);\n    }\n    else if (typeof win.onload === 'function') {\n        let fnOld = win.onload;\n        win.onload = function () {\n            fnOld();\n            fn();\n        };\n    }\n    else {\n        win.onload = fn;\n    }\n}\n\n/* Detect the Flash Player version for non-Internet Explorer browsers\n    - Detecting the plug-in version via the object element is more precise than using the plugins collection item's description:\n      a. Both release and build numbers can be detected\n      b. Avoid wrong descriptions by corrupt installers provided by Adobe\n      c. Avoid wrong descriptions by multiple Flash Player entries in the plugin Array, caused by incorrect browser imports\n    - Disadvantage of this method is that it depends on the availability of the DOM, while the plugins collection is immediately available\n*/\nfunction testPlayerVersion() {\n    // monkey patch for new versions of chrome - we have FP v100, RIP\n    if (isChrome()) {\n        ua.pv = [100, 0, 0];\n        matchVersions();\n        return;\n    }\n\n    let b = doc.getElementsByTagName('body')[0];\n    let o = createElement(OBJECT);\n    o.setAttribute('style', 'visibility: hidden;');\n    o.setAttribute('type', FLASH_MIME_TYPE);\n    let t = b.appendChild(o);\n    if (t) {\n        let counter = 0;\n        (function checkGetVariable() {\n            try {\n                if (typeof t.GetVariable !== UNDEF) {\n                    try {\n                        let d = t.GetVariable('$version');\n                        if (d) {\n                            d = d.split(' ')[1].split(',');\n                            ua.pv = [toInt(d[0]), toInt(d[1]), toInt(d[2])];\n                        }\n                    } catch (e) {\n                        // t.GetVariable(\"$version\") is known to fail in Flash Player 8 on Firefox\n                        // If this error is encountered, assume FP8 or lower. Time to upgrade.\n                        ua.pv = [8, 0, 0];\n                    }\n                }\n                else if (counter < 10) {\n                    counter++;\n                    setTimeout(checkGetVariable, 10);\n                    return;\n                }\n            } catch(e) {}\n            b.removeChild(o);\n            t = null;\n            matchVersions();\n        }());\n    } else {\n        matchVersions();\n    }\n}\n\n/* Perform Flash Player and SWF version matching; static publishing only\n*/\nfunction matchVersions() {\n    let rl = regObjArr.length;\n    if (rl > 0) {\n        for (let i = 0; i < rl; i++) { // for each registered object element\n            let id = regObjArr[i].id;\n            let cb = regObjArr[i].callbackFn;\n            let cbObj = { success: false, id: id };\n            if (ua.pv[0] > 0) {\n                let obj = getElementById(id);\n                if (obj) {\n                    if (hasPlayerVersion(regObjArr[i].swfVersion) && !(ua.wk && ua.wk < 312)) { // Flash Player version >= published SWF version: Houston, we have a match!\n                        setVisibility(id, true);\n                        if (cb) {\n                            cbObj.success = true;\n                            cbObj.ref = getObjectById(id);\n                            cbObj.id = id;\n                            cb(cbObj);\n                        }\n                    }\n                    else if (regObjArr[i].expressInstall && canExpressInstall()) { // show the Adobe Express Install dialog if set by the web page author and if supported\n                        let att = {};\n                        att.data = regObjArr[i].expressInstall;\n                        att.width = obj.getAttribute('width') || '0';\n                        att.height = obj.getAttribute('height') || '0';\n                        if (obj.getAttribute('class')) { att.styleclass = obj.getAttribute('class'); }\n                        if (obj.getAttribute('align')) { att.align = obj.getAttribute('align'); }\n                        // parse HTML object param element's name-value pairs\n                        let par = {};\n                        let p = obj.getElementsByTagName('param');\n                        let pl = p.length;\n                        for (let j = 0; j < pl; j++) {\n                            if (p[j].getAttribute('name').toLowerCase() !== 'movie') {\n                                par[p[j].getAttribute('name')] = p[j].getAttribute('value');\n                            }\n                        }\n                        showExpressInstall(att, par, id, cb);\n                    }\n                    else { // Flash Player and SWF version mismatch or an older Webkit engine that ignores the HTML object element's nested param elements: display fallback content instead of SWF\n                        displayFbContent(obj);\n                        if (cb) { cb(cbObj); }\n                    }\n                }\n            }\n            else { // if no Flash Player is installed or the fp version cannot be detected we let the HTML object element do its job (either show a SWF or fallback content)\n                setVisibility(id, true);\n                if (cb) {\n                    let o = getObjectById(id); // test whether there is an HTML object element or not\n                    if (o && typeof o.SetVariable !== UNDEF) {\n                        cbObj.success = true;\n                        cbObj.ref = o;\n                        cbObj.id = o.id;\n                    }\n                    cb(cbObj);\n                }\n            }\n        }\n    }\n}\n\n/* Main function\n    - Will preferably execute onDomLoad, otherwise onload (as a fallback)\n*/\ndomLoadFnArr[0] = function () {\n    if (plugin) {\n        testPlayerVersion();\n    }\n    else {\n        matchVersions();\n    }\n};\n\nfunction getObjectById(objectIdStr) {\n    let r = null,\n        o = getElementById(objectIdStr);\n\n    if (o && o.nodeName.toUpperCase() === 'OBJECT') {\n        //If targeted object is valid Flash file\n        if (typeof o.SetVariable !== UNDEF) {\n            r = o;\n        } else {\n            //If SetVariable is not working on targeted object but a nested object is\n            //available, assume classic nested object markup. Return nested object.\n\n            //If SetVariable is not working on targeted object and there is no nested object,\n            //return the original object anyway. This is probably new simplified markup.\n\n            r = o.getElementsByTagName(OBJECT)[0] || o;\n        }\n    }\n\n    return r;\n}\n\n/* Requirements for Adobe Express Install\n    - only one instance can be active at a time\n    - fp 6.0.65 or higher\n    - Win/Mac OS only\n    - no Webkit engines older than version 312\n*/\nfunction canExpressInstall() {\n    return !isExpressInstallActive && hasPlayerVersion('6.0.65') && (ua.win || ua.mac) && !(ua.wk && ua.wk < 312);\n}\n\n/* Show the Adobe Express Install dialog\n    - Reference: http://www.adobe.com/cfusion/knowledgebase/index.cfm?id=6a253b75\n*/\nfunction showExpressInstall(att, par, replaceElemIdStr, callbackFn) {\n\n    let obj = getElementById(replaceElemIdStr);\n\n    //Ensure that replaceElemIdStr is really a string and not an element\n    replaceElemIdStr = getId(replaceElemIdStr);\n\n    isExpressInstallActive = true;\n    storedCallbackFn = callbackFn || null;\n    storedCallbackObj = { success: false, id: replaceElemIdStr };\n\n    if (obj) {\n        if (obj.nodeName.toUpperCase() === 'OBJECT') { // static publishing\n            storedFbContent = abstractFbContent(obj);\n            storedFbContentId = null;\n        }\n        else { // dynamic publishing\n            storedFbContent = obj;\n            storedFbContentId = replaceElemIdStr;\n        }\n        att.id = EXPRESS_INSTALL_ID;\n        if (typeof att.width === UNDEF || (!/%$/.test(att.width) && toInt(att.width) < 310)) { att.width = '310'; }\n        if (typeof att.height === UNDEF || (!/%$/.test(att.height) && toInt(att.height) < 137)) { att.height = '137'; }\n        let pt = ua.ie ? 'ActiveX' : 'PlugIn',\n            fv = 'MMredirectURL=' + encodeURIComponent(win.location.toString().replace(/&/g, '%26')) + '&MMplayerType=' + pt + '&MMdoctitle=' + encodeURIComponent(doc.title.slice(0, 47) + ' - Flash Player Installation');\n        if (typeof par.flashvars !== UNDEF) {\n            par.flashvars += '&' + fv;\n        }\n        else {\n            par.flashvars = fv;\n        }\n        // IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\n        // because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn't work\n        if (ua.ie && obj.readyState != 4) {\n            let newObj = createElement('div');\n            replaceElemIdStr += 'SWFObjectNew';\n            newObj.setAttribute('id', replaceElemIdStr);\n            obj.parentNode.insertBefore(newObj, obj); // insert placeholder div that will be replaced by the object element that loads expressinstall.swf\n            obj.style.display = 'none';\n            removeSWF(obj); //removeSWF accepts elements now\n        }\n        createSWF(att, par, replaceElemIdStr);\n    }\n}\n\n/* Functions to abstract and display fallback content\n*/\nfunction displayFbContent(obj) {\n    if (ua.ie && obj.readyState != 4) {\n        // IE only: when a SWF is loading (AND: not available in cache) wait for the readyState of the object element to become 4 before removing it,\n        // because you cannot properly cancel a loading SWF file without breaking browser load references, also obj.onreadystatechange doesn't work\n        obj.style.display = 'none';\n        let el = createElement('div');\n        obj.parentNode.insertBefore(el, obj); // insert placeholder div that will be replaced by the fallback content\n        el.parentNode.replaceChild(abstractFbContent(obj), el);\n        removeSWF(obj); //removeSWF accepts elements now\n    }\n    else {\n        obj.parentNode.replaceChild(abstractFbContent(obj), obj);\n    }\n}\n\nfunction abstractFbContent(obj) {\n    let ac = createElement('div');\n    if (ua.win && ua.ie) {\n        ac.innerHTML = obj.innerHTML;\n    }\n    else {\n        let nestedObj = obj.getElementsByTagName(OBJECT)[0];\n        if (nestedObj) {\n            let c = nestedObj.childNodes;\n            if (c) {\n                let cl = c.length;\n                for (let i = 0; i < cl; i++) {\n                    if (!(c[i].nodeType == 1 && c[i].nodeName === 'PARAM') && !(c[i].nodeType == 8)) {\n                        ac.appendChild(c[i].cloneNode(true));\n                    }\n                }\n            }\n        }\n    }\n    return ac;\n}\n\nfunction createIeObject(url, paramStr) {\n    let div = createElement('div');\n    div.innerHTML = '<object classid=\\'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\\'><param name=\\'movie\\' value=\\'' + url + '\\'>' + paramStr + '</object>';\n    return div.firstChild;\n}\n\n/* Cross-browser dynamic SWF creation\n*/\nfunction createSWF(attObj, parObj, id) {\n    let r, el = getElementById(id);\n    id = getId(id); // ensure id is truly an ID and not an element\n\n    if (ua.wk && ua.wk < 312) { return r; }\n\n    if (el) {\n        let o = (ua.ie) ? createElement('div') : createElement(OBJECT),\n            attr,\n            attrLower,\n            param;\n\n        if (typeof attObj.id === UNDEF) { // if no 'id' is defined for the object element, it will inherit the 'id' from the fallback content\n            attObj.id = id;\n        }\n\n        //Add params\n        for (param in parObj) {\n            //filter out prototype additions from other potential libraries and IE specific param element\n            if (parObj.hasOwnProperty(param) && param.toLowerCase() !== 'movie') {\n                createObjParam(o, param, parObj[param]);\n            }\n        }\n\n        //Create IE object, complete with param nodes\n        if (ua.ie) { o = createIeObject(attObj.data, o.innerHTML); }\n\n        //Add attributes to object\n        for (attr in attObj) {\n            if (attObj.hasOwnProperty(attr)) { // filter out prototype additions from other potential libraries\n                attrLower = attr.toLowerCase();\n\n                // 'class' is an ECMA4 reserved keyword\n                if (attrLower === 'styleclass') {\n                    o.setAttribute('class', attObj[attr]);\n                } else if (attrLower !== 'classid' && attrLower !== 'data') {\n                    o.setAttribute(attr, attObj[attr]);\n                }\n            }\n        }\n\n        if (ua.ie) {\n            objIdArr[objIdArr.length] = attObj.id; // stored to fix object 'leaks' on unload (dynamic publishing only)\n        } else {\n            o.setAttribute('type', FLASH_MIME_TYPE);\n            o.setAttribute('data', attObj.data);\n        }\n\n        el.parentNode.replaceChild(o, el);\n        r = o;\n    }\n\n    return r;\n}\n\nfunction createObjParam(el, pName, pValue) {\n    let p = createElement('param');\n    p.setAttribute('name', pName);\n    p.setAttribute('value', pValue);\n    el.appendChild(p);\n}\n\n/* Cross-browser SWF removal\n    - Especially needed to safely and completely remove a SWF in Internet Explorer\n*/\nfunction removeSWF(id) {\n    let obj = getElementById(id);\n    if (obj && obj.nodeName.toUpperCase() === 'OBJECT') {\n        if (ua.ie) {\n            obj.style.display = 'none';\n            (function removeSWFInIE() {\n                if (obj.readyState == 4) {\n                    //This step prevents memory leaks in Internet Explorer\n                    for (let i in obj) {\n                        if (typeof obj[i] === 'function') {\n                            obj[i] = null;\n                        }\n                    }\n                    obj.parentNode.removeChild(obj);\n                } else {\n                    setTimeout(removeSWFInIE, 10);\n                }\n            }());\n        }\n        else {\n            obj.parentNode.removeChild(obj);\n        }\n    }\n}\n\nfunction isElement(id) {\n    return (id && id.nodeType && id.nodeType === 1);\n}\n\nfunction getId(thing) {\n    return (isElement(thing)) ? thing.id : thing;\n}\n\n/* Functions to optimize JavaScript compression\n*/\nfunction getElementById(id) {\n\n    //Allow users to pass an element OR an element's ID\n    if (isElement(id)) { return id; }\n\n    let el = null;\n    try {\n        el = doc.getElementById(id);\n    }\n    catch (e) {}\n    return el;\n}\n\nfunction createElement(el) {\n    return doc.createElement(el);\n}\n\n//To aid compression; replaces 14 instances of pareseInt with radix\nfunction toInt(str) {\n    return parseInt(str, 10);\n}\n\n/* Updated attachEvent function for Internet Explorer\n    - Stores attachEvent information in an Array, so on unload the detachEvent functions can be called to avoid memory leaks\n*/\nfunction addListener(target, eventType, fn) {\n    target.attachEvent(eventType, fn);\n    listenersArr[listenersArr.length] = [target, eventType, fn];\n}\n\n/* Flash Player and SWF content version matching\n*/\nfunction hasPlayerVersion(rv) {\n    rv += ''; //Coerce number to string, if needed.\n    let pv = ua.pv, v = rv.split('.');\n    v[0] = toInt(v[0]);\n    v[1] = toInt(v[1]) || 0; // supports short notation, e.g. \"9\" instead of \"9.0.0\"\n    v[2] = toInt(v[2]) || 0;\n    return (pv[0] > v[0] || (pv[0] == v[0] && pv[1] > v[1]) || (pv[0] == v[0] && pv[1] == v[1] && pv[2] >= v[2])) ? true : false;\n}\n\n/* Cross-browser dynamic CSS creation\n    - Based on Bobby van der Sluis' solution: http://www.bobbyvandersluis.com/articles/dynamicCSS.php\n*/\nfunction createCSS(sel, decl, media, newStyle) {\n    let h = doc.getElementsByTagName('head')[0];\n    if (!h) { return; } // to also support badly authored HTML pages that lack a head element\n    let m = (typeof media === 'string') ? media : 'screen';\n    if (newStyle) {\n        dynamicStylesheet = null;\n        dynamicStylesheetMedia = null;\n    }\n    if (!dynamicStylesheet || dynamicStylesheetMedia != m) {\n        // create dynamic stylesheet + get a global reference to it\n        let s = createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.setAttribute('media', m);\n        dynamicStylesheet = h.appendChild(s);\n        if (ua.ie && typeof doc.styleSheets !== UNDEF && doc.styleSheets.length > 0) {\n            dynamicStylesheet = doc.styleSheets[doc.styleSheets.length - 1];\n        }\n        dynamicStylesheetMedia = m;\n    }\n    // add style rule\n    if (dynamicStylesheet) {\n        if (typeof dynamicStylesheet.addRule !== UNDEF) {\n            dynamicStylesheet.addRule(sel, decl);\n        } else if (typeof doc.createTextNode !== UNDEF) {\n            dynamicStylesheet.appendChild(doc.createTextNode(sel + ' {' + decl + '}'));\n        }\n    }\n}\n\nfunction setVisibility(id, isVisible) {\n    if (!autoHideShow) { return; }\n    let v = isVisible ? 'visible' : 'hidden',\n        el = getElementById(id);\n    if (isDomLoaded && el) {\n        el.style.visibility = v;\n    } else if (typeof id === 'string') {\n        createCSS('#' + id, 'visibility:' + v);\n    }\n}\n\n/* Filter to avoid XSS attacks\n*/\nfunction urlEncodeIfNecessary(s) {\n    let regex = /[\\\\\\\"<>\\.;]/;\n    let hasBadChars = regex.exec(s) !== null;\n    return hasBadChars && typeof encodeURIComponent !== UNDEF ? encodeURIComponent(s) : s;\n}\n\n/* Release memory to avoid memory leaks caused by closures, fix hanging audio/video threads and force open sockets/NetConnections to disconnect (Internet Explorer only)\n*/\nlet cleanup = function () {\n    if (ua.ie) {\n        window.attachEvent('onunload', function () {\n            // remove listeners to avoid memory leaks\n            let ll = listenersArr.length;\n            for (let i = 0; i < ll; i++) {\n                listenersArr[i][0].detachEvent(listenersArr[i][1], listenersArr[i][2]);\n            }\n            // cleanup dynamically embedded objects to fix audio/video threads and force open sockets and NetConnections to disconnect\n            let il = objIdArr.length;\n            for (let j = 0; j < il; j++) {\n                removeSWF(objIdArr[j]);\n            }\n            // cleanup library's main closures to avoid memory leaks\n            for (let k in ua) {\n                ua[k] = null;\n            }\n            ua = null;\n            for (let l in swfobject) {\n                swfobject[l] = null;\n            }\n            swfobject = null;\n        });\n    }\n}();\n\nfunction isChrome() {\n    let isChromium = window.chrome;\n    let winNav = window.navigator;\n    let vendorName = winNav.vendor;\n    let isOpera = typeof window.opr !== 'undefined';\n    let isIEedge = winNav.userAgent.indexOf('Edge') > -1;\n    let isIOSChrome = winNav.userAgent.match('CriOS');\n\n    if (isIOSChrome) {\n        return true;\n    } else return isChromium !== null &&\n        typeof isChromium !== 'undefined' &&\n        vendorName === 'Google Inc.' &&\n        isOpera === false &&\n        isIEedge === false;\n}\n\nlet swfobject = module.exports = {\n    /* Public API\n        - Reference: http://code.google.com/p/swfobject/wiki/documentation\n    */\n    registerObject: function (objectIdStr, swfVersionStr, xiSwfUrlStr, callbackFn) {\n        if (ua.w3 && objectIdStr && swfVersionStr) {\n            let regObj = {};\n            regObj.id = objectIdStr;\n            regObj.swfVersion = swfVersionStr;\n            regObj.expressInstall = xiSwfUrlStr;\n            regObj.callbackFn = callbackFn;\n            regObjArr[regObjArr.length] = regObj;\n            setVisibility(objectIdStr, false);\n        }\n        else if (callbackFn) {\n            callbackFn({ success: false, id: objectIdStr });\n        }\n    },\n\n    getObjectById: function (objectIdStr) {\n        if (ua.w3) {\n            return getObjectById(objectIdStr);\n        }\n    },\n\n    embedSWF: function (swfUrlStr, replaceElemIdStr, widthStr, heightStr, swfVersionStr, xiSwfUrlStr, flashvarsObj, parObj, attObj, callbackFn) {\n\n        let id = getId(replaceElemIdStr),\n            callbackObj = { success: false, id: id };\n\n        if (ua.w3 && !(ua.wk && ua.wk < 312) && swfUrlStr && replaceElemIdStr && widthStr && heightStr && swfVersionStr) {\n            setVisibility(id, false);\n            addDomLoadEvent(function () {\n                widthStr += ''; // auto-convert to string\n                heightStr += '';\n                let att = {};\n                if (attObj && typeof attObj === OBJECT) {\n                    for (let i in attObj) { // copy object to avoid the use of references, because web authors often reuse attObj for multiple SWFs\n                        att[i] = attObj[i];\n                    }\n                }\n                att.data = swfUrlStr;\n                att.width = widthStr;\n                att.height = heightStr;\n                let par = {};\n                if (parObj && typeof parObj === OBJECT) {\n                    for (let j in parObj) { // copy object to avoid the use of references, because web authors often reuse parObj for multiple SWFs\n                        par[j] = parObj[j];\n                    }\n                }\n                if (flashvarsObj && typeof flashvarsObj === OBJECT) {\n                    for (let k in flashvarsObj) { // copy object to avoid the use of references, because web authors often reuse flashvarsObj for multiple SWFs\n                        if (flashvarsObj.hasOwnProperty(k)) {\n\n                            let key = (encodeURIEnabled) ? encodeURIComponent(k) : k,\n                                value = (encodeURIEnabled) ? encodeURIComponent(flashvarsObj[k]) : flashvarsObj[k];\n\n                            if (typeof par.flashvars !== UNDEF) {\n                                par.flashvars += '&' + key + '=' + value;\n                            }\n                            else {\n                                par.flashvars = key + '=' + value;\n                            }\n\n                        }\n                    }\n                }\n                try { // create SWF\n                    let obj = createSWF(att, par, replaceElemIdStr);\n                    if (att.id == id) {\n                        setVisibility(id, true);\n                    }\n                    callbackObj.success = true;\n                    callbackObj.ref = obj;\n                    callbackObj.id = obj.id;\n                } catch (e) { // show fallback content\n                    setVisibility(id, true);\n                }\n                if (callbackFn) { callbackFn(callbackObj); }\n            });\n        }\n        else if (callbackFn) { callbackFn(callbackObj); }\n    },\n\n    switchOffAutoHideShow: function () {\n        autoHideShow = false;\n    },\n\n    enableUriEncoding: function (bool) {\n        encodeURIEnabled = (typeof bool === UNDEF) ? true : bool;\n    },\n\n    ua: ua,\n\n    getFlashPlayerVersion: function () {\n        return { major: ua.pv[0], minor: ua.pv[1], release: ua.pv[2] };\n    },\n\n    hasFlashPlayerVersion: hasPlayerVersion,\n\n    createSWF: function (attObj, parObj, replaceElemIdStr) {\n        if (ua.w3) {\n            return createSWF(attObj, parObj, replaceElemIdStr);\n        }\n        else {\n            return undefined;\n        }\n    },\n\n    showExpressInstall: function (att, par, replaceElemIdStr, callbackFn) {\n        if (ua.w3 && canExpressInstall()) {\n            showExpressInstall(att, par, replaceElemIdStr, callbackFn);\n        }\n    },\n\n    removeSWF: function (objElemIdStr) {\n        if (ua.w3) {\n            removeSWF(objElemIdStr);\n        }\n    },\n\n    createCSS: function (selStr, declStr, mediaStr, newStyleBoolean) {\n        if (ua.w3) {\n            createCSS(selStr, declStr, mediaStr, newStyleBoolean);\n        }\n    },\n\n    addDomLoadEvent: addDomLoadEvent,\n\n    addLoadEvent: addLoadEvent,\n\n    getQueryParamValue: function (param) {\n        let q = doc.location.search || doc.location.hash;\n        if (q) {\n            if (/\\?/.test(q)) { q = q.split('?')[1]; } // strip question mark\n            if (!param) {\n                return urlEncodeIfNecessary(q);\n            }\n            let pairs = q.split('&');\n            for (let i = 0; i < pairs.length; i++) {\n                if (pairs[i].substring(0, pairs[i].indexOf('=')) == param) {\n                    return urlEncodeIfNecessary(pairs[i].substring((pairs[i].indexOf('=') + 1)));\n                }\n            }\n        }\n        return '';\n    },\n\n    // For internal usage only\n    expressInstallCallback: function () {\n        if (isExpressInstallActive) {\n            let obj = getElementById(EXPRESS_INSTALL_ID);\n            if (obj && storedFbContent) {\n                obj.parentNode.replaceChild(storedFbContent, obj);\n                if (storedFbContentId) {\n                    setVisibility(storedFbContentId, true);\n                    if (ua.ie) { storedFbContent.style.display = 'block'; }\n                }\n                if (storedCallbackFn) { storedCallbackFn(storedCallbackObj); }\n            }\n            isExpressInstallActive = false;\n        }\n    },\n\n    version: '2.3'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/swfobject/swfobject/src/swfobject.js","'use strict';\r\n\r\nlet unique = require('./utils').unique;\r\nlet isPositiveInt = require('./utils').isPositiveInt;\r\nlet stringEndsWith = require('./utils').stringEndsWith;\r\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\r\nlet MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\r\nconst registry = require('./jsFlashBridgeRegistry');\r\nconst VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\r\nconst ERROR = 'AdError';\r\n\r\nexport class JSFlashBridge {\r\n    constructor (el, flashURL, flashID, width, height, loadHandShake) {\r\n        this._el = el;\r\n        this._flashID = flashID;\r\n        this._flashURL = flashURL;\r\n        this._width = width;\r\n        this._height = height;\r\n        this._handlers = new MultipleValuesRegistry();\r\n        this._callbacks = new SingleValueRegistry();\r\n        this._uniqueMethodIdentifier = unique(this._flashID);\r\n        this._ready = false;\r\n        this._handShakeHandler = loadHandShake;\r\n\r\n        registry.addInstance(this._flashID, this);\r\n    }\r\n\r\n    on(eventName, callback) {\r\n        this._handlers.add(eventName, callback);\r\n    }\r\n\r\n    off(eventName, callback) {\r\n        return this._handlers.remove(eventName, callback);\r\n    }\r\n\r\n    offEvent(eventName) {\r\n        return this._handlers.removeByKey(eventName);\r\n    }\r\n\r\n    offAll() {\r\n        return this._handlers.removeAll();\r\n    }\r\n\r\n    callFlashMethod(methodName, args = [], callback = undefined) {\r\n        var callbackID = '';\r\n        // if no callback, some methods the return is void so they don't need callback\r\n        if (callback) {\r\n            callbackID = `${this._uniqueMethodIdentifier()}_${methodName}`;\r\n            this._callbacks.add(callbackID, callback);\r\n        }\r\n\r\n\r\n        try {\r\n            //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\r\n            //this code will throw an error\r\n            this._el[methodName]([callbackID].concat(args));\r\n\r\n        } catch (e) {\r\n            if (callback) {\r\n                $asyncCallback.call(this, callbackID, e);\r\n            } else {\r\n\r\n                //if there isn't any callback to return error use error event handler\r\n                this._trigger(ERROR, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    removeCallback(callback) {\r\n        return this._callbacks.removeByValue(callback);\r\n    }\r\n\r\n    removeCallbackByMethodName(suffix) {\r\n        this._callbacks.filterKeys((key) => {\r\n            return stringEndsWith(key, suffix);\r\n        }).forEach((key) => {\r\n            this._callbacks.remove(key);\r\n        });\r\n    }\r\n\r\n    removeAllCallbacks() {\r\n        return this._callbacks.removeAll();\r\n    }\r\n\r\n    _trigger(eventName, event) {\r\n        this._handlers.get(eventName).forEach((callback) => {\r\n            //clickThru has to be sync, if not will be block by the popupblocker\r\n            if (eventName === 'AdClickThru') {\r\n                callback(event);\r\n            } else {\r\n                setTimeout(() => {\r\n                    if (this._handlers.get(eventName).length > 0) {\r\n                        callback(event);\r\n                    }\r\n                }, 0);\r\n            }\r\n        });\r\n    }\r\n\r\n    _callCallback(methodName, callbackID, err, result) {\r\n\r\n        let callback = this._callbacks.get(callbackID);\r\n\r\n        //not all methods callback's are mandatory\r\n        //but if there exist an error, fire the error event\r\n        if (!callback) {\r\n            if (err && callbackID === '') {\r\n                this.trigger(ERROR, err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        $asyncCallback.call(this, callbackID, err, result);\r\n\r\n    }\r\n\r\n    _handShake(err, data) {\r\n        this._ready = true;\r\n        if (this._handShakeHandler) {\r\n            this._handShakeHandler(err, data);\r\n            delete this._handShakeHandler;\r\n        }\r\n    }\r\n\r\n    //methods like properties specific to this implementation of VPAID\r\n    getSize() {\r\n        return {width: this._width, height: this._height};\r\n    }\r\n    setSize(newWidth, newHeight) {\r\n        this._width = isPositiveInt(newWidth, this._width);\r\n        this._height = isPositiveInt(newHeight, this._height);\r\n        this._el.setAttribute('width', this._width);\r\n        this._el.setAttribute('height', this._height);\r\n    }\r\n    getWidth() {\r\n        return this._width;\r\n    }\r\n    setWidth(newWidth) {\r\n        this.setSize(newWidth, this._height);\r\n    }\r\n    getHeight() {\r\n        return this._height;\r\n    }\r\n    setHeight(newHeight) {\r\n        this.setSize(this._width, newHeight);\r\n    }\r\n    getFlashID() {\r\n        return this._flashID;\r\n    }\r\n    getFlashURL() {\r\n        return this._flashURL;\r\n    }\r\n    isReady() {\r\n        return this._ready;\r\n    }\r\n    destroy() {\r\n        this.offAll();\r\n        this.removeAllCallbacks();\r\n        registry.removeInstanceByID(this._flashID);\r\n        if (this._el.parentElement) {\r\n            this._el.parentElement.removeChild(this._el);\r\n        }\r\n    }\r\n}\r\n\r\nfunction $asyncCallback(callbackID, err, result) {\r\n    setTimeout(() => {\r\n        let callback = this._callbacks.get(callbackID);\r\n        if (callback) {\r\n            this._callbacks.remove(callbackID);\r\n            callback(err, result);\r\n        }\r\n    }, 0);\r\n}\r\n\r\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\r\n    writable: false,\r\n    configurable: false,\r\n    value: VPAID_FLASH_HANDLER\r\n});\r\n\r\n/**\r\n * External interface handler\r\n *\r\n * @param {string} flashID identifier of the flash who call this\r\n * @param {string} typeID what type of message is, can be 'event' or 'callback'\r\n * @param {string} typeName if the typeID is a event the typeName will be the eventName, if is a callback the typeID is the methodName that is related this callback\r\n * @param {string} callbackID only applies when the typeID is 'callback', identifier of the callback to call\r\n * @param {object} error error object\r\n * @param {object} data\r\n */\r\nwindow[VPAID_FLASH_HANDLER] = (flashID, typeID, typeName, callbackID, error, data) => {\r\n    let instance = registry.getInstanceByID(flashID);\r\n    if (!instance) return;\r\n    if (typeName === 'handShake') {\r\n        instance._handShake(error, data);\r\n    } else {\r\n        if (typeID !== 'event') {\r\n            instance._callCallback(typeName, callbackID, error, data);\r\n        } else {\r\n            instance._trigger(typeName, data);\r\n        }\r\n    }\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/jsFlashBridge.js","import { STYLES } from '@/ui/styles';\r\n\r\nconst DEFAULT_MENU_ITEMS = [\r\n    { id: 'about', text: 'About HTML5 player' }\r\n];\r\n\r\nlet parentElement = null;\r\nlet currentMenu = null;\r\n\r\ndocument.addEventListener('click', hideCurrentMenu, true);\r\nwindow.addEventListener('blur', hideCurrentMenu, true);\r\n\r\nexport function showContextMenuAt(x, y, menuItems, parent) {\r\n    hideCurrentMenu();\r\n\r\n    parentElement = parent || document.body;\r\n\r\n    const menu = constructMenu(menuItems || DEFAULT_MENU_ITEMS);\r\n    parentElement.appendChild(menu);\r\n    menu.style.left = x + 'px';\r\n    menu.style.top = y + 'px';\r\n\r\n    currentMenu = menu;\r\n}\r\n\r\nfunction hideCurrentMenu() {\r\n    if (currentMenu) {\r\n        const temp = currentMenu;\r\n\r\n        // in removeChild call 'blur' event will fire again, so we should erase 'currentMenu' variable prior to that\r\n        currentMenu = null;\r\n        parentElement.removeChild(temp);\r\n    }\r\n}\r\n\r\nfunction constructMenu(items) {\r\n    let menu = document.createElement('ul');\r\n    menu.className = 'alfa-context-menu';\r\n\r\n    items.forEach((item) => {\r\n        const element = createItemElement(item);\r\n        const menuItem = document.createElement('li');\r\n        menuItem.appendChild(element);\r\n        menu.appendChild(menuItem);\r\n    });\r\n    return menu;\r\n}\r\n\r\nfunction createItemElement(item) {\r\n    const element = item.href ? createLinkItemElement(item) : createSpanItemElement(item);\r\n    element.className = `alfa-context-item ${STYLES.NO_SELECT}`;\r\n    element.innerHTML = item.text;\r\n    element.dataset.id = item.id;\r\n    return element;\r\n}\r\n\r\nfunction createLinkItemElement(item) {\r\n    const element = document.createElement('a');\r\n    element.setAttribute('target', '_blank');\r\n    element.setAttribute('href', item.href);\r\n    return element;\r\n}\r\n\r\nfunction createSpanItemElement() {\r\n    return document.createElement('span');\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/contextMenu.js","import { settings } from '@/data/settings';\r\nimport { sendInfo, sendOnLoad, sendError } from '@/system/networking';\r\n\r\nfunction genBody(name, sid) {\r\n    return {\r\n        name: name,\r\n        ver: process.env.VERSION || 'dev',\r\n        type: settings.getAppType(),\r\n        sid: sid || undefined\r\n    };\r\n}\r\n\r\nexport function notifyInfo(name, { sid, data }) {\r\n    // request data\r\n    const body = genBody(name || 'info', sid);\r\n    body.data = data;\r\n\r\n    // make request\r\n    sendInfo(body);\r\n}\r\n\r\nexport function notifyCreate({ sid, data }) {\r\n    // request data\r\n    const body = genBody('create', sid);\r\n    body.data = data;\r\n\r\n    // make request\r\n    sendOnLoad(body);\r\n}\r\n\r\nexport function notifyError() {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/system/notifier.js","import { registerGlobalErrorHandler } from '@/system/errors';\r\nimport WebAlfaPlayer, { PLAYER_VERSION, PLAYER_COMMIT } from '@/WebAlfaPlayer';\r\nimport { settings, INITIAL_SID } from '@/data/settings';\r\nimport { notifyInfo } from '@/system/notifier';\r\n\r\n// registration of global error handler\r\nregisterGlobalErrorHandler(window);\r\n\r\n// if ROTATED build - enable ad rotation\r\nif (process.env.ALFA_ROTATED) {\r\n    settings.isRotated = true;\r\n}\r\n\r\n// if DEBUG build - enable DEBUG mode\r\nif (process.env.ALFA_DEBUG) {\r\n    settings.isDebug = true;\r\n}\r\n\r\n// notify server about LOAD event\r\nnotifyInfo('load', { sid: INITIAL_SID });\r\n\r\n// if VPAID build - expose 'getVPAIDAd' function to global\r\nif (process.env.ALFA_VPAID) {\r\n    window.getVPAIDAd = require('@/VPAIDVideoPlayer').getVPAIDAd;\r\n}\r\n\r\n// expose player to global variable\r\nwindow.WebAlfaPlayer = WebAlfaPlayer;\r\n\r\n// if we in DEV mode, write console version and commit info\r\nif (settings.isDev) {\r\n    console.log(`[alfa] version '${ PLAYER_VERSION }', commit '${ PLAYER_COMMIT }'`);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/index.js","const TEMPLATE = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\r\n\r\n/**\r\n * Generate RFC4122 version 4 compliant UUID\r\n * @returns {string}\r\n */\r\nexport function uuid() {\r\n    return TEMPLATE.replace(/[xy]/g, (c) => {\r\n        const r = Math.random() * 16 | 0;\r\n        const v = c === 'x' ? r : (r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/alfa-common/lib/utils/uuid.js","import { isStorageReadable, isStorageWritable } from 'alfa-common/lib/utils/storage';\r\n\r\nexport class Storage {\r\n    constructor() {\r\n        this.storage = localStorage;\r\n        this.isReadable = isStorageReadable(this.storage);\r\n        this.isWritable = isStorageWritable(this.storage);\r\n    }\r\n\r\n    read(key) {\r\n        if (!this.isReadable) {\r\n            return null;\r\n        }\r\n\r\n        return this.storage.getItem(key);\r\n    }\r\n\r\n    write(key, value) {\r\n        if (!this.isWritable) {\r\n            return;\r\n        }\r\n\r\n        const valueType = typeof value;\r\n        if (valueType === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n\r\n        this.storage.setItem(key, value);\r\n    }\r\n\r\n    remove(key) {\r\n        if (!this.isWritable) {\r\n            return;\r\n        }\r\n\r\n        this.storage.removeItem(key);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/data/storage.js","/**\r\n * Is browser storage (local, session) currently support reading\r\n * @param storage\r\n * @returns {boolean}\r\n */\r\nexport function isStorageReadable(storage) {\r\n    const KEY = 'test';\r\n    try {\r\n        storage.getItem(KEY);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n}\r\n\r\n/**\r\n * Is browser storage (local, session) currently support writing\r\n * @param storage\r\n * @returns {boolean}\r\n */\r\nexport function isStorageWritable(storage) {\r\n    const KEY = 'test';\r\n    try {\r\n        storage.setItem(KEY, '1');\r\n        storage.removeItem(KEY);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/alfa-common/lib/utils/storage.js","import { VAST_EVENTS, PLAYER_EVENTS, MEDIA_EVENTS, MEDIA_ERROR } from '@/data/constants';\nimport { parsedUA as ua } from '@/data/userAgent';\nimport { createError, createVastError, sendError, VastError, VAST_ERRORS } from '@/system/errors';\nimport { getShortURL } from '@/system/networking';\nimport Scheduler from '@/system/scheduler';\nimport EventSystem from '@/system/eventSystem';\nimport { CompanionArea, EVENTS as COMPANION_EVENTS } from '@/ui/companionArea';\nimport { STYLES } from '@/ui/styles';\nimport { getUrlContentAsync, playWhenCan } from '@/utils/common';\nimport { prepareFetchVastUrl } from '@/utils/url';\nimport { STAGES } from '@/utils/stage';\n\nimport Config from '@/data/config';\nimport UIManager from '@/ui/uiManager';\nimport { settings } from '@/data/settings';\nimport { VastNotifier } from '@/system/vastNotifier';\nimport { parse } from './parser';\nimport { notifyInfo, notifyCreate } from '@/system/notifier';\n\nconst DEFAULT_PUI = '35vz1fd5a348b2bf6841a0a4b8g3e281',\n    VAST_CLOSE_AFTER_SHOW_MIDROLL = true,\n    VAST_CLOSE_AFTER_SHOW_ONLOAD = true;\n\nclass WebAlfaPlayer extends EventSystem {\n    constructor(pui) {\n        super();\n\n        this.config = new Config(pui || DEFAULT_PUI);\n        this.vast = null;\n        this.state = {\n            // Just loaded, haven't played anything\n            initial: true,\n            // is main video file playing finished\n            finishedMain: false\n        };\n        // session ID for this player instance\n        this.sid = settings.nextSID();\n\n        this.currentAd = null;\n        this.currentAdNumber = 0;\n        this.currentCompanion = null;\n        this.mainVideoTime = 0;\n\n        this.notifier = new VastNotifier();\n        this.ui = new UIManager(this);\n        this.scheduler = new Scheduler(this);\n        this.thisTimeUpdateEvent = this.onTimeupdateEvent.bind(this);\n    }\n\n    notifyOnce(eventName) {\n        const fired = this.notifier.fireLinearOnce(eventName);\n        if (fired) {\n            this.emit(PLAYER_EVENTS.AD_TRACKING, eventName);\n        }\n    }\n\n    notifyImpressions() {\n        const fired = this.notifier.fireImpressions();\n        if (fired) {\n            this.emit(PLAYER_EVENTS.AD_IMPRESSION);\n\n            // in debug build do info report about impressions firing\n            if (settings.isDebug) {\n                this.notifyInfo('impressions');\n            }\n        }\n    }\n\n    create(config) {\n        this.state.initial = true;\n\n        // reading player config\n        this.config.init(config);\n\n        // creating of UI and video elements\n        this.ui.createMainUI(this.config);\n\n        // we should notify server about successful player creation\n        this.notifyCreate();\n\n        // setup debug 'unload' event reporting\n        if (settings.isDebug) {\n            window.addEventListener('unload', () => this.notifyInfo('unload'));\n        }\n\n        // if ads will be requested from server by PUI\n        if (this.config.isAutoGetAds()) {\n            this.onConfigApplied();\n        } else {\n            // try to load VAST data from provided XML or URL\n            this.loadVast(() => this.onConfigApplied());\n        }\n    }\n\n    /**\n     * notify server about successful player creation\n     */\n    notifyCreate() {\n        // additional data\n        const data = {};\n\n        // additional data from config\n        this.config.fillNotifyProps(data);\n\n        // report initial viewability\n        if (this.ui.viewability) {\n            data.viewability = this.ui.viewability.getViewability();\n        }\n\n        // make request\n        notifyCreate({\n            sid: this.sid,\n            data\n        });\n    }\n\n    notifyInfo(name) {\n        // additional data\n        const data = {};\n\n        // additional data from config\n        this.config.fillNotifyProps(data);\n\n        // additional data about current ad\n        this.fillCurrentAdProps(data);\n\n        // report initial viewability\n        if (this.ui.viewability) {\n            data.viewability = this.ui.viewability.getViewability();\n        }\n\n        // make request\n        notifyInfo(name, {\n            sid: this.sid,\n            data\n        });\n    }\n\n    notifyError(error) {\n        // add player instance ID\n        error.sid = this.sid;\n\n        // additional error data\n        const data = {};\n        // additional data from config\n        this.config.fillNotifyProps(data);\n\n        // additional data about current ad\n        this.fillCurrentAdProps(data);\n\n        // in DEBUG build we report VAST content in case of VastError\n        if (settings.isDebug && (error instanceof VastError)) {\n            data.debug = error.source || (this.vast && this.vast.source) || '';\n        }\n\n        // notify our server about error\n        sendError(error, data);\n    }\n\n    notifyVastError(error) {\n        // notify VAST provider about VAST error\n        if (error.code > 0) {\n            this.notifier.fireError(error.code);\n        }\n\n        // notify our server about error\n        this.notifyError(error);\n    }\n\n    fillCurrentAdProps(data) {\n        // if we already selected AD\n        if (this.currentAd) {\n            // vast type\n            data.vast = this.currentAd.getVastType();\n\n            // if we determined mediaFile\n            if (this.currentAd.mediaFile) {\n                data.mediafile = this.currentAd.mediaFile;\n            }\n        }\n    }\n\n    loadVast(callback) {\n        if (this.config.getFetchVastUrl()) {\n            // prepare URL to fetch VAST file from server\n            let vastUrl = this.config.getFetchVastUrl();\n            if (this.config.isVPAID() && this.config.getVideoElement() && this.config.getVideoElement().getBoundingClientRect) {\n                vastUrl = prepareFetchVastUrl(vastUrl, this.config.getVideoElement().getBoundingClientRect());\n            }\n\n            console.log('[alfa] Fetching VAST from url: ' + vastUrl);\n            getUrlContentAsync(vastUrl, (resultXML) => {\n                if (!resultXML) {\n                    return callback();\n                }\n\n                this.initVast(resultXML, callback);\n            });\n        } else if (this.config.getProvidedVastXML()) {\n            this.initVast(this.config.getProvidedVastXML(), callback);\n        } else {\n            callback();\n        }\n    }\n\n    initVast(vastXML, callback) {\n        // listen to 'warning' events that may appear while parsing VAST xml\n        parse(vastXML,\n            (warning) => {\n                this.notifyVastError(warning);\n            },\n            (error, data) => {\n                // if critical error occurred while parsing\n                if (error) {\n                    this.notifyVastError(error);\n\n                    this.vast = null;\n                } else {\n                    this.vast = data;\n                }\n\n                callback();\n            });\n    }\n\n    onConfigApplied() {\n        if (ua.isMobile) {\n            this.scheduler.precacheAd();\n        }\n\n        // setup OnClick listener on video element, if it was provided by config\n        const videoElement = this.config.getVideoElement();\n        if (videoElement) {\n            videoElement.addEventListener(ua.isMobile ? 'touchend' : 'click', this.onPlayerClick.bind(this));\n        }\n        // setup OnClick listener on player root element\n        this.ui.background.on(PLAYER_EVENTS.CLICK, this.onPlayerClick.bind(this));\n\n        if (this.config.getYoutubeID() && this.ui.youtubePlayer) {\n            this.ui.youtubePlayer.addEventListener(MEDIA_EVENTS.timeupdate, this.thisTimeUpdateEvent);\n        }\n        this.ui.HTML5Player.addEventListener(MEDIA_EVENTS.timeupdate, this.thisTimeUpdateEvent);\n\n        if (this.haveAdTags()) {\n            this.setCurrentAd(0);\n        }\n\n        // if video is not marked as adult, we can run autoplay, or setup autoplay on touch\n        if (this.config.isAutoplay() && !this.config.isAdult()) {\n            if (this.config.isAndroidSDK() || !ua.isMobile) {\n                this.play();\n            } else if (ua.isMobile) {\n                // if video is muted - try to play it automatically, it's allowed on devices with iOS >= 10 and android+chrome >= 53\n                if (this.config.isMute()) {\n                    this.play();\n                }\n\n                // setup autoplay on any touch event on page (even if we started muted video)\n                this.setupTouchAutoplay();\n            }\n        }\n\n        this.emit(PLAYER_EVENTS.PLAYER_CREATED);\n    }\n\n    /**\n     * Setup TOUCHEND handler on document and parent document, if player is in IFRAME.\n     * Handler will be capturing, so we can disable bubbling in case touch was in player borders.\n     */\n    setupTouchAutoplay() {\n        const touchAutoplay = (e) => {\n            // prevent from firing TOUCHEND handler on backgroundElement, if this touch was in its borders\n            if (this.ui.background.isInBounds(e.target)) {\n                e.stopPropagation();\n            }\n\n            // if we already playing video - simply remove handlers\n            if (!this.state.initial) {\n                document.body.removeEventListener('touchend', touchAutoplay, true);\n                try {\n                    if (window.parent && window.parent.document) {\n                        window.parent.document.removeEventListener('touchend', touchAutoplay, true);\n                    }\n                } catch (e) {\n                    // catch all\n                }\n            }\n\n            if (this.scheduler.isGettingAd()) {\n                return;\n            }\n\n            // start playing video only of player is in browser viewport\n            if (this.ui.isInViewport()) {\n                document.body.removeEventListener('touchend', touchAutoplay, true);\n                if (this.state.initial) {\n                    this.play();\n                }\n            }\n        };\n\n        console.log('[alfa] setup video_autoplay on touchend');\n        document.body.addEventListener('touchend', touchAutoplay, true);\n        try {\n            if (window.parent && window.parent.document) {\n                window.parent.document.addEventListener('touchend', touchAutoplay, true);\n            }\n        } catch (e) {\n            console.log('[alfa] Error:', e.toString());\n        }\n    }\n\n    getAdTags() {\n        if (!this.vast) {\n            return [];\n        }\n        return this.vast.adTags || [];\n    }\n\n    haveAdTags() {\n        return this.getAdTags().length > 0;\n    }\n\n    setCurrentAd(number) {\n        this.iosfwdlimit = void(0);\n        this.currentAd = this.getAdTags()[number];\n        this.currentAdNumber = number;\n        this.notifier.init(this.currentAd);\n        this.ui.hideNonLinear();\n\n        if (this.config.getCompanionConfig() && this.currentAd.companions.length > 0) {\n            // remove current visible companion\n            if (this.currentCompanion) {\n                this.currentCompanion.remove();\n            }\n\n            this.currentCompanion = CompanionArea.create(this.config.getCompanionConfig(), this.currentAd.companions);\n            if (this.currentCompanion) {\n                this.notifier.fireByUrl(this.currentCompanion.companionInfo.events[VAST_EVENTS.CREATIVE_VIEW]);\n                // set up VAST error notifications\n                this.currentCompanion.on(COMPANION_EVENTS.VAST_ERROR, (error) => this.notifyVastError(error));\n            } else {\n                const error = createVastError(VAST_ERRORS.COMPANION_SUPPORT, 'Not found supported STATIC Companion');\n                this.notifyVastError(error);\n            }\n        }\n    }\n\n    play() {\n        console.log('[alfa] Play');\n        this.ui.hideStartButton();\n        this.ui.showShareButton();\n\n        // setup timer to check if autoplay was successfull\n        if (this.state.initial && this.config.isAutoplay()) {\n            this.scheduler.watchForAutoplay();\n        }\n\n        if (this.scheduler.willPlayAdASAP()) {\n            return;\n        }\n        if (!this.ui.mediaSpan) {\n            console.error('Cannot start playing. Player is not created yet.');\n            return;\n        }\n\n        this.ui.mediaSpan.classList.remove(STYLES.OPACITY_HIDDEN);\n\n        this.state.finishedMain = false;\n        if (this.state.initial && (this.config.isAutoGetAds() || settings.isRotated)) {\n            this.scheduler.onPlayEvent();\n        } else {\n            if (this.state.initial) {\n                this.scheduler.stage.next(STAGES.PRE_ROLL);\n                this.playCurrentAd();\n            } else {\n                this.ui.videoElementPlay();\n                this.emit(MEDIA_EVENTS.play);\n            }\n        }\n        this.ui.showVideoControls();\n        this.state.initial = false;\n    }\n\n    pause() {\n        console.log('[alfa] Pause');\n        if (this.ui.videoElement && !this.ui.videoElement.paused) {\n            this.ui.videoElement.pause();\n            this.ui.showStartButton();\n        }\n    }\n\n    resume() {\n        console.log('[alfa] Resume');\n        if (this.ui.videoElement && this.ui.videoElement.paused) {\n            this.ui.videoElement.play();\n            this.ui.hideMessage();\n        }\n    }\n\n    abortPlaying() {\n        this.ui.videoElement.pause();\n        this.ui.videoElement.src = '';\n    }\n\n    isPaused() {\n        return this.ui.videoElement.paused || this.state.initial;\n    }\n\n    playVPAIDAd(mediaFile) {\n        if (this.ui.videoMain && !this.ui.videoMain.paused) {\n            this.ui.videoMain.pause();\n        }\n        if (ua.isMobile) {\n            this.ui.showVideoControls();\n        }\n\n        console.log('[alfa] VPAID ad start play');\n\n        this.ui.showVPAIDPlayer();\n        this.ui.VPAIDPlayer.type = mediaFile.type;\n        this.ui.VPAIDPlayer.src = mediaFile.url;\n        this.ui.hideShareButton();\n        this.ui.morphToAdsLayout();\n        //this.ui.VPAIDPlayer.play();\n    }\n\n    playCurrentAd(videoStage) {\n        this.scheduler.preCachedAd = false;\n\n        if (!videoStage) {\n            videoStage = (this.ui.videoElement.currentTime < 1) ? STAGES.PRE_ROLL : STAGES.MID_ROLL;\n        }\n\n        console.log('[alfa] playCurrentAd STAGE=' + videoStage);\n\n        // TODO: maybe select mediafile here, instead of in parser\n        const linear = this.currentAd ? this.currentAd.linear : null;\n        const mediaFile = this.currentAd ? this.currentAd.mediaFile : null;\n\n        // if we couldn't find mediaFile, then just skip to main video\n        if (!mediaFile || !mediaFile.url) {\n            this.ui.showHTML5Player();\n\n            this.emit(PLAYER_EVENTS.AD_FINISHED);\n            if (!this.config.isAdOnly()) {\n                this.playMainVideo();\n            } else {\n                this.ui.HTML5Player.removeEventListener(MEDIA_EVENTS.timeupdate, this.thisTimeUpdateEvent);\n                this.scheduler.stage.next(STAGES.BEGIN);\n            }\n            return;\n        }\n\n        this.scheduler.stage.next(videoStage || STAGES.MID_ROLL);\n\n        // if current ad tag is VPAID then show VPAID player, else show HTML5 player\n        if (mediaFile && mediaFile.isVPAID()) {\n            this.playVPAIDAd(mediaFile);\n        } else {\n            this.playHTML5Ad(linear, mediaFile);\n        }\n    }\n\n    playHTML5Ad(linear, mediaFile) {\n        this.ui.showHTML5Player();\n        try {\n            if (this.ui.videoElement.src !== mediaFile.url) {\n                this.ui.videoElement.src = mediaFile.url;\n            }\n\n            this.ui.hideShareButton();\n            this.ui.morphToAdsLayout();\n            this.ui.showIcons();\n            if (ua.isMobile)\n                this.ui.showVideoControls();\n\n            if (!this.scheduler.stage.isPostRoll()) {\n                if (!this.config.isAdOnly() || this.config.isVPAID()) {\n                    // determine ad skip offset and show button\n                    const offset = linear.skipOffset || this.config.getSkipOffset() || 0;\n                    this.ui.showSkipButton(offset);\n                }\n            }\n\n            this.ui.videoElementPlay();\n\n            this.notifyOnce(VAST_EVENTS.START);\n            this.notifier.fireLinear(VAST_EVENTS.CREATIVE_VIEW);\n\n            if (this.ui.videoElement.paused && ua.isMobile) {\n                console.warn('[alfa] Mobile play function fail, show start button');\n                this.ui.showStartButton();\n            }\n\n            if (!ua.isMobile) {\n                if (this.ui.getVolume() === 0) {\n                    this.notifier.fireLinear(VAST_EVENTS.MUTE);\n                }\n            } else if (this.config.isMute()) {\n                this.ui.setVolume(0);\n            }\n        } catch (e) {\n            console.log('[alfa] Play Ad exception,', e);\n            this.notifyError(createError(e));\n            this.playMainVideo();\n        }\n    }\n\n    playMainVideo() {\n        const src = this.config.getYoutubeID() || this.config.getVideoFile();\n        console.log(`[alfa] Play Main video: '${ src }'`);\n\n        // if we already playing this video - just try to unpause it\n        if (this.scheduler.stage.isVideo() && this.ui.videoMain.src === src) {\n            if (this.ui.videoMain.paused) {\n                playWhenCan(this.ui.videoMain);\n            }\n\n            return;\n        }\n\n        this.ui.showHTML5Player();\n        this.ui.hideCloseButton();\n        this.ui.hideSkipButton();\n        this.ui.hideIcons();\n\n        if (this.config.getVideoFile()) {\n            this.ui.morphToNormalLayout();\n            this.state.finishedMain = false;\n\n            this.scheduler.stage.next(STAGES.MAIN_VIDEO);\n            if (this.config.getYoutubeID()) {\n                if (!this.isAllowYoutubeWrapper() && this.config.getVideoFile()) {\n                    this.state.finishedMain = true;\n                    this.scheduler.stage.next(STAGES.END);\n                    this.ui.showEndingScreen();\n                    this.ui.resetTimeAndSeek();\n                    window.location = this.config.getVideoFile();\n                    return;\n                }\n\n                console.log('[alfa] Show youtube player');\n                this.ui.showYoutubePlayer();\n\n                if (ua.isAndroid && ua.isChrome) {\n                    setTimeout(() => {\n                        if (this.ui.youtubePlayer.state !== 1) {\n                            this.ui.onPauseEvent();\n                        }\n                    }, 700);\n                }\n            }\n\n            if (this.ui.videoMain.src !== src) {\n                this.ui.showLoadingIndicator();\n                this.ui.videoMain.src = src;\n            }\n\n            // show NonLinear if present and supported\n            if (this.currentAd) {\n                const nonLinear = this.currentAd.getSupportedNonLinear();\n                if (nonLinear) {\n                    this.ui.showNonLinear(nonLinear);\n                } else if (this.currentAd.nonLinears.length > 0) {\n                    this.notifyVastError(createVastError(VAST_ERRORS.NONLINEAR_SUPPORT, 'Couldn’t find NonLinear resource with supported type.'));\n                }\n            }\n\n            // set full volume in player on mobile devices, so volume can be regulated by hardware buttons\n            if (this.config.isMute() && ua.isMobile && !this.config.isAutoplay()) {\n                this.ui.setVolume(1);\n            }\n\n            try {\n                playWhenCan(this.ui.videoMain,\n                    () => {\n                        console.log('[alfa] Playing main video');\n                    },\n                    (error) => {\n                        if (this.ui.videoMain.src !== src) {\n                            console.log('[alfa] Error initiating main video playback, invalid SRC: ', error);\n                            this.playMainVideo();\n                        } else if (this.ui.videoMain.paused) {\n                            console.log('[alfa] Error initiating main video playback: ', error);\n                            this.ui.showStartButton();\n                        }\n                    }\n                );\n                this.ui.showShareButton();\n            } catch (error) {\n                console.log('[alfa] Error initiating main video playback: ', error);\n                this.ui.showStartButton();\n            }\n\n            if (this.mainVideoTime) {\n                this.ui.seekToTime(this.mainVideoTime);\n            }\n        } else {\n            console.log('[alfa] No main video file');\n            this.scheduler.stage.next(STAGES.BEGIN);\n            this.ui.hideLoadingIndicator();\n            this.ui.videoMain.pause();\n            this.ui.hideShareButton();\n            //this.ui.currentTime.innerHTML = '';\n            this.ui.mediaSpan.classList.add(STYLES.OPACITY_HIDDEN);\n            this.ui.showMessage('No video');\n            this.ui.disablePlay();\n        }\n    }\n\n    showWaitingForAd() {\n        console.log('[alfa] showWaitingForAd');\n        this.ui.morphToWaitingAdsLayout();\n    }\n\n    hideWaitingForAd() {\n        this.ui.hideLoadingIndicator();\n        this.ui.morphToNormalLayout();\n    }\n\n    getPlayerSize() {\n        return this.ui.background.size;\n    }\n\n    shareCurrentVideo() {\n        console.log('[alfa] share video');\n        let shareUrl;\n\n        // TODO: check for real domain\n        // if current video is shared from our tinyurl page that use our PUI\n        if (document.URL.indexOf('OURTINYURL') >= 0) {\n            shareUrl = this.config.getShareUrl(DEFAULT_PUI);\n        } else {\n            shareUrl = this.config.getShareUrl();\n        }\n\n        this.ui.showShareDialog(shareUrl);\n    }\n\n    getShareLink(callback) {\n        let queries = this.config.getShareUrl();\n        getShortURL(queries, callback);\n    }\n\n    showAd() {\n        window.open(this.config.getShowAdUrl(), '_blank');\n    }\n\n    closePlayer() {\n        this.ui.background.destroy();\n    }\n\n    isAllowYoutubeWrapper() {\n        return !ua.isMobile\n            || ua.isFirefox\n            || (ua.isAndroid && ua.isChrome && !ua.isFacebook);\n    }\n\n    get currentTime() {\n        return this.ui.videoElement.currentTime;\n    }\n\n    set currentTime(value) {\n        if (!this.scheduler.stage.isAd())\n            this.ui.videoElement.currentTime = value;\n    }\n\n    onNonLinearView() {\n        this.notifier.fireNonLinear(VAST_EVENTS.CREATIVE_VIEW);\n    }\n\n    onNonLinearContentClick(nonLinear) {\n        this.pause();\n        if (nonLinear.clickTracking) {\n            this.notifier.fireByUrl(nonLinear.clickTracking);\n        }\n    }\n\n    onNonLinearClose() {\n        this.notifier.fireNonLinear(VAST_EVENTS.CLOSE);\n    }\n\n    onIconView(icon) {\n        if (icon && icon.viewTracking) {\n            this.notifier.fireByUrl(icon.viewTracking);\n        }\n    }\n\n    onIconClick(icon) {\n        if (!icon) {\n            return;\n        }\n\n        if (icon.clickTracking) {\n            this.notifier.fireByUrl(icon.clickTracking);\n        }\n        if (icon.clickThrough) {\n            this.pause();\n            window.open(icon.clickThrough, '_blank');\n        }\n    }\n}\n\n// @Events handlers\nWebAlfaPlayer.prototype.onTimeupdateEvent = function () {\n    let currentTime = this.ui.videoElement.currentTime;\n    let duration = this.ui.videoElement.duration;\n\n    let time = +new Date();\n    if (!this.prevTimeNotify || (time - this.prevTimeNotify > 999)) {\n        this.prevTimeNotify = time;\n        this.emit(MEDIA_EVENTS.timeupdate, currentTime, duration);\n    }\n\n    // notify scheduler about current playing time\n    this.scheduler.onTimeupdateEvent(currentTime, duration);\n\n    if (this.scheduler.stage.isVideo()) {\n        this.mainVideoTime = currentTime;\n    } else if (this.scheduler.stage.isAd()) {\n        if (currentTime > 0) {\n            this.notifyImpressions();\n        }\n\n        // check if we need to fire 'progress' tracking event\n        if (this.currentAd.hasProgressEvents()) {\n            this.notifier.fireProgress(currentTime);\n        }\n\n        if (ua.isIOSSmall) {\n            if (this.previousTime !== void(0) && ((currentTime - this.previousTime) > (Math.log(duration * duration + duration * 2 + 10) / 5))) {\n                console.log('[alfa] fwd seek catched');\n                this.iosfwdlimit = currentTime / duration;\n                this.previousTime = currentTime;\n                return;\n            } else if (this.previousTime > currentTime) { //seek backward\n\n            }\n\n            this.previousTime = currentTime;\n            if (currentTime > 0.75 * duration) {\n                if ((this.iosfwdlimit !== void(0) ? this.iosfwdlimit : 0) < 0.75)\n                    if (currentTime < duration)\n                        this.notifyOnce(VAST_EVENTS.THIRD_QUARTILE);\n            } else if (currentTime > 0.50 * duration) {\n                if ((this.iosfwdlimit !== void(0) ? this.iosfwdlimit : 0) < 0.5)\n                    this.notifyOnce(VAST_EVENTS.MIDPOINT);\n            } else if (currentTime > 0.25 * duration) {\n                if ((this.iosfwdlimit !== void(0) ? this.iosfwdlimit : 0) < 0.25)\n                    this.notifyOnce(VAST_EVENTS.FIRST_QUARTILE);\n            }\n        } else {\n            if (currentTime > 0.75 * duration) {\n                if (currentTime < duration)\n                    this.notifyOnce(VAST_EVENTS.THIRD_QUARTILE);\n            } else if (currentTime > 0.50 * duration) {\n                this.notifyOnce(VAST_EVENTS.MIDPOINT);\n            } else if (currentTime > 0.25 * duration) {\n                this.notifyOnce(VAST_EVENTS.FIRST_QUARTILE);\n            }\n        }\n    }\n};\n\nWebAlfaPlayer.prototype.onPauseEvent = function () {\n    if (this.scheduler.stage.isAd() && this.ui.videoElement.currentTime !== this.ui.videoElement.duration) {\n        this.notifier.fireLinear(VAST_EVENTS.PAUSE);\n    }\n};\n\nWebAlfaPlayer.prototype.onPlayEvent = function () {\n    this.ui.hideMessage();\n    this.ui.hideLoadingIndicator();\n    if (this.scheduler.stage.isAd()) {\n        this.ui.hideShareButton();\n        if (this.ui.videoElement.currentTime > 0) {\n            this.notifier.fireLinear(VAST_EVENTS.RESUME);\n        }\n    }\n};\n\nWebAlfaPlayer.prototype.onPlayerClick = function (e) {\n    //e.preventDefault(); // DO NOT TOUCH! iOS bug\n    if (this.__playerClickTimeStamp !== 0 && this.__playerClickTimeStamp === e.timeStamp)\n        return;\n    this.__playerClickTimeStamp = e.timeStamp;\n\n    // don't do anything on initial stage\n    if (this.scheduler.stage.isBegin()) {\n        return;\n    }\n\n    // catch clicks only on eligible elements\n    if (!this.ui.isValidForClickThrough(e.target)) {\n        return;\n    }\n\n    console.log('[alfa] Click on ClickThrough element');\n    if (this.scheduler.stage.isAd()) {\n        if (this.isPaused() && !this.config.isAdOnly()) {\n            this.play();\n        } else {\n            this.onClickThrough(this.currentAd.videoClickThrough, '', true);\n        }\n    } else {\n        this.onPlayerClickMain();\n    }\n};\n\nWebAlfaPlayer.prototype.onClickThrough = function (url, id, playerHandles) {\n    url = (url || this.currentAd.videoClickThrough);\n    if (url) {\n        this.notifier.fireByUrl(this.currentAd.getVideoClickTrackings());\n        this.pause();\n\n        // if player in ROTATED mode, then resume playing after 10 seconds (MWA-554 + MWA-556)\n        if (settings.isRotated) {\n            setTimeout(() => {\n                if (this.isPaused()) {\n                    this.resume();\n                }\n            }, 10000);\n        }\n    }\n\n    if (!this.config.isVPAID() && !this.config.isAndroidSDK() && playerHandles && url) {\n        window.open(url, '_blank');\n    }\n\n    this.emit(PLAYER_EVENTS.AD_CLICK_THROUGH, url, id, playerHandles);\n};\n\nWebAlfaPlayer.prototype.onPlayerClickMain = function () {\n    if (this.ui.isVideoControlVisible() || this.config.isNoUI()) {\n        this.ui.showVideoControls();\n        if (!this.state.finishedMain && !this.ui.videoElement.error) {\n            if (this.isPaused())\n                this.play();\n            else\n                this.pause();\n        }\n    } else {\n        this.ui.showVideoControls();\n    }\n};\n\nWebAlfaPlayer.prototype.onPlayFinished = function () {\n    console.log('[alfa] play finished \"' + this.scheduler.stage.current + '\"');\n    if (this.ui.isSeekingNow)\n        return;\n\n    if (this.scheduler.stage.isAd()) {\n        this.scheduler.onAdFinished();\n\n        if (ua.isIOSSmall && !this.notifier.wasFired(VAST_EVENTS.THIRD_QUARTILE)) {\n            console.log('[alfa] send skip event');\n            this.notifier.markAsFired(VAST_EVENTS.THIRD_QUARTILE);\n            this.notifier.markAsFired(VAST_EVENTS.MIDPOINT);\n            this.notifier.markAsFired(VAST_EVENTS.FIRST_QUARTILE);\n\n            this.iosfwdlimit = void(0);\n            this.notifier.fireLinear(VAST_EVENTS.SKIP);\n            this.emit(PLAYER_EVENTS.AD_SKIPPED);\n            if (settings.isRotated) {\n                this.scheduler.playNextAd();\n            } else {\n                this.playMainVideo();\n            }\n            return;\n        }\n\n        this.notifyOnce(VAST_EVENTS.COMPLETE);\n        this.emit(PLAYER_EVENTS.AD_FINISHED);\n        this.ui.hideVideoControls(true);\n        if (this.config.isAdOnly() && !settings.isRotated) {\n            this.scheduler.stage.next(STAGES.BEGIN);\n            return;\n        }\n        if (settings.isRotated) {\n            this.scheduler.playNextAd();\n            return;\n        }\n        if (this.scheduler.stage.isPreRoll()) {\n            if (VAST_CLOSE_AFTER_SHOW_ONLOAD) {\n                this.playMainVideo();\n            }\n            return;\n        } else if (this.scheduler.stage.isMidRoll()) {\n            if (this.config.getVideoFile() && VAST_CLOSE_AFTER_SHOW_MIDROLL) {\n                this.playMainVideo();\n            }\n            return;\n        }\n    }\n\n    if (this.scheduler.stage.isVideo()) {\n        this.state.finishedMain = true;\n        this.scheduler.stage.next(STAGES.END);\n        this.ui.videoElement.pause(); // IE does not pause video on end\n\n        this.ui.showEndingScreen();\n        this.scheduler.onMainFinishedEvent();\n    }\n};\n\nWebAlfaPlayer.prototype.onEnterFullscreen = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(VAST_EVENTS.FULLSCREEN);\n    }\n};\n\nWebAlfaPlayer.prototype.onExitFullscreen = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(VAST_EVENTS.EXIT_FULLSCREEN);\n    }\n};\n\nWebAlfaPlayer.prototype.onMute = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(VAST_EVENTS.MUTE);\n    }\n};\n\nWebAlfaPlayer.prototype.onUnmute = function () {\n    if (this.scheduler.stage.isAd()) {\n        this.notifier.fireLinear(VAST_EVENTS.UNMUTE);\n    }\n};\n\n\nWebAlfaPlayer.prototype.onVideoError = function (passedError) {\n    // do nothing if nothing played\n    if (this.scheduler.stage.isBegin()) {\n        return;\n    }\n\n    // if passed error is just an 'Event', then try to get error from VIDEO element\n    let error = passedError;\n    if (!passedError || (passedError instanceof Event && this.ui.videoElement.error)) {\n        error = this.ui.videoElement.error;\n    }\n\n    // current media error\n    const errorCode = error && error.code || 0;\n    const errorMessage = error && error.message || '';\n    console.error('[alfa] video error', error);\n\n    // emit error to external listeners\n    this.emit(PLAYER_EVENTS.VIDEO_ERROR, error);\n\n    if (this.scheduler.stage.isAd()) {\n        console.log('[alfa] cannot play ads file:', this.currentAd && this.currentAd.mediaFile && this.currentAd.mediaFile.url || '');\n\n        if (error instanceof MediaError) {\n            // if error is MediaError then convert it to appropriate Linear VastError\n            switch (errorCode) {\n                case MEDIA_ERROR.MEDIA_ERR_ABORTED:\n                    this.notifyVastError(createVastError(VAST_ERRORS.LINEAR_TIMEOUT, errorMessage));\n                    break;\n\n                case MEDIA_ERROR.MEDIA_ERR_NETWORK:\n                    this.notifyVastError(createVastError(VAST_ERRORS.LINEAR_NOT_FOUND, errorMessage));\n                    break;\n\n                case MEDIA_ERROR.MEDIA_ERR_DECODE:\n                case MEDIA_ERROR.MEDIA_ERR_SRC_NOT_SUPPORTED:\n                    this.notifyVastError(createVastError(VAST_ERRORS.LINEAR_NOT_DISPLAYING, errorMessage));\n                    break;\n\n                default:\n                    this.notifyVastError(createVastError(VAST_ERRORS.LINEAR_ERROR, errorMessage));\n            }\n        } else if (error instanceof VastError) {\n            // if error is already VastError, then simply send it to server\n            this.notifyVastError(error);\n        }\n\n        // try to recover from error\n        if (settings.isRotated) {\n            this.scheduler.playNextAd();\n        } else if (this.config.hasPassback()) {\n            this.scheduler.tryBackupVast();\n        } else {\n            this.playMainVideo();\n        }\n    } else {\n        // if main video can't be played, try to pass it\n        if (this.mainVideoTime === 0 && this.config.getVideoFile()) {\n            window.location = this.config.getVideoFile();\n            return;\n        }\n\n        this.ui.videoElement.pause();\n        this.ui.hideShareButton();\n        if (error && error.code === MEDIA_ERROR.MEDIA_ERR_NETWORK) {\n            this.ui.showError('Network error');\n            this.ui.showRestartButton();\n        } else {\n            this.ui.showError('Cannot play video file');\n        }\n        console.log('[alfa] cannot play file: ' + this.config.getVideoFile());\n    }\n};\n\nWebAlfaPlayer.prototype.onSkipAdClick = function () {\n    this.notifier.fireLinear(VAST_EVENTS.SKIP);\n\n    // if current ad is not the last at current pod\n    if (this.currentAdNumber < this.getAdTags().length - 1) {\n        console.log('[alfa] Play next AD from POD');\n        this.currentAdNumber++;\n        this.setCurrentAd(this.currentAdNumber);\n        this.playCurrentAd();\n    } else {\n        if (this.config.isVPAID()) {\n            this.ui.videoElement.pause();\n            this.scheduler.stage.next(STAGES.BEGIN);\n        } else {\n            this.scheduler.onAdSkipped();\n\n            if (settings.isRotated) {\n                this.scheduler.playNextAd();\n            } else {\n                this.playMainVideo();\n                this.ui.hideVideoControls(true);\n            }\n        }\n    }\n    this.emit(PLAYER_EVENTS.AD_SKIPPED);\n};\n\nWebAlfaPlayer.prototype.onCloseClick = function () {\n    console.log('[alfa] close click', this);\n    this.playMainVideo();\n};\n\nWebAlfaPlayer.prototype.onPrerollAdFinished = function () {\n    console.log('[alfa] preroll finished');\n};\n\nexport default function (pui) {\n    const wap = new WebAlfaPlayer(pui);\n    return {\n        create: wap.create.bind(wap),\n        getShareLink: wap.getShareLink.bind(wap),\n        showAd: wap.showAd.bind(wap),\n        addEventListener: wap.addEventListener.bind(wap),\n        removeEventListener: wap.removeEventListener.bind(wap),\n        play: wap.play.bind(wap),\n        pause: wap.pause.bind(wap),\n\n        get currentTime() {\n            return wap.currentTime;\n        },\n        set currentTime(value) {\n            wap.currentTime = value;\n        },\n\n        get volume() {\n            return wap.ui.getVolume();\n        },\n        set volume(value) {\n            wap.ui.setVolume(value);\n        },\n\n        get vpaid() {\n            return wap.ui.VPAIDPlayer;\n        },\n\n        get version() {\n            return process.env.VERSION || 'dev';\n        },\n        get commit() {\n            return process.env.ALFA_COMMIT || '';\n        }\n    };\n}\n\nexport const PLAYER_VERSION = process.env.VERSION || 'dev';\nexport const PLAYER_COMMIT = process.env.ALFA_COMMIT || '';\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/WebAlfaPlayer.js","import { isUrl } from 'alfa-common/lib/utils/url';\nimport { doGet } from '@/system/networking';\nimport { settings } from '@/data/settings';\nimport { PLAYER_EVENTS } from '@/data/constants';\nimport { Flags } from '@/utils/flags';\nimport { Stage, STAGES } from '@/utils/stage';\nimport { createError, NoAdsError } from '@/system/errors';\nimport { Vast } from '@/parser/data';\nimport { STYLES } from '@/ui/styles';\n\nconst\n    TIMEOUT_BETWEEN_BACKUPS = 10 * 60 * 60 * 1000, // ms, 10 hours\n    TIMEOUT_BETWEEN_ADS = 10 * 60 * 1000, // ms, 10 minutes\n    TIMEOUT_REQUEST = 3 * 1000, // ms, 3 seconds\n    TIMEOUT_BETWEEN_REQUESTS = 2 * 1000, // ms, 2 seconds\n    TIMEOUT_CHECK_AUTOPLAY = 1 * 1000, // ms, 1 seconds\n    SHOW_AD_ON_START = true,\n    SHOW_AD_ON_VIDEO_PLAY = true,\n    AD_REQUESTS_LIMIT = 500;\n\nexport const FLAGS = {\n    INITIAL: 'initial',\n    GETTING_AD: 'getting_ad',\n    PARSING_VAST: 'parsing_vast',\n    PLAY_AD_ASAP: 'play_ad_asap',\n    HAVE_AD_IN_CACHE: 'have_ad_in_cache'\n};\n\nexport default class Scheduler {\n    constructor(wap) {\n        this.wap = wap;\n\n        this.stage = new Stage();\n\n        this._flags = new Flags(FLAGS.INITIAL);  // start with INITIAL state\n        this.preCachedAd = false;\n\n        this.timeBackupLastTried = 0;\n        this.timeLastAdRequest = 0;\n        this.timeLastAdFinished = 0;\n        this.adCount = 0;\n    }\n\n    isGettingAd() {\n        return this._flags.has(FLAGS.GETTING_AD);\n    }\n\n    willPlayAdASAP() {\n        return this._flags.has(FLAGS.PLAY_AD_ASAP);\n    }\n\n    generateVastTagUrl() {\n        return this.wap.config.generateVastTagUrl(this.wap.getPlayerSize());\n    }\n\n    precacheAd() {\n        if (SHOW_AD_ON_START && this.wap.config.isAutoGetAds()) {\n            const url = this.generateVastTagUrl();\n            this.requestAd(url);\n        }\n    }\n\n    playNextAd() {\n        if (this.preCachedAd) {\n            this.wap.playCurrentAd();\n            return;\n        }\n\n        this.wap.showWaitingForAd();\n\n        this._flags.include(FLAGS.PLAY_AD_ASAP);\n        if (this._flags.has(FLAGS.GETTING_AD)) {\n            return;\n        }\n\n        this.stage.next(STAGES.BEGIN);\n        this.wap.abortPlaying();\n\n        const url = this.generateVastTagUrl();\n        this.requestAd(url);\n    }\n\n    // TODO: refactor this method\n    tryBackupVast() {\n        console.log('[alfa] try backup vast url');\n\n        this._flags.include(FLAGS.PLAY_AD_ASAP, FLAGS.GETTING_AD);\n        const config = this.wap.config;\n\n        if (!settings.isRotated) {\n            const currTime = +new Date;\n\n            const passbackURL = config.getPassback();\n            const passbackJS = config.getPassbackJS();\n            const passbackHTML = config.getPassbackHTML();\n\n            if (passbackURL && this.isTimeoutBetweenBackupsExpired(currTime)) {\n                this.timeBackupLastTried = currTime;\n                this.requestAd(passbackURL);\n                return;\n            } else if (passbackHTML) {\n                const parentElem = config.getParentElement() || document.body;\n                if (parentElem) {\n                    injectPassbackHTML(parentElem, passbackHTML);\n                    return;\n                }\n            } else if (passbackJS) {\n                const parentElem = config.getParentElement() || document.body;\n                if (parentElem) {\n                    injectPassbackJS(parentElem, passbackJS);\n                    return;\n                }\n            }\n        } else if (this.adCount < AD_REQUESTS_LIMIT) {\n            setTimeout(() => {\n                const url = this.generateVastTagUrl();\n                this.requestAd(url);\n            }, TIMEOUT_BETWEEN_REQUESTS);\n            return;\n        }\n\n        // if passback vast is not found, try to play main video, if it's not playing already\n        if (this._flags.has(FLAGS.PLAY_AD_ASAP) && !this.stage.isVideo()) {\n            if (this.shouldPlayMainVideo()) {\n                this.wap.playMainVideo();\n            } else {\n                this.wap.ui.showError('Cannot play ad file');\n            }\n        }\n\n        this._flags.exclude(FLAGS.INITIAL, FLAGS.GETTING_AD, FLAGS.PLAY_AD_ASAP);\n\n        this.wap.emit(PLAYER_EVENTS.EMPTY_ADS_LIST);\n    }\n\n    shouldPlayAd(currTime) {\n        // if we already playing AD, do not start another one\n        if (this.stage.isAd()) {\n            return false;\n        }\n\n        return this.wap.config.isAutoGetAds()\n            && this.isTimeoutBetweenAdsExpired(currTime)\n            && this.isAdRequestTimeExpired(currTime);\n    }\n\n    shouldPlayNextAd(currTime, currentVideoTime, duration) {\n        // we should request second ad only for ROTATED build\n        if (!settings.isRotated) {\n            return false;\n        }\n\n        if (this.preCachedAd || this._flags.has(FLAGS.GETTING_AD, FLAGS.PARSING_VAST)) {\n            return false;\n        }\n\n        if (this.stage.isAd()) {\n            return !this.preCachedAd\n                && (currentVideoTime > 0)\n                && (duration > 0)\n                && (duration - currentVideoTime < 2.0);\n        } else {\n            return this.isAdRequestTimeExpired(currTime);\n        }\n    }\n\n    shouldPlayMainVideo() {\n        return !this.wap.config.isAdOnly();\n    }\n\n    isAdRequestTimeExpired(time) {\n        return (time - this.timeLastAdRequest) > TIMEOUT_BETWEEN_REQUESTS;\n    }\n\n    isTimeoutBetweenAdsExpired(time) {\n        return (time - this.timeLastAdFinished) > TIMEOUT_BETWEEN_ADS;\n    }\n\n    isTimeoutBetweenBackupsExpired(time) {\n        return (time - this.timeBackupLastTried) > TIMEOUT_BETWEEN_BACKUPS;\n    }\n\n    onTimeupdateEvent(currentVideoTime, duration) {\n        if (this.adCount >= AD_REQUESTS_LIMIT) {\n            return;\n        }\n\n        const currTime = +new Date;\n        if (SHOW_AD_ON_VIDEO_PLAY && this.shouldPlayAd(currTime)) {\n            console.log('[alfa] We should play FIRST ad');\n\n            //this.wap.ui.videoElement.pause();\n            this._flags.include(FLAGS.PLAY_AD_ASAP);\n            //this.wap.showWaitingForAd();\n\n            const url = this.generateVastTagUrl();\n            this.requestAd(url);\n\n        } else if (this.shouldPlayNextAd(currTime, currentVideoTime, duration)) {\n            console.log('[alfa] We should play NEXT ad');\n\n            this.preCachedAd = false;\n            this._flags.include(FLAGS.PLAY_AD_ASAP);\n\n            const url = this.generateVastTagUrl();\n            this.requestAd(url);\n        }\n    }\n\n    onPlayEvent() {\n        // play main video, if we reached AD count limit\n        if (this.adCount >= AD_REQUESTS_LIMIT) {\n            this.wap.playMainVideo();\n            return;\n        }\n\n        if (this._flags.has(FLAGS.INITIAL) && (this.wap.config.isAutoGetAds() || settings.isRotated) && SHOW_AD_ON_START) {\n            console.log('[alfa] Scheduler onPlayEvent, initialState');\n\n            if (this._flags.has(FLAGS.GETTING_AD)) {\n                this._flags.include(FLAGS.PLAY_AD_ASAP);\n                this.wap.showWaitingForAd();\n            } else if (this.wap.haveAdTags()) {\n                this.wap.playCurrentAd(STAGES.PRE_ROLL);\n            } else {\n                console.log('[alfa] doGetAd onPlayEvent');\n                this.wap.showWaitingForAd();\n                this._flags.include(FLAGS.PLAY_AD_ASAP);\n\n                const url = this.generateVastTagUrl();\n                this.requestAd(url);\n            }\n        } else {\n            if (settings.isRotated) {\n                this.stage.next(this.stage.previous);\n\n                if (this._flags.has(FLAGS.GETTING_AD)) {\n                    this._flags.include(FLAGS.PLAY_AD_ASAP);\n                    return;\n                }\n            }\n            if (this.stage.isAd()) {\n                this.wap.playCurrentAd();\n            } else {\n                this.wap.playMainVideo();\n            }\n        }\n\n        this._flags.exclude(FLAGS.INITIAL);\n    }\n\n    onAdFinished() {\n        this.timeLastAdFinished = +new Date;\n    }\n\n    onAdSkipped() {\n        this.timeLastAdFinished = +new Date;\n    }\n\n    requestAd(url) {\n        console.log('[alfa] Scheduler.requestAd', url);\n\n        this._flags.include(FLAGS.GETTING_AD);\n        this.timeLastAdRequest = +new Date;\n        this.adCount++;\n\n        const requestOptions = {\n            timeout: TIMEOUT_REQUEST,\n            headers: { 'Content-Type': 'text/plain' }\n        };\n        doGet(url, requestOptions, (error, res) => {\n            console.log(`[alfa] Scheduler.requestAd finished in ${ (+new Date - this.timeLastAdRequest) / 1000 }s`, url);\n\n            // if main video already finished, don't try to play AD\n            if (this.wap.state.finishedMain) {\n                this._flags.exclude(FLAGS.PLAY_AD_ASAP);\n                return;\n            }\n\n            if (error || !res || !(res.length > 0) || !Vast.looksLikeVast(res)) {\n                // send error report to server\n                this.sendNoAdsError(error, res);\n\n                console.log('[alfa] No Ad available', res);\n                this.wap.emit(PLAYER_EVENTS.EMPTY_ADS_LIST);\n                this.tryBackupVast();\n                return;\n            }\n\n            this._flags.exclude(FLAGS.GETTING_AD);\n            this._flags.include(FLAGS.PARSING_VAST);\n\n            this.wap.initVast(res, () => {\n                this._flags.exclude(FLAGS.PARSING_VAST);\n\n                if (this.wap.haveAdTags()) {\n                    this.wap.setCurrentAd(0);\n\n                    const firstAdTag = this.wap.getAdTags()[0];\n                    if (firstAdTag.mediaFile) {\n                        if (this._flags.has(FLAGS.PLAY_AD_ASAP) && (!settings.isRotated || this.wap.isPaused() || this._flags.has(FLAGS.INITIAL))) {\n                            this._flags.exclude(FLAGS.PLAY_AD_ASAP);\n                            this.wap.playCurrentAd();\n                        } else {\n                            this.preCachedAd = true;\n                        }\n\n                        // report successful ad acquiring\n                        if (settings.isDebug && settings.isRotated) {\n                            this.wap.notifyInfo('rotated_ad');\n                        }\n                    } else {\n                        this.wap.playMainVideo();\n                    }\n                } else {\n                    this.wap.playMainVideo();\n                }\n            });\n        });\n    }\n\n    onMainFinishedEvent() {\n        /*\n         if(this.postBreak) {\n         this.wap.vastData = this.postBreak.vastData;\n         this.wap.setCurrentAd(0);\n         this.wap.playCurrentAd(STAGES.POST_ROLL);\n         utils.notifyUrls(this.postBreak.events['breakstart']);\n         }\n         */\n    }\n\n    sendNoAdsError(requestError, responseData) {\n        let message;\n        if (requestError) {\n            message = 'Error in getting VAST: ' + requestError && requestError.message || requestError;\n        } else if (responseData && responseData.length > 0 && !Vast.looksLikeVast(responseData)) {\n            message = `Response data doesn't looks like VAST: \"${ responseData.slice(0, 100) }\"`;\n        } else {\n            message = 'Empty VAST response';\n        }\n\n        if (this.wap.config.hasPassback()) {\n            message += ' >> Trying passback';\n        }\n\n        const error = new NoAdsError(message);\n        this.wap.notifyError(error);\n    }\n\n    /**\n     * Check if ad was successfully started by autoplay - report error otherwise\n     */\n    watchForAutoplay() {\n        const checkAutoplay = () => {\n            if (this.wap.state.initial) {\n                this.wap.notifyError(createError('Autoplay is not working'));\n            }\n        };\n\n        setTimeout(checkAutoplay, TIMEOUT_CHECK_AUTOPLAY);\n    }\n}\n\nfunction injectPassbackHTML(rootElement, passbackURL) {\n    if (!rootElement) {\n        return;\n    }\n\n    // remove all elements from 'rootElement'\n    while (rootElement.firstChild) {\n        rootElement.removeChild(rootElement.firstChild);\n    }\n\n    // create FRAME and inject it to page\n    const frame = document.createElement('iframe');\n    frame.src = passbackURL;\n    frame.style.cssText = STYLES.PASSBACK_HTML_IFRAME;\n    frame.scrolling = 'no';\n    rootElement.appendChild(frame);\n}\n\nfunction injectPassbackJS(rootElement, passbackJS) {\n    if (!rootElement) {\n        return;\n    }\n\n    // remove all elements from 'rootElement'\n    while (rootElement.firstChild) {\n        rootElement.removeChild(rootElement.firstChild);\n    }\n\n    // if 'passbackJS' is element already, then just add it to 'rootElement'\n    if (typeof(passbackJS) === 'object') {\n        rootElement.appendChild(passbackJS);\n        return;\n    }\n\n    // ... else, create 'script' element and include JS source in it\n    const jsNode = document.createElement('script');\n    if (isUrl(passbackJS)) {\n        jsNode.src = passbackJS;\n    } else {\n        // if JS source is enclosed in <script> tags, then remove them\n        if (passbackJS.substr(0, 7) === '<script') {\n            passbackJS = passbackJS.replace(/<\\s*\\/?\\s*script\\s*.*?>/g, '');\n        }\n        jsNode.innerHTML = passbackJS;\n    }\n    rootElement.appendChild(jsNode);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/system/scheduler.js","export class Flags {\r\n    constructor(...flags) {\r\n        this.__flags = {};\r\n        this.include(...flags);\r\n    }\r\n\r\n    include(...flags) {\r\n        flags.forEach((flag) => {\r\n            if ((flag != null) && !this.has(flag)) {\r\n                this.__flags[flag] = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    exclude(...flags) {\r\n        flags.forEach((flag) => {\r\n            if ((flag != null) && this.has(flag)) {\r\n                this.__flags[flag] = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    has(...flags) {\r\n        for (let i = 0; i < flags.length; i++) {\r\n            const flag = flags[i];\r\n            if ((flag != null) && this.__flags[flag]) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/flags.js","module.exports = \"@-webkit-keyframes alfa-spin{to{-webkit-transform:rotate(1turn)}}@keyframes alfa-spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.alfa-root{background:#000}.alfa-root div{-webkit-tap-highlight-color:transparent}.alfa-root:fullscreen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-root:-ms-fullscreen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-root:-moz-full-screen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-root:-webkit-full-screen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-fullscreen{width:100%!important;height:100%!important;left:0!important;right:0!important;top:0!important;bottom:0!important;z-index:1000!important;margin:0!important;position:fixed!important}.alfa-main-background{position:absolute}.alfa-video-background{position:fixed;z-index:2147483647;top:0;left:0;right:0;bottom:0}.alfa-media-span{z-index:0}.alfa-icons-container,.alfa-media-span{position:absolute;top:0;left:0;width:100%;height:100%}.alfa-icons-container{z-index:1}.alfa-icons-container .alfa-icon{position:absolute}.alfa-icons-container .alfa-icon img{width:100%;height:100%}.alfa-clickable{cursor:pointer}.alfa-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.alfa-ctrl-button-icon{background-position:50% 50%;background-size:20px 20px;background-repeat:no-repeat;cursor:pointer;width:24px;margin:0 2px}.alfa_fillparent{position:absolute;left:0;top:0;width:100%;height:100%}.alfa-video-poster{left:0;top:0;bottom:0;right:0;background-size:contain;background-position:50% 50%}.alfa-loading-indicator,.alfa-video-poster{position:absolute;background-repeat:no-repeat}.alfa-loading-indicator{-webkit-animation:alfa-spin 3s linear infinite;animation:alfa-spin 4s linear infinite;pointer-events:none;top:50%;left:50%;margin-top:-25px;margin-left:-25px;width:50px;height:50px;background-size:50px 50px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABUFBMVEUAAAD///////////87Ozv9/f3////////x8fH///9lZWU8NjZ9fX3+/v42NjbX1dU3Nzfu7u42NjZDQ0NGRUVjY2N2dnbe3t45MTD+/v5UVFROTU3///+EhIRFRUVKSkpTVVWwsLC9vb3Kyso3Nzc9PT1xcXFubm5bXFyfn5+urq4+Pj65ubl+goKoqKjExMSbm5s+Pj4tLS10HQR1HwWAMRuJiYlnZ2fp6el1HwmFOiKocFyxhnW3lIeTk5OTk5NnZ2d0HwF0HQl8KhSNRzC3jHpNTU2YlZWooJzLt6+2j4JzJAd2IQ52Igp4JQeENh2LQyyTTzujaVa6jXnDm4rNtKm+nJGWlpbDtKqqpJ96Jwx8KhF9LBl4JQZ5JAaKQS16KhB3IgOLRCybXUuPSi+YV0FvFgWpcmCjalXDno6daVK/p595MBh3IgB1HwByGwDlaNL7AAAAbXRSTlMAFBIDAw8MARUFLQYvCwgcFhQMJx0wKhcKCSwhBy0hKyUiIRwUES8uKiYlIx8lIx4dGg349cwpJxrruFU6MCgmI/3x3ZlHKCQjHRoO5trDwKWOdT88LishGRbs49PLyLiympmLhWllYmJNIiAVjEADAwAAA51JREFUSMeNlld72jAUhn2MDV5g4w0GswkjZTQEmrRJupvRvffeLc7/v6sseZCA03w38Mh6fZbOkaklMbbidoS1tTVBKDpKjqH+I+aiY0g9mcvTSHlO7klFXT0TaFWkIUfDgmirLmkXE4lcpSzjbWw6EIvxhqTlVhOKMeTQ/gKfyoRLmRSf9am60VzlVL/sG+CXn5QQxEnuUh7EYo8GurTafgG9q3ubOU2sA7CpyB+iyMMUMlSriCe8wkSG7C+xdJguOs1nCMMCDLRFO/1aRBTwfu4SEsZYPmK6bkwoZRoT5AnIe+ZVfTzWZ2bXT3o6eiI1o3oYoQ0emaibelSFi+5uA8dI4uEMMQiksg50ChPIo6l+Ikqx2uXip+saWW2hgpSCNctUT9erWbYCOwVUHhsvVhpAB5YtYcXJUMuB3xkahn28IgVG0sjGEoHd2AUo4HMA0PZ36HWgA7d2E47suA6AXaOhN/aryOFXZFhouElN0eEg7f/JglVkKFvKA0+MTEUqQa0B0Bm8iWvblNIjOczCJSe590wOvzcF0G1SrozSgf2qtahE6TJkg5zplO8myfCUSUbUfWD9Xxas25SQD5ELVLLEKWRzR0dHBTovUAIdIlfPQJip/Pnj+3f3t3+wBrV2PuTCt+M5kre1c37kqzf3df2K79i5Yrlwcx4i5ww/N/pAkLvPO1QRJZlkvKsmI0r9DUHu/alSjl9KfI5lPTmU6q9rmPAeHDjRgSkBZzKJldx7SIwcfxk0UbvQwBPPakoSUt15TZCNW6gJGcOCLDnYnCkmHOQ7Dz2C3DgsMkGLETON6krXxNnlCSG8m6OxP3ikeFrUnJWx79yYE02e4kambqOchdN64CzZyVWfb3oBsv1KI/Ot7E8DEg4MO+qpmTTbiYiNJ6gnsTQy+gjD7TpqZElsVfd/3p0HuvZo1I8GLBdeFCV/JHdnessWRbXpzvZvbW+EhLd5YIjxGM+HDM8iiJNrd/b27qw/e/xg4s1DbV0xlROXBWYIRAPRy83jeazrl1+4i0FW6ouXGF/I+vq9tUBMLo805kS10PQPchDr770I8LZiImYGiClkFtfs+1GuNq+8QMTyJc7BqTv5U1iPRwemy6xqo/YQEJSNPxW+Y58m209eCkpCt2pSg9zELIs/Rw7fHm/cuPn0VbvPJA9FTapZEOvZ41uHo7ZmU2fJ1g2p17DyWFZjYBbHPnC2GFVxOoLgf8J1nKa97NI/tVOdDOWa+vYAAAAASUVORK5CYII=)}.alfa-loading-indicator--vpaid{top:25px;right:0;left:0;width:25px;height:25px;background-size:25px 25px}.alfa-button-start{background-image:url(data:image/png;base64,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)}.alfa-button-restart,.alfa-button-start{z-index:2;cursor:pointer;position:absolute;top:50%;left:50%;background-position:50% 50%;background-size:100%;margin-left:-50px;margin-top:-50px;width:100px;height:100px;background-repeat:no-repeat}.alfa-button-restart{background-image:url(data:image/png;base64,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)}.alfa-small-restart{margin:3px auto;top:70%;width:22%;height:30%;background-position:50% 100%;left:0;right:0;background-size:contain}.alfa-button-close{cursor:pointer;position:absolute;top:5px;right:5px;border-radius:50%;background:hsla(0,0%,100%,.8);border:1px solid #000;width:30px;height:30px;line-height:30px;text-align:center;font-size:28px}.alfa-ending-screen{position:absolute;left:0;right:0;bottom:30px;top:0;margin:auto;width:300px;height:155px}.alfa-share-div{position:absolute;width:100%;height:70%;background:#333;background-color:rgba(33,33,33,.5)}.alfa-bg-message{position:absolute;left:0;bottom:35px;width:100%;height:50px;display:table;text-align:center}.alfa-bg-message>span{display:table-cell;vertical-align:middle;color:#eee}.alfa-controls{z-index:2;position:absolute;height:30px;bottom:0;border-top:1px solid #555;background:#201f1f;background:linear-gradient(180deg,#252424 0,#201f1f);display:flex;flex-direction:row;display:-webkit-flex;-webkit-flex-direction:row;display:-ms-flex;-ms-flex-direction:row;width:100%}.alfa-controlbar-item{flex:0 0 auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;height:30px;line-height:30px}.alfa-play-button{cursor:pointer}.alfa-play-button.play-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAMAAABEQrEuAAAAqFBMVEUAAADIyMj///+ZmZn////IyMj///////+ZmZn///////////+cnJz///+ZmZn///+ampr///////+ZmZn///+jo6P///+ZmZm+vr6ZmZmZmZn///+ZmZmZmZmZmZn///+ZmZn///+ZmZn///+ZmZmZmZnz8/OZmZmZmZmZmZn///+ampqdnZ35+fm8vLzx8fHW1tbk5OTe3t7Ozs7Dw8OhoaHp6emsrKxqns2YAAAAKXRSTlMAA/v2Yfvz7dnSw7Gonnt1SDoqIx4ZEgz97+Thy7SMh1tOMAq9mXVsPJoJpU0AAAEESURBVEjHzdPHckIxDIVhXQIJ6aQSSEJvkk1v7/9meNgIA3Pls2H499+M4PjS5Xr8RIXcvmaYWI7l/g0SPFmIPH8jgnk1lbsiIkKzsTy8Q4Incyk0u4AIlaby24YEu1lBksZh7WeTNA4fth8HEknjcJyzx+FjsrbG4RPidRxLqMkdh88Rt9VxDKG/RsexhJ6m4xjCHIfz0nEMoXkdxxDxOEVAsPfr0iBDhPNPX0SIKFfy/yvHcTcvGRkiJv8fBC1Yr9jvyh0e1KiSIeJ64SBE1FtEkAgHQeKvQ4SIWjgIEv0qWZ0chIjakAgS4ZFCojyixPSRpqYHpaZfTWr7g6DCV3NN7QAE5oQfOkTp0gAAAABJRU5ErkJggg==)}.alfa-play-button.pause-icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxAgMAAAAO8qmPAAAACVBMVEUAAACZmZn///+l6mMWAAAAAXRSTlMAQObYZgAAAB1JREFUKM9joBbgWrUASmDyWEMDwMQob5QHJMgHAAN6N8moUycDAAAAAElFTkSuQmCC)}.alfa-fullscreen-button{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxAgMAAAAO8qmPAAAADFBMVEUAAACZmZmZmZmZmZnk5WrOAAAAA3RSTlMAgMBakZ4lAAAAgElEQVQoz2MgHvD///8FRMv///8BzLsA4rHDeA4gHiOU9w+iZT+KHKY+TDP/gnj1UB5QI0gbhPceqBGs7TeI5w7jXQTyeBlhKh0KGBhYGOpBpoBIAbDZXxAkUMsFBAnU4gAlhxRAuBrTRwjfooYEaiihhCB66CJCHiNW6JAK8AEAFAOfTdfbr4sAAAAASUVORK5CYII=)}.alfa-control-text{height:30px;color:#999;margin-top:1px;padding:0 4px;text-align:center;font-size:14px;-webkit-user-select:none;-webkit-user-drag:none;cursor:default}.alfa-sub-group{position:absolute}.alfa-skip-button{z-index:2;cursor:pointer;position:absolute;left:0;top:0;padding:8px}.alfa-skip-button-text{color:#777;font-size:16px;text-shadow:1px 1px #333}.alfa-timebar{flex:1 0 auto;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;position:relative;height:100%;margin:0 12px}.alfa-timebar__rail{position:absolute;left:0}.alfa-timebar__seek-rail{width:100%}.alfa-timebar__buff-rail,.alfa-timebar__play-rail{width:0}.alfa-timebar__rail-filling{position:absolute;height:7px;top:12px;left:0;width:100%}.alfa-timebar__seek-rail-filling{background-color:#969696}.alfa-timebar__buff-rail-filling{background-color:#c4c4c4}.alfa-timebar__play-rail-filling{background:#9e171b;background:linear-gradient(180deg,#e2393e 0,#e2393e 10%,#9e171b 11%,#9e171b 90%,#711113 91%,#711113)}.alfa-timebar__thumb{position:absolute;cursor:default;left:0;margin-left:-12px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAilBMVEXyIw4AAADyIw7yIw7yIw7yIw7yIw7yIw7yIw7yIw6amZnyIw7yIw7yIw7yIw7yIw7yIw6rqamYlpaji4mxfnr/zMj9cGPyLxzyIw7yIw7yIw7yIw7//v7FxMTw7Oyik5LKubj/7Or/4+C8i4f0wLz/ubO7cmvmYFTbSjzyIw6WlpbR0dHGxsa0tLQuk9KgAAAAKnRSTlNmAGFSCzkkBwEv/kkoHlwEZf383b+8f2pYRhYx/f366Ofg1MC9qqqDfVv1G63tAAABXElEQVRIx6WW6ZaCMAxGP9OylW1QcN93Ud//9QYdZ6QNKj1z/8I9bdM0CTomfuyEggASoRP77LMheO6IUINGrvdGSCcEBgXpC8GPEjSSRH6TIAVeIiQXYsIbKDaF6Atv+Yp0wcVH3LowJnyExk9BntCCk/wVfIFWCP8hBGhJ8CNIQktI3gUHrXFugkdoDXmVEMCCoBIEGP1iNZ2uij4YogMPjN38kimVXeY7MCRYUgzWZ1XeUef1gCUIWIyKa/nHtWBxQmjuf1bWmJnnCDGEzlbVBbWFzhAEnWWpsYQOwSTThQyfULqgzJfH1ljowgI6xA690YWNeWgW1kO3rNE9sLCyi8vrQs4vjqdG7/l/ryE1PDD23cd+9mDIxvQ+5tUqvfwIhrB+QPZP1L4I2JcZ+0JmXyo7MkELEmlb7m0bim3Lsm2Ktm3XtrFbjQ6T9J/DiUl6G39QcRt/Uvb5G/8VJ41wKa7hAAAAAElFTkSuQmCC);background-position:50% 50%;background-size:27px 27px;background-repeat:no-repeat;width:27px;height:30px}.alfa-volume__button{position:relative;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxCAMAAABEQrEuAAAARVBMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkBVNYgAAAAFnRSTlMAfPoINvCI4R1sTbfFnC6mVxTSkWNDTysOqQAAAVNJREFUSMft1duSgyAMBuAIongAxUPe/1F3DM4G0wXa253+V4TON0CwCt8803wMUEx0TQ2gAIiLLgOUAHHWBSDEipRJlwCKKcqeB1LAqmhyzAMpYCTS6zyQAgbelwBCdP0JMdM1q2wW4G9b1QAUa67pLgvwBlea5FejcwBvkLQoqHuMHCGCU4hJi5Zr7PLiit9iMcQOky4L0HNcJBa0ZCgLsIoqTwWteFYEuLgtPshRE2Ny1zvhmmipWvh6mveE+0AMyA+He2tXE1Urj9eKGDF5ZHtqdFm0hoqJCktYl4QeVCxaPtIMSTohbI+YLAHz6x/EpYL31Iekzx4eWZ4iEuOTrm3wjJ5eT77ZtGsHSDKziGTXQAl95vUTNhYUeZMi3CApHIrWCiKFji0xFv6MN1LYmYAaIZNWpYLvZYBsTsWCSQOFrApBEDNCMQeCIL7+df73+QE/JELa9pNv4QAAAABJRU5ErkJggg==)}.alfa-volume__button--mute{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAxBAMAAACBslwvAAAAJ1BMVEUAAACZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmahP7BAAAADHRSTlMAfvU4C+HOtJNeH3hcAp7BAAAAbElEQVQ4y+3JsRFAUBBF0bfzBYgUsCX8SBE0oQQlKEEJUrkSFLBFmZFyIwGBkx59SkNhO43TWNA4jQWN01jQOI0FjdNY0PjdxOmfR3M145Q4mnB6nGKkUYdTDzRacVKmUYuTMo0WnApHm95wAF81xABwygXiAAAAAElFTkSuQmCC)}.alfa-volume__bar{position:absolute;bottom:33px;left:-1px;width:24px;height:140px;border:1px solid #3b3b3b;border-radius:3px;background:#201f1f}.alfa-volume__rail{background:#999}.alfa-volume__current,.alfa-volume__rail{top:7px;bottom:7px;left:0;position:absolute;width:4px;margin-left:9px}.alfa-volume__current{background:#9e171b}.alfa-volume__thumb{bottom:0;position:absolute;width:100%;height:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAkFBMVEUAAAA4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODgyMjKWlpY4ODg1NTUzMzM3NzeZmZnGxsampqbV1dWtra2SkpJ5eXlsbGxVVVWfn5/9/f3p6em0tLSLi4uEhIRgYGBNTU1CQkJIqitwAAAAGHRSTlMA85H3GxIE57h5Zk/PzFoKXtuwcjYk78byb3lkAAABrUlEQVRIx51WWZaCQAykRZAdBkUl7CC46/1vN/10xoYEQaxPrSKVEJJIBKo502wZQLa1malKI1Acn0ELzHeUAbqrrzkpieJ4yxHHUQIAa919Q1eNBUDEuW3EEcDC6HUW2ACJoAsJD2MHlG8yQacSZmK+wd1s34L7Mrp8B/OpwmnzVzIgO8QWyCvBny/o82mMxfxVz43gDyk2/9XVIdl+gAT0P0NMJDCcBnuamglDY6Zmj34TAcZDKFywFAHGQyy5wKYBmrw4HIq8oSFs7ggA/14dszJNy+xY4X8A5pKDHSVZkYYPpEWWYE8OrVF+Cl845bROGkqhycIWsgYloUk/SLBP24J0jwQ/EkM5l2EHJcqaSbhIeVewx2UigrCLFAlkYuncFZyRYE2S3nUFO5w0KeutK7jhstIXV7f5NXlxtDWiXctQhAVeX/Ndqye9uvY0X2973+tLGF7qO21va/IHNPETlZWpQ2DymPlukEmq9dmotNSpw3j6uBfwxheKN3VlTV6KBIEltjTe1Fbw5WKnpwOjpwPT3aHjxPNlaEH2PUUagcvPHws4LH7+0If/AnR0rSTRtQzxAAAAAElFTkSuQmCC);background-position:50% 50%;background-size:20px 20px;background-repeat:no-repeat}.alfa-share-button{background-image:url(data:image/png;base64,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);background-position:50% 50%;background-size:100%;background-repeat:no-repeat;width:100px;height:78px;opacity:.4;cursor:pointer}.alfa-share-background,.alfa-share-button{z-index:2;position:absolute;right:2px;top:4px}.alfa-share-background{display:table;width:142px;height:48px;background:#212222;white-space:nowrap;overflow:hidden;border-spacing:2px}.alfa-share-socials{height:100%;width:100%;display:table-row}.alfa-share-background-big{display:table;margin:auto;left:0;right:0;top:0;bottom:0;height:100%;width:100%;border-spacing:8px}.alfa-share-more-button{position:absolute;right:0;bottom:0;height:50%;width:24px;color:#fff;text-align:center;background-image:url(data:image/png;base64,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);background-position:50% 50%;background-size:18px 18px;background-repeat:no-repeat;cursor:pointer;font-size:22px}.alfa-social-button{width:44px;min-height:100%;background-size:100%;display:table-cell;cursor:pointer;background-repeat:no-repeat;background-position:50%}.alfa-social-button-big{display:table-cell}.alfa-social-facebook{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAPFBMVEVKbqlKbqlKbqn///9DaaZBZ6VHa6fQ2elXeK/z9fl+l8D9/f1ph7d5k7/U3eqBmcKitNLDz+Ls7/U8Y6Ob7tO3AAAAAnRSTlPt24xCS8UAAAGLSURBVHja7dvdbuMgEIbh7DAz4PBTHN//va5XWcUtOFarZkqbfu8N8ICQmBNOf05DW5enoZ0AAAAAAAAA4DkAKiLMrMr/EllEaD8LAIuGXOvsfSnFr8211hyozwQgnGqZXFcWajIBsJ59dGuDAJK8WxsFUK7R3SsxbdkAmGZ3t2gPUPJuJEB5docApS0LgFR31BSMAZLiWIB6NxQgZzcWwH4sgFN0x11sAVLd2BOQeXfXxfvyv5mu2QA0XFxbrCkQX9M12rIAxO7I88JKXUYAya6tLrSbPeD47bECnLv7R0oH2QM8024AAAAAAAA8F4BvLbkDLNxkAEhbtQWU1PZwAOe45bpiW5YHAyS7DwVA5rGAmAYDpqAAjAVcfj2gKI0FeAZgMGCWRwM4Ta9yTXFqqp8G9IVb9NICCoW3WYxkemtnJBN9G117rqEUAAAAAAAAAAAAAAAAAADgOwFeAAAAAAAAAACAbwcoXwzIU9NsC+gLTXQ3I4C20Tt71j8mAAAAAAAA/GzA6O//fwFjwpS/mcxUIAAAAABJRU5ErkJggg==)}.alfa-social-twitter{background-image:url(data:image/png;base64,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)}.alfa-social-gplus{background-image:url(data:image/png;base64,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)}.alfa-visible-animation{-ms-transition:opacity .3s ease-in-out,visibility .3s ease-in-out;transition:opacity .3s ease-in-out,visibility .3s ease-in-out;visibility:visible;opacity:1}.alfa-context-menu{display:block;padding:0;margin:0;z-index:2;outline:none;position:fixed;overflow:auto;background:#fff;border-radius:2px;list-style:none;border:1px solid #ccc}.alfa-context-menu li{margin:0;padding:0}.alfa-context-item{display:block;background-color:#fff;color:#313131;font-size:13px;font-family:arial,sans-serif;text-decoration:none;white-space:nowrap;word-wrap:normal;padding:0 25px;margin:0;line-height:25px;cursor:pointer}.alfa-context-item:hover{background-color:#313131;color:#fff}.alfa-adult-warning-base{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#555}.alfa-adult-inner-base{height:100%;width:100%;max-height:320px;max-width:450px;position:relative;top:50%;transform:-ms-translateY(-50%);transform:translateY(-50%);margin:auto;background-color:#efefef}.alfa-adult-main-text{font-size:28px;text-align:center;display:table-row}.alfa-adult-warning-text{font-size:12px;text-align:center;display:table-row}.alfa-adult-leave{position:absolute;left:4px;bottom:2px;padding:5px;cursor:pointer}.alfa-adult-inner-center{top:49%;position:absolute;transform:translateY(-50%);display:table;border-spacing:10px}.alfa-adult-showme{display:table-row}.alfa-adult-show-button{cursor:pointer;display:inline-block;left:50%;position:relative;transform:translateX(-50%);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;font-family:Arial;color:#fff;font-size:18px;background:#259e33;padding:5px 18px;text-decoration:none}.alfa-adult-show-button:hover{background:#2ab33a}.alfa-overlay-root{position:absolute}.alfa-overlay-close-btn{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAkFBMVEUAAAAGBgYICAgFBQU8PDxCQkIEBAQHBwcVFRUbGxsgICAiIiIMDAwMDAwQEBAQEBAMDAwQEBAWFhYAAADo6Oje3t7b29sGBgY1NTULCwtgYGA3NzehoaFWVlbU1NTQ0NCoqKikpKRtbW1paWk7OztZWVk9PT0RERHLy8vKysrExMTDw8O/v7+9vb2rq6sPDw+JaXvSAAAAE3RSTlMA99vuCwjx114/Liuop356pnxbLZatxQAAARVJREFUKM91Utt2wiAQJDGaxBpvu0mEkIsabbUX///vOqRQ6Dl1noBhZpZlhUWSFXFUR/F2n4gQyXpGDrPN3BPLmEKkL47II2xflb51N60eWC9yqwBRn0r+QXWuQU2qBFbyiz0GCUOTtYYCREjBcAcJqjoxf46X0ni14wfzGRUmIkM4zhqipuTqQHQFD79MrIgULrdwOPQg6IKdIioE8o/GxhzWNCmZNVEsUPIbW8oR/E4UCdzr2KA3CmnX0D/X/MmRYU5YW9MFtW3de8bpdunfs/c9aI1N2V5tD9C4HeoYOMQRnht0dJ4ieggJ12uxXBAMq9//Ifs/QG6oh9L3/q6VDP4UqvTJHCDrn9nx87aa5q3I3Pk3UaYpIafwP+sAAAAASUVORK5CYII=);background-size:25px 25px;position:absolute;width:25px;height:25px;right:0;top:0;cursor:pointer}.alfa-overlay-content-frame{background:#993421;position:absolute;left:0;right:0;bottom:0;top:0;border:1px solid #000;margin:10px}.alfa-display-none{display:none}.alfa-opacity-visible{opacity:1;visibility:visible}.alfa-opacity-50{opacity:.5}.alfa-opacity-hide{opacity:0;visibility:hidden}@media (min-resolution:2dppx) and (min-device-width:800px) and (min-device-height:400px) and (orientation:landscape),only screen and (min-resolution:2dppx) and (min-device-width:400px) and (min-device-height:800px) and (orientation:portrait){.alfa-controls{height:45px}.alfa-button-restart,.alfa-button-start{margin-top:-71px}.alfa-small-restart{margin:4px auto}.alfa-ending-screen{bottom:45px}.alfa-timebar__rail-filling{height:8px;background-size:1px 10px;top:19px}.alfa-timebar__thumb{margin-left:-15px;background-size:100%;width:31px;height:44px}.alfa-controlbar-item{height:45px;line-height:45px}.alfa-ctrl-button-icon{background-size:29px 29px;width:38px;margin:0}.alfa-control-text{height:60px;font-size:20px;padding:0 1px}.alfa-skip-button{padding:12px}.alfa-skip-button-text{font-size:24px}}@media only screen and (min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2){.alfa-button-restart,.alfa-button-start{width:150px;height:150px;margin:-75px 0 0 -75px}.alfa-small-restart{margin:4px auto}.alfa-ending-screen{bottom:75px}.alfa-controls{height:48px}.alfa-timebar{margin:0 24px}.alfa-timebar__rail-filling{height:12px;background-size:1px 10px;top:18px}.alfa-timebar__thumb{margin:2px 0 0 -24px;background-size:100%;width:44px;height:44px}.alfa-controlbar-item{height:48px;line-height:48px}.alfa-ctrl-button-icon{background-size:40px 40px;width:58px;margin:0}.alfa-control-text,.alfa-skip-button-text{font-size:32px}}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles/player.scss\n// module id = 28\n// module chunks = 0","import EventSystem from '@/system/eventSystem';\r\nimport { createVastError, VAST_ERRORS } from '@/system/errors';\r\n\r\nexport const EVENTS = {\r\n    VAST_ERROR: 'vast_error'\r\n};\r\n\r\nexport class CompanionArea extends EventSystem {\r\n    constructor(parentElement, height, width, companion) {\r\n        super();\r\n\r\n        this.companionInfo = companion;\r\n        this.clickThrough = companion.clickThrough;\r\n\r\n        const content = this.companionRoot = document.createElement('img');\r\n        content.src = companion.staticResource;\r\n        content.style.margin = '0px';\r\n        content.style.padding = '0px';\r\n\r\n        // emit VAST error if target resource cannot be loaded\r\n        content.onerror = () => {\r\n            const error = createVastError(VAST_ERRORS.COMPANION_FETCH, `Companion resource '${content.src}' is not accessible.`);\r\n            this.emit(EVENTS.VAST_ERROR, error);\r\n        };\r\n\r\n        parentElement.style.width = width + 'px';\r\n        parentElement.style.height = height + 'px';\r\n\r\n        parentElement.appendChild(content);\r\n\r\n        content.addEventListener('click', this.onCompanionClick.bind(this));\r\n    }\r\n\r\n    remove() {\r\n        this.companionRoot.parentNode.removeChild(this.companionRoot);\r\n    }\r\n\r\n    onCompanionClick() {\r\n        window.open(this.clickThrough, '_blank');\r\n    }\r\n}\r\n\r\n/**\r\n * Create new companion UI object\r\n *\r\n * @param companionConfig\r\n * @param companions\r\n * @returns {CompanionArea|null}\r\n */\r\nCompanionArea.create = function (companionConfig, companions) {\r\n    const rootElement = document.getElementById(companionConfig.id);\r\n    if (!rootElement) {\r\n        console.log('[alfa] Companion DOM element not found by \"#' + companionConfig.id + '\"');\r\n        return null;\r\n    }\r\n\r\n    // filter companions array for matching by dimensions images\r\n    const filtered = companions.filter((companion) => {\r\n        // filter by companion type\r\n        if (!companion.staticResource) {\r\n            return false;\r\n        }\r\n        // filter by dimensions\r\n        if (companion.width !== companionConfig.width || companion.height !== companionConfig.height) {\r\n            return false;\r\n        }\r\n        // for now only images\r\n        return companion.creativeType === null || (typeof companion.creativeType === 'string' && companion.creativeType.indexOf('image') >= 0);\r\n    });\r\n\r\n    // we need only first match\r\n    if (filtered.length > 0) {\r\n        return new CompanionArea(rootElement, companionConfig.height, companionConfig.width, filtered[0]);\r\n    }\r\n\r\n    return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/companionArea.js","import { assign } from 'alfa-common/lib/polyfills/assign';\nimport { ensureProtocol } from 'alfa-common/lib/utils/url';\nimport { URL } from '@/data/constants';\nimport { settings } from '@/data/settings';\nimport { parseYoutubeID } from '@/utils/url';\n\nconst VAST_TAG_DOMAIN = 'videmob.com';\n\n/**\n * External config format:\n *\n * {\n *   \"adult\": boolean,     // should player show adult warning dialog before playing video\n *   \"videoURL\": string,   // Video file to play URL\n *   \"poster\": string,     // An image preview to the video before playing starts URL\n *   \"title\": string,      // A string that describes the video title. Title is used for the share mechanism and ads targeting\n *   \"description\": string,  // Textual video description. Description is used for share mechanism and ads targeting\n *   \"mute\": boolean,      // Specifies whether the video should start playing muted or not\n *   \"autoPlay\": boolean,  // Specifies whether the video should start playing automaticaly when page is loaded\n *   \"parentId\": string,   // HTML element id which will be the parent for the player\n *   \"adonly\": boolean,    // Set to true if you want to show an ad without videoURL parameter (for players created with the 'create' function),\n *   \"height\": number,     // Player height (optional – in pixels)\n *   \"width\": number,      // Player width (optional – in pixels)\n *   \"site_url\": string,   // Site URL where the player is being used\n *   \"passback\": string,      // 3rd party URL for returning an ad in case an ad is not returned for main request. (optional)\n *   \"passback_js\": string,   // JavaScript code or URL to JavaScript code to return ad in case of an ad is not returned for main request. (optional)\n *   \"passback_html\": string, // URL to HTML page to return ad in case of an ad is not returned for main request. (optional)\n *\n *   \"app_bundle\": string, // is player injected in native application\n *   \"ads\": {\n *     \"vasturl\": string,\n *     \"vastxml\": string,\n *     \"autogetad\": boolean,  // default = true\n *     \"skipoffset\": number\n *   },\n *   \"isVPAID\": boolean,\n *   \"videoTag\": string,\n *   \"gui\": {\n *     \"noGUI\": boolean,         // disable bottom control panel\n *     \"noFullscreen\": boolean,  // disable fullscreen functionality\n *     \"noSharing\": boolean,     // disable sharing controls\n *     \"showMuted\": boolean      // show\\hide floating mute button\n *   },\n *   \"androidsdk\": boolean,\n *   \"video_autoplay\": boolean,\n *   \"noUI\": boolean,\n *   \"ssl\": boolean,\n *   \"isshare\": boolean,\n *   \"viewability\": boolean  // should player pause-play on viewability changes\n * }\n */\nexport default class Config {\n    constructor(pui) {\n        this.pui = pui;\n        // protect from testing to null in every method\n        this.__config = {\n            ads: {},\n            gui: {}\n        };\n        this.__shareUrl = null;\n        this.__youtubeID = null;\n    }\n\n    init(externalConfig) {\n        // merge external config with internal, if it was present\n        this.__config = assign({}, this.__config, externalConfig);\n        this.__config.ads = this.__config.ads || {};\n        this.__config.gui = this.__config.gui || {};\n\n        if (this.__config.adult == null) {\n            this.__config.adult = false;\n        }\n\n        this.__shareUrl = __generateShareUrl(this.__config);\n        this.__youtubeID = parseYoutubeID(this.__config.videoURL);\n\n        // init protocol for URL formatting of 'onload' and 'error' requests\n        settings.urlProtocol = this.getProtocol();\n    }\n\n    getPUI() {\n        return this.pui;\n    }\n\n    getShareUrl(pui) {\n        if (pui) {\n            return this.__shareUrl + '&pui=' + encodeURI(pui);\n        }\n        if (this.pui) {\n            return this.__shareUrl + '&pui=' + encodeURI(this.pui);\n        }\n        return this.__shareUrl;\n    }\n\n    getShowAdUrl() {\n        const url = URL.SHOW_AD +\n            __urlParam('cr_video_autoplay', true, '?') +\n            __urlParam('cr_adonly', true) +\n            __urlParam('cr_adult', false) +\n            __urlParam('pui', this.pui);\n        return ensureProtocol(url, this.getProtocol());\n    }\n\n    getPosterUrl() {\n        return __get(this.__config, 'poster', '');\n    }\n\n    isFullscreenRestricted() {\n        return __getB(this.__config.gui, ['noFullscreen', 'fullscreen']);\n    }\n\n    isMute() {\n        return __get(this.__config, ['mute', 'muted']);\n    }\n\n    isAdult() {\n        return __getB(this.__config, 'adult');\n    }\n\n    isInApp() {\n        return typeof(this.__config.app_bundle) === 'string' && this.__config.app_bundle.length > 0;\n    }\n\n    isNoUI() {\n        return Boolean(this.__config.noUI || this.__config.gui.noGUI);\n    }\n\n    isNoSharingUI() {\n        return Boolean(this.__config.gui.noSharing);\n    }\n\n    isMutedVisible() {\n        return Boolean(this.__config.gui.showMuted);\n    }\n\n    isAndroidSDK() {\n        return Boolean(this.__config.androidsdk);\n    }\n\n    isAutoplay() {\n        return Boolean(this.__config.autoPlay || this.__config.video_autoplay || this.__config.autoplay);\n    }\n\n    isAutoGetAds() {\n        return this.__config.ads.autogetad != null ? Boolean(this.__config.ads.autogetad) : true;\n    }\n\n    isAdOnly() {\n        return Boolean(this.__config.adOnly || this.__config.adonly);\n    }\n\n    isVPAID() {\n        return Boolean(this.__config.isVPAID);\n    }\n\n    shouldRespectViewability() {\n        return Boolean(this.__config.viewability);\n    }\n\n    getProtocol() {\n        if (this.__config.ssl != null) {\n            return this.__config.ssl ? 'https:' : 'http:';\n        }\n        return location.protocol;\n    }\n\n    hasPassback() {\n        return Boolean(this.getPassback() || this.getPassbackJS() || this.getPassbackHTML());\n    }\n\n    getPassback() {\n        return ensureProtocol(this.__config.passback, this.getProtocol());\n    }\n\n    getPassbackJS() {\n        return this.__config.passback_js || this.__config.passbackjs;\n    }\n\n    getPassbackHTML() {\n        return this.__config.passback_html || this.__config.passbackhtml;\n    }\n\n    getSkipOffset() {\n        return this.__config.ads.skipoffset;\n    }\n\n    getWidth() {\n        return this.__config.width;\n    }\n\n    getHeight() {\n        return this.__config.height;\n    }\n\n    getYoutubeID() {\n        return this.__youtubeID;\n    }\n\n    getVideoFile() {\n        return this.__config.videoURL || this.__config.file || '';\n    }\n\n    getSiteUrl() {\n        if (this.__config.site_url != null) {\n            return this.__config.site_url;\n        }\n\n        if (document.referrer.length > 0 && this.__config.isshare === true) {\n            return document.referrer;\n        }\n\n        return window.location.toString();\n    }\n\n    getSource() {\n        return this.isInApp() ? this.__config['app_bundle'] : this.getSiteUrl();\n    }\n\n    getFetchVastUrl() {\n        return this.__config.ads.vasturl;\n    }\n\n    getProvidedVastXML() {\n        return this.__config.ads.vastxml;\n    }\n\n    generateVastTagUrl(rect) {\n        let vastUrl;\n\n        const isInApp = this.isInApp();\n        // browser language\n        const lang = (navigator.language || '').substr(0, 2) || 'en';\n\n        // determine base url\n        if (settings.isDev) {\n            vastUrl = settings.vast_url;\n        } else {\n            const subDomain = (settings.env && ('.' + settings.env)) || (!isInApp && 'web') || '';\n            vastUrl = this.getProtocol() + '//vast' + subDomain + '.' + VAST_TAG_DOMAIN + '/vmvast.php';\n        }\n\n        vastUrl += __urlParam('type', isInApp ? 1 : 0, '?');\n        vastUrl += __urlParam('app_type', settings.getAppType());\n        vastUrl += __urlParam('pui', this.pui);\n        vastUrl += __urlParam('ua', navigator.userAgent);\n        vastUrl += __urlParam('siteurl', this.getSiteUrl());\n        vastUrl += __urlParam('player_width', rect.width);\n        vastUrl += __urlParam('player_height', rect.height);\n        vastUrl += __urlParam('video_title', this.__config.title);\n        vastUrl += __urlParam('video_desc', (this.__config.description || '').slice(0, 80));\n        vastUrl += __urlParam('video_autoplay', this.isAutoplay());\n        vastUrl += __urlParam('video_url', this.getVideoFile());\n        vastUrl += __urlParam('protocol', 'full');\n        vastUrl += __urlParam('user_lng', lang);\n\n        // params for mobile application in which player wrapped\n        vastUrl += __joinParams(this.__config, ['app_bundle', 'app_name', 'app_store']);\n        // params fo mobile traffic\n        vastUrl += __joinParams(this.__config, ['didsha1', 'didmd5', 'dpidsha1', 'dpidmd5', 'macsha1', 'macmd5']);\n        vastUrl += __joinParams(this.__config, ['aid', 'did', 'mac', 'instl', 'custompubid', 'custompubid2', 'custompubid3']);\n        vastUrl += __joinParams(this.__config, ['user_yob', 'user_gen', 'coppa']);\n        vastUrl += __joinParams(this.__config, ['lat', 'lon']);\n        vastUrl += __joinParams(this.__config, ['lmt', 'dnt']);\n\n        // add random as last param, for easier testing\n        vastUrl += '&rnd=' + Math.floor(Math.random() * 1000000);\n\n        return vastUrl;\n    }\n\n    getParentElement() {\n        if (this.__config.parentElement) {\n            return this.__config.parentElement;\n        }\n        if (this.__config.parentId) {\n            return document.getElementById(this.__config.parentId);\n        }\n        return null;\n    }\n\n    getCompanionConfig() {\n        return this.__config.ads.companiondiv;\n    }\n\n    getVideoElement() {\n        return this.__config.videoTag;\n    }\n\n    fillNotifyProps(data) {\n        data.pui = this.getPUI();\n        data.src = this.getSource();\n        data.w = this.getWidth();\n        data.h = this.getHeight();\n        data.ssl = Boolean(this.__config.ssl);\n        data.autoplay = Boolean(this.isAutoplay());\n        data.mute = Boolean(this.isMute());\n    }\n}\n\nfunction __generateShareUrl(config) {\n    let result = '';\n\n    for (let propName in config) {\n        if (!config.hasOwnProperty(propName)) {\n            continue;\n        }\n\n        if (typeof config[propName] !== 'object') {\n            if (propName !== 'parentId' && propName !== 'video_autoplay') {\n                if (typeof config[propName] === 'string') {\n                    result += 'cr_' + propName + '=\\'' + encodeURI(config[propName].replace(/\\\\/g, '\\\\\\\\')).replace(/'/g, '\\\\%27').replace(/&/g, '%26') + '\\'';\n                } else {\n                    result += 'cr_' + propName + '=' + config[propName];\n                }\n                result += '&';\n            }\n        }\n    }\n    result += 'cr_video_autoplay=true&cr_isshare=true';\n    return result;\n}\n\nfunction __joinParams(config, params) {\n    params = params || [];\n\n    return params.reduce((result, param) => {\n        return result + __urlParam(param, config[param]);\n    }, '');\n}\n\nfunction __urlParam(name, value, separator) {\n    if (value == null || value === '') {\n        return '';\n    }\n    return (separator || '&') + name + '=' + encodeURIComponent(value);\n}\n\n/**\n * Get value of object property, with case-insentivity, with ability to search various property names and setting default value\n *\n * @param {Object}               object         Object\n * @param {Array<String>|String} propNames      Property name(s)\n * @param {*}                    [defaultValue] Default value\n * @returns {*} Property value\n */\nfunction __get(object, propNames, defaultValue) {\n    if (Array.isArray(propNames)) {\n        for (let i = 0; i < propNames.length; i++) {\n            const value = __pick(object, propNames[i]);\n            if (value != null) {\n                return value;\n            }\n        }\n    } else {\n        const value = __pick(object, propNames);\n        if (value != null) {\n            return value;\n        }\n    }\n\n    return defaultValue;\n\n    function __pick(object, prop) {\n        if (object[prop] != null) {\n            return object[prop];\n        }\n        if (object[prop.toLowerCase()] != null) {\n            return object[prop.toLowerCase()];\n        }\n        if (object[prop.toUpperCase()] != null) {\n            return object[prop.toUpperCase()];\n        }\n    }\n}\n\nfunction __getB(object, propNames, defaultValue) {\n    return !!__get(object, propNames, defaultValue);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/data/config.js","import fscreen from 'fscreen';\nimport enableInlineVideo from 'iphone-inline-video';\n\nimport { PLAYER_EVENTS, MEDIA_EVENTS } from '@/data/constants';\nimport { parsedUA as ua } from '@/data/userAgent';\nimport { STYLES } from '@/ui/styles';\nimport { playWhenCan } from '@/utils/common';\nimport YoutubePlayer from '@/players/youtube';\nimport VPAIDPlayer from '@/players/vpaid';\nimport { settings } from '@/data/settings';\n\nimport { Background, EVENTS as BACKGROUND_EVENTS } from './background';\nimport { IconsContainer, EVENTS as ICON_EVENTS } from './iconsContainer';\nimport { Overlay, EVENTS as OVERLAY_EVENTS } from './overlay';\nimport { SkipButton, EVENTS as SKIP_BUTTON_EVENTS } from './skipButton';\nimport { AdultDialog, EVENTS as ADULT_DIALOG_EVENTS } from './adultDialog';\nimport { ControlsBar, EVENTS as CONTROLS_BAR_EVENTS } from './controlsBar';\nimport { ShareButton, EVENTS as SHARE_BUTTON_EVENTS } from './shareButton';\nimport { ShareDialog, EVENTS as SHARE_DIALOG_EVENTS } from './shareDialog';\nimport { showContextMenuAt } from './contextMenu';\nimport { isElementPartiallyInViewport } from './utils';\nimport { ViewabilityObserver, EVENTS as VIEWABILITY_EVENTS } from '../utils/viewability';\n\nconst CHECK_PLAYER_TIMEOUT = 5000;\n\nexport default class UIManager {\n    constructor(wap) {\n        this.wap = wap;\n        this.randomId = Math.random();\n        this._volume = 1;\n\n        // root element\n        this.background = new Background();\n        // container for video players\n        this.mediaSpan = null;\n        // current video player\n        this.videoElement = null;\n\n        // share button and hideable share panel\n        this.shareButton = new ShareButton();\n        this.shareDialog = new ShareDialog(false);\n\n        this.videoPoster = null;\n        this.loadingIndicator = null;\n        this.skipButton = null;\n        this.closeButton = null;\n        this.nonLinear = null;\n        this.buttonStart = null;\n\n        // icons\n        this.iconsContainer = new IconsContainer();\n\n        // controls frame elements\n        this.controlsBar = new ControlsBar();\n        this.hideControlsTimer = null;\n\n        // viewability observer\n        this.viewability = null;\n\n        this.onThisPauseEvent = this.onPauseEvent.bind(this);\n        this.onPlayFinished = wap.onPlayFinished.bind(wap);\n        this.onVideoError = wap.onVideoError.bind(wap);\n        this.onThisPlayEvent = this.onPlayEvent.bind(this);\n    }\n\n    createMainUI(config) {\n        if (this.videoElement || this.background.element) {\n            return;\n        }\n\n        window.addEventListener('message', this.onWindowMessage.bind(this), false);\n        document.addEventListener('contextmenu', this.onContextMenuRequested.bind(this), false);\n\n        const background = this.background;\n        background.create(config.getParentElement(), config.getWidth(), config.getHeight());\n        background.on(BACKGROUND_EVENTS.MOUSE_OVER_PLAYER, this.onMouseOverPlayer.bind(this));\n        background.on(BACKGROUND_EVENTS.MOUSE_OUT_OF_PLAYER, this.onMouseOutOfPlayer.bind(this));\n\n        // viewability observer\n        this.viewability = new ViewabilityObserver(this.background.element);\n        this.viewability.on(VIEWABILITY_EVENTS.VISIBLE, () => {\n            // report player info (with viewability) to server - only on DEBUG build\n            if (settings.isDebug) {\n                this.wap.notifyInfo('viewability');\n            }\n\n            // if allowed, we should PLAY on viewability change\n            if (config.shouldRespectViewability()) {\n                this.viewabilityPlay();\n            }\n        });\n        this.viewability.on(VIEWABILITY_EVENTS.HIDDEN, () => {\n            // report player info (with viewability) to server - only on DEBUG build\n            if (settings.isDebug) {\n                this.wap.notifyInfo('viewability');\n            }\n\n            // if allowed, we should PAUSE on viewability change\n            if (config.shouldRespectViewability()) {\n                this.viewabilityPause();\n            }\n        });\n\n        const mediaSpan = this.mediaSpan = document.createElement('span');\n        mediaSpan.className = 'alfa-media-span';\n\n        if (ua.isIOSSmall || ua.isUCBrowser) {\n            mediaSpan.classList.add(STYLES.OPACITY_HIDDEN);\n        }\n\n        background.addElement(mediaSpan);\n\n        this.createVideoTag(config);\n\n        if (config.getYoutubeID()) {\n            if (this.wap.isAllowYoutubeWrapper()) {\n                let youtube = this.youtubePlayer = new YoutubePlayer();\n                youtube.includeYoutubeAPI();\n                youtube.createElement(mediaSpan, config.getYoutubeID());\n                this.videoMain = youtube;\n                youtube.addEventListener(MEDIA_EVENTS.play, this.onPlayEvent.bind(this));\n                youtube.addEventListener(MEDIA_EVENTS.timeupdate, this.onTimeupdateEvent.bind(this));\n                youtube.addEventListener(MEDIA_EVENTS.durationchange, this.onDurationchangeEvent.bind(this));\n                youtube.addEventListener(MEDIA_EVENTS.ended, this.onPlayFinished);\n                youtube.addEventListener(MEDIA_EVENTS.error, this.onVideoError);\n                youtube.addEventListener(PLAYER_EVENTS.CLICK, this.wap.onPlayerClickMain.bind(this.wap));\n                youtube.addEventListener(PLAYER_EVENTS.BUFFERING, this.onBuffering.bind(this));\n            } else {\n                this.videoMain = null;\n            }\n        } else {\n            this.videoMain = this.videoElement;\n        }\n\n        if (!ua.isMobile) {\n            if (config.isMute() != null) {\n                if (config.isMute())\n                    this.setVolume(0);\n                else\n                    this.setVolume(1);\n            } else if (!config.isVPAID()) {\n                this.setVolume(settings.volume);\n            }\n        }\n\n        // if adult flag is present, then show warning dialog before showing UI\n        if (config.isAdult()) {\n            this.showAdultDialog();  // call showUI() there, if user agrees with warning\n        } else {\n            this.showUI();\n        }\n\n        if (!config.isVPAID()) {\n            setTimeout(() => this.onCheckCurrentPlayer(), CHECK_PLAYER_TIMEOUT);\n        }\n    }\n\n    createVideoTag(config) {\n        let elementReplaced = false;\n        if (this.videoElement) {\n            this.mediaSpan.removeChild(this.videoElement);\n            elementReplaced = true;\n        }\n\n        let videoElement;\n        if (config.getVideoElement()) {\n            console.log('[alfa] change videoElement to config.getVideoElement()');\n\n            videoElement = this.videoElement = config.getVideoElement();\n            // set player background to full translucent, so we can see underneath player if we injected as VPAID player\n            this.background.enableTranslucence();\n        } else {\n            console.log('[alfa] change videoElement to document.createElement(\"video\")');\n\n            videoElement = this.videoElement = document.createElement('video');\n            videoElement.style.cssText = 'width:100%;height:100%;';\n\n            // HINT: added for iOS - elements will now be allowed to play inline, and will not automatically enter fullscreen mode when playback begins\n            videoElement.setAttribute('webkit-playsinline', '');\n            videoElement.setAttribute('playsinline', '');\n\n            // HINT: support autoplay on iOS <= 9 (iphone and ipad)\n            enableInlineVideo(videoElement, { iPad: true });\n\n            // mute video to support autoplay without user gesture on:\n            //   - iOS\n            //   - Android\n            //   - Chrome 66+\n            if (config.isMute()) {\n                videoElement.setAttribute('muted', '');\n                videoElement.muted = true;\n            }\n\n            this.mediaSpan.appendChild(videoElement);\n            videoElement.addEventListener(MEDIA_EVENTS.canplay, () => {\n                this.hideLoadingIndicator();\n                if (this.videoElement.paused) {\n                    this.showStartButton();\n                }\n            });\n        }\n\n        videoElement.addEventListener(MEDIA_EVENTS.waiting, () => this.showLoadingIndicator());\n        videoElement.addEventListener(MEDIA_EVENTS.playing, () => this.hideLoadingIndicator());\n        videoElement.addEventListener(MEDIA_EVENTS.loadstart, () => {\n            if (videoElement.src !== '') {\n                this.showLoadingIndicator();\n            }\n        });\n\n        videoElement.addEventListener(MEDIA_EVENTS.ended, this.onPlayFinished);\n        videoElement.addEventListener(MEDIA_EVENTS.error, this.onVideoError);\n\n        this.HTML5Player = videoElement;\n\n        if (elementReplaced) {\n            this.listenVideoEvents();\n        }\n    }\n\n    createVideoControl() {\n        if (!this.background.element) {\n            return;\n        }\n\n        // main controls bar\n        this.controlsBar.create(this.background.element, this.wap.config);\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.PLAY_PAUSE_CLICK, this.onPlayPauseClick.bind(this));\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.VOLUME_CLICK, this.onVolumeClick.bind(this));\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.VOLUME_CHANGE, (percent) => {\n            this.setupHideControlsTimer();\n\n            settings.volume = percent;  // save volume to localStorage\n            this.setVolume(percent);    // change volume in video element\n        });\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.FULLSCREEN_CLICK, () => this.onFullscreenClick());\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.TIME_SEEK_START, () => this.onTimeBarSeekStart());\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.TIME_SEEK, (percent) => this.onTimeBarSeek(percent));\n        this.controlsBar.on(CONTROLS_BAR_EVENTS.TIME_SEEK_END, () => this.onTimeBarSeekEnd());\n\n        // fullscreen change event bindings\n        if (fscreen.fullscreenEnabled) {\n            fscreen.addEventListener('fullscreenchange', () => this.onFullscreenChangeEvent());\n        }\n\n        this.listenVideoEvents();\n\n        this.setVolumeUI(this.videoElement.volume);\n    }\n\n    listenVideoEvents() {\n        this.videoElement.addEventListener(MEDIA_EVENTS.play, this.onThisPlayEvent);\n        this.videoElement.addEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n        this.videoElement.addEventListener(MEDIA_EVENTS.timeupdate, this.onTimeupdateEvent.bind(this));\n        this.videoElement.addEventListener(MEDIA_EVENTS.progress, this.onProgressEvent.bind(this));\n        this.videoElement.addEventListener(MEDIA_EVENTS.canplaythrough, this.onCanPlaythroughEvent.bind(this));\n        this.videoElement.addEventListener(MEDIA_EVENTS.durationchange, this.onDurationchangeEvent.bind(this));\n        this.videoElement.addEventListener(MEDIA_EVENTS.loadstart, this.onLoadstartEvent.bind(this));\n    }\n\n    isInViewport() {\n        return isElementPartiallyInViewport(this.background.element);\n    }\n\n    /**\n     * Is element eligible to generate click through event\n     *\n     * @param {Element} element\n     * @returns {boolean} Is valid\n     */\n    isValidForClickThrough(element) {\n        return element === this.videoElement\n            || element === this.background.element\n            || element === this.videoPoster\n            || element === this.iconsContainer.element\n            || element === this.mediaSpan;\n    }\n\n    seekToTime(time) {\n        // 1 = HAVE_METADATA - metadata for the audio/video is ready\n        if (this.videoElement.readyState < 1) {\n            const readyMetadata = () => {\n                this.videoElement.currentTime = time;\n                this.videoElement.removeEventListener(MEDIA_EVENTS.loadedmetadata, readyMetadata);\n            };\n            this.videoElement.addEventListener(MEDIA_EVENTS.loadedmetadata, readyMetadata);\n        } else {\n            this.videoElement.currentTime = time;\n        }\n        this.wap.state.finishedMain = false;\n    }\n\n    showAdultDialog() {\n        const dialog = new AdultDialog();\n        dialog.create(this.background.element);\n        dialog.on(ADULT_DIALOG_EVENTS.AGREED, () => {\n            this.showUI();\n            if (this.wap.config.isAutoplay()) {\n                this.wap.play();\n            }\n        });\n        dialog.on(ADULT_DIALOG_EVENTS.REJECT, () => {\n            window.location = (document.referrer && document.referrer !== window.location) ? document.referrer : 'https://google.com';\n        });\n    }\n\n    showUI() {\n        this.createPoster();\n        this.showStartButton();\n\n        this.createSharingUI();\n\n        this.createVideoControl();\n        this.showShareButton();\n        if (this.wap.config.isNoUI()) {\n            this.controlsBar.hide(true);\n        }\n    }\n\n    showVideoControls() {\n        if (this.wap.config.isNoUI()) {\n            return;\n        }\n\n        this.controlsBar.show();\n        this.setupHideControlsTimer();\n    }\n\n    hideVideoControls(isInstant) {\n        this.controlsBar.hide(isInstant);\n    }\n\n    isVideoControlVisible() {\n        return this.controlsBar.isVisible();\n    }\n\n    setupHideControlsTimer(timeout) {\n        if (ua.isMobile && this.wap.scheduler.stage.isAd() || this.wap.scheduler.stage.isBegin()) {\n            return;\n        }\n\n        timeout = timeout || 2500;\n        clearTimeout(this.hideControlsTimer);\n        this.hideControlsTimer = setTimeout(() => {\n            if (ua.isMobile && this.wap.scheduler.stage.isAd()) {\n                return;\n            }\n\n            if (!this.videoElement.paused) {\n                this.controlsBar.hide();\n            }\n        }, timeout);\n    }\n\n    showYoutubePlayer() {\n        if (this.videoElement !== this.youtubePlayer) {\n            this.videoElement.style.visibility = 'hidden';\n            this.videoElement.style.display = 'none';\n            this.videoElement.removeEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n            this.videoElement.pause();\n\n            if (this.youtubePlayer) {\n                console.log('[alfa] change videoElement to this.youtubePlayer');\n\n                this.videoElement = this.youtubePlayer;\n                // this.videoElement.style.visibility = 'visible';\n                // this.videoElement.style.display = 'inline';\n                this.videoElement.addEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n\n                this.controlsBar.totalTime.setTime(this.videoElement.duration);\n            } else {\n                console.log('[alfa] change videoElement to null');\n\n                this.videoElement = null;\n            }\n        }\n    }\n\n    showHTML5Player() {\n        let HTML5Player = this.HTML5Player;\n        let videoElement = this.videoElement;\n        if (videoElement !== HTML5Player) {\n            videoElement.style.visibility = 'hidden';\n            videoElement.style.display = 'none';\n            videoElement.removeEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n            videoElement.removeEventListener(MEDIA_EVENTS.ended, this.onPlayFinished);\n            videoElement.removeEventListener(MEDIA_EVENTS.play, this.onThisPlayEvent);\n            videoElement.removeEventListener(MEDIA_EVENTS.error, this.onVideoError);\n            if (!videoElement.paused)\n                videoElement.pause();\n\n            console.log('[alfa] change videoElement to HTML5Player');\n\n            this.videoElement = HTML5Player;\n            HTML5Player.style.visibility = 'visible';\n            HTML5Player.style.display = 'inline';\n            HTML5Player.style.width = '100%';\n            HTML5Player.style.height = '100%';\n\n            HTML5Player.addEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n            HTML5Player.addEventListener(MEDIA_EVENTS.ended, this.onPlayFinished);\n            HTML5Player.addEventListener(MEDIA_EVENTS.play, this.onThisPlayEvent);\n            HTML5Player.addEventListener(MEDIA_EVENTS.error, this.onVideoError);\n            if (this.youtubePlayer)\n                this.youtubePlayer.style.visibility = 'hidden';\n        }\n    }\n\n    showVPAIDPlayer() {\n        let vpaidPlayer = this.VPAIDPlayer;\n\n        if (!vpaidPlayer) {\n            if (ua.isMobile)\n                this.videoElement.load();\n            vpaidPlayer = this.VPAIDPlayer = new VPAIDPlayer(this.mediaSpan, this.HTML5Player, this.wap);\n            vpaidPlayer.addEventListener(MEDIA_EVENTS.play, this.onThisPlayEvent);\n            vpaidPlayer.addEventListener(MEDIA_EVENTS.timeupdate, this.onTimeupdateEvent.bind(this));\n            vpaidPlayer.addEventListener(MEDIA_EVENTS.ended, this.onPlayFinished);\n            vpaidPlayer.addEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n            vpaidPlayer.addEventListener(MEDIA_EVENTS.durationchange, this.onDurationchangeEvent.bind(this));\n            vpaidPlayer.addEventListener(MEDIA_EVENTS.error, this.onVideoError);\n\n            vpaidPlayer.addEventListener(PLAYER_EVENTS.AD_CLICK_THROUGH, this.wap.onClickThrough.bind(this.wap));\n            vpaidPlayer.addEventListener(PLAYER_EVENTS.AD_CLICK_THROUGH, () => {\n                this.wap.emit(PLAYER_EVENTS.AD_CLICK_THROUGH);\n            });\n        }\n\n        if (this.videoElement !== this.VPAIDPlayer) {\n            this.HTML5Player.style.visibility = 'visible';\n            this.HTML5Player.style.display = 'inline';\n            this.HTML5Player.removeEventListener(MEDIA_EVENTS.pause, this.onThisPauseEvent);\n            this.HTML5Player.removeEventListener(MEDIA_EVENTS.ended, this.onPlayFinished);\n            this.HTML5Player.removeEventListener(MEDIA_EVENTS.play, this.onThisPlayEvent);\n            this.HTML5Player.removeEventListener(MEDIA_EVENTS.error, this.onVideoError);\n            this.HTML5Player.pause();\n\n            this.hidePoster();\n\n            console.log('[alfa] change videoElement to this.VPAIDPlayer');\n\n            this.videoElement = this.VPAIDPlayer;\n            this.videoElement.style.visibility = 'visible';\n            this.videoElement.style.display = 'inline';\n        }\n    }\n\n    showShareDialog(shareUrl) {\n        this.shareButton.hide();\n        this.shareDialog.show(shareUrl);\n    }\n\n    morphToAdsLayout() {\n        this.hideShareButton();\n        this.controlsBar.morphToAdsLayout();\n        this.onTimeupdateEvent();\n    }\n\n    morphToWaitingAdsLayout() {\n        this.morphToAdsLayout();\n        this.showLoadingIndicator();\n\n        this.controlsBar.morphToWaitingAdsLayout();\n    }\n\n    morphToNormalLayout() {\n        this.controlsBar.morphToNormalLayout();\n    }\n\n    showCloseButton() {\n        if (!this.closeButton) {\n            let closeButton = this.closeButton = document.createElement('div');\n            closeButton.className = 'alfa-button-close';\n            closeButton.innerHTML = '&#xd7;';\n            this.background.addElement(closeButton);\n            closeButton.addEventListener('click', this.wap.onCloseClick.bind(this.wap));\n        }\n    }\n\n    hideCloseButton() {\n        if (this.closeButton) {\n            this.background.removeElement(this.closeButton);\n            this.closeButton = null;\n        }\n    }\n\n    showLoadingIndicator() {\n        if (this.wap.config.isAndroidSDK())\n            return;\n\n        if (!this.loadingIndicator) {\n            this.loadingIndicator = document.createElement('div');\n            this.loadingIndicator.className = STYLES.LOADING_INDICATOR;\n            if (this.wap.config.isVPAID()) {\n                this.loadingIndicator.classList.add(STYLES.LOADING_INDICATOR_VPAID);\n            }\n            this.background.addElement(this.loadingIndicator);\n        }\n    }\n\n    hideLoadingIndicator() {\n        if (this.loadingIndicator) {\n            this.background.removeElement(this.loadingIndicator);\n            this.loadingIndicator = null;\n        }\n    }\n\n    showSkipButton(skipOffset) {\n        if (this.background.element && !this.skipButton) {\n            // create SkipButton\n            this.skipButton = new SkipButton(skipOffset);\n            this.skipButton.on(SKIP_BUTTON_EVENTS.CLICK, () => {\n                this.wap.onSkipAdClick();\n            });\n            this.skipButton.create(this.background.element);\n        }\n    }\n\n    hideSkipButton() {\n        if (this.skipButton) {\n            this.skipButton.remove();\n            this.skipButton = null;\n        }\n    }\n\n    showError(text) {\n        this.hideLoadingIndicator();\n        this.showMessage(text);\n    }\n\n    showMessage(text) {\n        if (this.messageDiv) {\n            this.hideMessage();\n        }\n        this.messageDiv = document.createElement('div');\n        this.messageDiv.className = 'alfa-bg-message';\n        let span = document.createElement('span');\n        span.innerHTML = text;\n        this.messageDiv.appendChild(span);\n        this.background.addElement(this.messageDiv);\n    }\n\n    hideMessage() {\n        if (this.messageDiv) {\n            this.background.removeElement(this.messageDiv);\n            this.messageDiv = null;\n        }\n    }\n\n    showStartButton() {\n        if (this.controlsBar.timeBar.isSeeking())\n            return;\n\n        this.hideRestartButton();\n        this.hideEndingScreen();\n        this.hideLoadingIndicator();\n\n        if (!this.buttonStart) {\n            this.buttonStart = document.createElement('div');\n            this.buttonStart.className = 'alfa-button-start';\n            this.buttonStart.addEventListener(ua.isMobile ? 'touchend' : 'click', this.onPlayClick.bind(this), false);\n            this.background.addElement(this.buttonStart);\n\n            const bgSize = this.background.size;\n            if (bgSize.width < 210 || bgSize.height < 210) {\n                this.buttonStart.style.width = '72px';\n                this.buttonStart.style.height = '72px';\n                this.buttonStart.style.marginLeft = '-36px';\n            }\n        }\n    }\n\n    hideStartButton() {\n        if (this.buttonStart) {\n            this.buttonStart.parentNode.removeChild(this.buttonStart);\n            this.buttonStart = null;\n        }\n    }\n\n    showNonLinear(nonLinearData) {\n        if (!this.nonLinear) {\n            if (this.background.element) {\n                this.nonLinear = new Overlay(nonLinearData);\n                this.nonLinear.on(OVERLAY_EVENTS.VIEW, () => {\n                    this.wap.onNonLinearView();\n                });\n                this.nonLinear.on(OVERLAY_EVENTS.CLOSE, () => {\n                    this.hideNonLinear();\n                    this.wap.onNonLinearClose();\n                });\n                this.nonLinear.on(OVERLAY_EVENTS.CONTENT_CLICK, (info) => {\n                    this.wap.onNonLinearContentClick(info);\n                });\n                this.nonLinear.on(OVERLAY_EVENTS.VAST_ERROR, (error) => {\n                    this.wap.notifyVastError(error);\n                });\n                this.nonLinear.create(this.background.element);\n            }\n        } else {\n            this.nonLinear.show();\n        }\n    }\n\n    hideNonLinear() {\n        if (this.nonLinear) {\n            this.nonLinear.remove();\n            this.nonLinear = null;\n        }\n    }\n\n    createSharingUI() {\n        // create only if allowed\n        if (this.wap.config.isNoSharingUI()) {\n            return;\n        }\n\n        this.shareButton.create(this.background.element);\n        this.shareButton.on(SHARE_BUTTON_EVENTS.CLICK, () => {\n            if (this.videoElement.currentTime === this.videoElement.duration)\n                return;\n            this.wap.pause();\n            this.wap.shareCurrentVideo();\n        });\n\n        this.shareDialog.create(this.background.element);\n        this.shareDialog.on(SHARE_DIALOG_EVENTS.DONE, () => {\n            this.showShareButton();\n        });\n    }\n\n    showShareButton() {\n        if (this.wap.scheduler.stage.isAd() || this.wap.config.isVPAID() || this.wap.config.isAdOnly())\n            return;\n\n        if (this.videoElement.currentTime >= this.videoElement.duration && !isNaN(this.videoElement.duration))\n            return;\n\n        if (!this.wap.config.getVideoFile())\n            return;\n\n        if (!this.videoElement.error && !this.shareDialog.isVisible()) {\n            this.shareButton.show();\n        }\n    }\n\n    hideShareButton() {\n        this.shareButton.hide();\n        this.shareDialog.hide();\n    }\n\n    showRestartButton(parent) {\n        if (this.controlsBar.timeBar.isSeeking()) {\n            return;\n        }\n\n        parent = parent || this.background.element;\n        this.hideStartButton();\n\n        if (!this.restartButton) {\n            this.restartButton = document.createElement('div');\n            this.restartButton.className = 'alfa-button-restart';\n            parent.appendChild(this.restartButton);\n\n            this.restartButton.addEventListener('click', this.doRestart.bind(this));\n        }\n        return this.restartButton;\n    }\n\n    hideRestartButton() {\n        if (this.restartButton !== void(0)) {\n            this.restartButton.parentNode.removeChild(this.restartButton);\n            this.restartButton = void(0);\n        }\n    }\n\n    doRestart() {\n        if (!this.wap.isAllowYoutubeWrapper() && this.wap.config.getYoutubeID()) {\n            window.location = this.wap.config.getVideoFile();\n            return;\n        }\n\n        if (!ua.isIOS || ua.isIOSSmall) {\n            this.mediaSpan.classList.remove(STYLES.OPACITY_HIDDEN);\n        }\n\n        // if there was an video error\n        if (this.videoMain.error != null) {\n            let curTime = this.videoMain.currentTime;\n            let src = this.videoMain.src;\n            this.videoMain.src = '';\n            this.videoMain.src = src;\n            this.videoMain.currentTime = curTime;\n        } else {\n            this.videoMain.currentTime = 0;\n        }\n\n        this.wap.state.finishedMain = false;\n        this.wap.mainVideoTime = 0;\n        this.videoElementPlay();\n        this.showShareButton();\n    }\n\n    showEndingScreen() {\n        console.log('[alfa] showEndingScreen');\n        this.hideStartButton();\n        this.hideShareButton();\n\n        if (!ua.isIOS || ua.isIOSSmall) {\n            this.mediaSpan.classList.add(STYLES.OPACITY_HIDDEN);\n        }\n        this.showPoster();\n        if (this.endingScreen === void(0)) {\n            this.endingScreen = document.createElement('div');\n            this.endingScreen.className = 'alfa-ending-screen';\n\n            // if sharing UI is allowed in config\n            if (!this.wap.config.isNoSharingUI()) {\n                const shareDiv = document.createElement('div');\n                shareDiv.className = 'alfa-share-div';\n                this.endingScreen.appendChild(shareDiv);\n\n                const sharePanel = new ShareDialog(true);\n                sharePanel.create(shareDiv);\n                sharePanel.show(this.wap.config.getShareUrl());\n            }\n\n            // show restart button\n            let restartButton = this.showRestartButton(this.endingScreen);\n            restartButton.classList.add('alfa-small-restart');\n\n            const bgSize = this.background.size;\n            if (bgSize.width < 320 || bgSize.height < 240) {\n                let w = bgSize.width - 20;\n                let h = Math.round(w * 3 / 5);\n                if (h > bgSize.height - 60) {\n                    h = bgSize.height - 50;\n                    w = Math.round(h * 5 / 3);\n                }\n                this.endingScreen.style.width = w + 'px';\n                this.endingScreen.style.height = h + 'px';\n            }\n            this.background.addElement(this.endingScreen);\n        }\n\n        this.controlsBar.timeBar.setPlayPosition(100);\n    }\n\n    hideEndingScreen() {\n        if (this.endingScreen !== void(0)) {\n            this.endingScreen.parentNode.removeChild(this.endingScreen);\n            this.endingScreen = void(0);\n        }\n    }\n\n    showIcons() {\n        // container element for VAST icons\n        this.iconsContainer.create(this.background.element);\n        this.iconsContainer.on(ICON_EVENTS.ICON_VIEW, (icon) => {\n            this.wap.onIconView(icon);\n        });\n        this.iconsContainer.on(ICON_EVENTS.ICON_CLICK, (icon) => {\n            this.wap.onIconClick(icon);\n        });\n    }\n\n    hideIcons() {\n        this.iconsContainer.off(ICON_EVENTS.ICON_VIEW);\n        this.iconsContainer.off(ICON_EVENTS.ICON_CLICK);\n        this.iconsContainer.remove();\n    }\n\n    resetTimeAndSeek() {\n        this.controlsBar.totalTime.setTime(0);\n        this.controlsBar.currentTime.setTime(0);\n        this.controlsBar.timeBar.setPosition(0);\n    }\n\n    videoElementPlay() {\n        this.hideMessage();\n        this.hideEndingScreen();\n        this.hideRestartButton();\n        this.hideEndingScreen();\n\n        if (this.wap.config.isVPAID()) {\n            this.controlsBar.showPauseButton();\n        }\n\n        // run 'play' when video player is ready\n        playWhenCan(this.videoElement);\n    }\n\n    disablePlay() {\n        this.controlsBar.off(CONTROLS_BAR_EVENTS.PLAY_PAUSE_CLICK);\n    }\n\n    calculateBufferWidth() {\n        if (this.wap.config.isVPAID())\n            return;\n\n        let len = this.videoElement.buffered.length;\n\n        if (len > 0) {\n            let lastSec = this.videoElement.buffered.end(len - 1);\n            let duration = this.videoElement.duration;\n            let percent = (lastSec / duration * 100);\n            if (percent > this.controlsBar.timeBar.getBufferedPosition()) {\n                this.controlsBar.timeBar.setBufferedPosition(percent);\n            }\n        } else {\n            this.controlsBar.timeBar.setBufferedPosition(0);\n        }\n    }\n\n    setVolume(vol) {\n        this._volume = vol;\n        if (ua.isIOS || ua.isUCBrowser) {\n            return;\n        }\n\n        // remove MUTED attribute on element if video is not muted anymore\n        if (vol > 0 && (this.videoElement.muted || this.videoElement.hasAttribute && this.videoElement.hasAttribute('muted'))) {\n            this.videoElement.removeAttribute('muted');\n            this.videoElement.muted = false;\n        }\n\n        if (this.videoElement.volume > vol && vol === 0) {\n            this.wap.onMute();\n        } else if (this.videoElement.volume === 0 && vol > 0) {\n            this.wap.onUnmute();\n        }\n        //this.videoElement.volume = vol;\n        this.HTML5Player.volume = vol;\n        if (this.youtubePlayer)\n            this.youtubePlayer.volume = vol;\n        if (this.VPAIDPlayer)\n            this.VPAIDPlayer.volume = vol;\n\n        this.wap.emit(MEDIA_EVENTS.volumechange, vol);\n        this.setVolumeUI(vol);\n    }\n\n    setVolumeUI(vol) {\n        this._volume = vol;\n        this.controlsBar.updateVolume(vol);\n    }\n\n    getVolume() {\n        return this.videoElement.volume;\n    }\n\n    createPoster() {\n        if (this.videoPoster) {\n            return;\n        }\n\n        const posterUrl = this.wap.config.getPosterUrl();\n        if (posterUrl) {\n            this.videoPoster = document.createElement('div');\n            this.videoPoster.className = 'alfa-video-poster';\n            this.videoPoster.style.backgroundImage = 'url(' + posterUrl + ')';\n            this.background.addElement(this.videoPoster);\n        }\n    }\n\n    showPoster() {\n        if (this.videoPoster) {\n            this.videoPoster.style.visibility = 'visible';\n        }\n    }\n\n    hidePoster() {\n        if (this.videoPoster) {\n            // this.background.removeElement(this.videoPoster);\n            // this.videoPoster = null;\n            this.videoPoster.style.visibility = 'hidden';\n        }\n    }\n\n    isFullscreen() {\n        return fscreen.fullscreenElement || this.background.isFullscreen();\n    }\n\n    enterFullscreen() {\n        if (fscreen.fullscreenEnabled) {\n            fscreen.requestFullscreen(ua.isIOS ? this.videoElement : this.background.element);\n        } else {\n            this.background.enterFullscreen();\n        }\n\n        this.wap.onEnterFullscreen();\n    }\n\n    exitFullscreen() {\n        if (fscreen.fullscreenEnabled) {\n            fscreen.exitFullscreen();\n        } else {\n            this.background.exitFullscreen();\n        }\n\n        this.wap.onExitFullscreen();\n    }\n\n    onFullscreenChangeEvent() {\n        if (this.background.isFullscreen()) {\n            this.background.exitFullscreen();\n        }\n\n        if (this.VPAIDPlayer)\n            this.VPAIDPlayer.onParentResize();\n    }\n\n    onFullscreenClick() {\n        this.setupHideControlsTimer();\n\n        if (!this.isFullscreen()) {\n            this.enterFullscreen();\n        } else {\n            this.exitFullscreen();\n        }\n    }\n\n    viewabilityPause() {\n        if (this.wap.scheduler.stage.isAd() && !this.wap.isPaused()) {\n            this.__wasPausedByViewability = true;\n            this.wap.pause();\n        }\n    }\n\n    viewabilityPlay() {\n        if (this.__wasPausedByViewability && this.wap.scheduler.stage.isAd() && this.wap.isPaused()) {\n            this.__wasPausedByViewability = false;\n\n            if ((this.videoElement.currentTime < this.videoElement.duration) && !this.wap.state.initial && !isNaN(this.videoElement.duration)) {\n                this.wap.play();\n            }\n        }\n    }\n\n    get isSeekingNow() {\n        return this.controlsBar.timeBar.isSeeking();\n    }\n}\n\n// ************************************** Events ***********************************************\nUIManager.prototype.onContextMenuRequested = function (e) {\n    // if menu requested on our UI\n    if (!this.background.isInBounds(e.toElement)) {\n        return;\n    }\n    e.preventDefault();\n\n    const items = [\n        {\n            id: 'about_player',\n            text: 'About Web Alfa player',\n            href: 'http://www.alfaplayer.com/' + (this.wap.config.isVPAID() ? 'share/' : '')\n        }\n    ];\n    showContextMenuAt(e.x, e.y, items, this.background.element);\n};\n\nUIManager.prototype.onCheckCurrentPlayer = function () {\n    const id = settings.currentPlay || this.randomId;\n    if (id !== this.randomId && this.videoElement && !this.videoElement.paused) {\n        this.videoElement.pause();\n    }\n    setTimeout(this.onCheckCurrentPlayer.bind(this), CHECK_PLAYER_TIMEOUT);\n};\n\nUIManager.prototype.onBuffering = function () {\n    console.log('[alfa] OnBuffering');\n    this.hidePoster();\n    this.controlsBar.showPauseButton();\n\n    this.mediaSpan.classList.remove(STYLES.OPACITY_HIDDEN);\n};\n\nUIManager.prototype.onWindowMessage = function (e) {\n    let data = e.data + '';\n    if (data.indexOf('ALFAPLAYER_PLAY_EVENT') === 0) {\n        if (parseFloat(data.split(':')[1]) !== this.randomId) {\n            this.wap.pause();\n        }\n    }\n};\n\nUIManager.prototype.onVolumeClick = function () {\n    console.log('[alfa] on volume button click');\n\n    if (this._volume > 0) {\n        // mute\n        this._previousVolume = this._volume;\n        settings.volume = 0;\n        this.setVolume(0);\n    } else if (this._previousVolume > 0) {\n        // unmute\n        settings.volume = this._previousVolume;\n        this.setVolume(this._previousVolume);\n    } else {\n        settings.volume = 1;\n        this.setVolume(1);\n    }\n};\n\nUIManager.prototype.onPlayClick = function (e) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (!this.wap.config.isVPAID()) {\n        settings.currentPlay = this.randomId;\n    }\n\n    this.wap.play();\n};\n\nUIManager.prototype.onPlayPauseClick = function () {\n    this.setupHideControlsTimer();\n\n    if (this.wap.isPaused()) {\n        if (!this.wap.config.isVPAID()) {\n            settings.currentPlay = this.randomId;\n        }\n\n        if (!this.wap.scheduler.stage.isAd() && !(this.videoElement.currentTime < this.videoElement.duration) && !this.wap.state.initial && !isNaN(this.videoElement.duration)) {\n            this.doRestart();\n        } else {\n            this.wap.play();\n        }\n    } else {\n        this.wap.pause();\n    }\n};\n\nUIManager.prototype.onPauseEvent = function () {\n    if (this.controlsBar.timeBar.isSeeking())\n        return;\n\n    this.controlsBar.showPlayButton();\n    this.showVideoControls();\n    this.hideLoadingIndicator();\n\n    if (this.wap.scheduler.stage.isBegin())\n        return;\n\n    if (!this.wap.scheduler.stage.isAd()) {\n        if (this.videoElement.error !== null)\n            this.showRestartButton();\n        else if (this.videoElement.currentTime < this.videoElement.duration && !this.wap.state.finishedMain) {\n            this.showStartButton();\n            console.log('[alfa] Show start button on pause', this.videoElement.currentTime, this.videoElement.duration);\n        }\n    } else if (this.videoElement.currentTime < this.videoElement.duration) {\n        this.showStartButton();\n    }\n\n    this.wap.onPauseEvent();\n};\n\nUIManager.prototype.onPlayEvent = function () {\n    this.hideStartButton();\n    this.hideEndingScreen();\n    this.hideRestartButton();\n    this.hidePoster();\n    this.controlsBar.showPauseButton();\n    this.wap.onPlayEvent();\n    let mediaSpan = this.mediaSpan;\n    if (mediaSpan) {\n        this.mediaSpan.classList.remove(STYLES.OPACITY_HIDDEN);\n    }\n\n    if (!this.wap.config.isVPAID()) {\n        settings.currentPlay = this.randomId;\n\n        let sendplayevent = function (wnd) {\n            wnd.postMessage('ALFAPLAYER_PLAY_EVENT:' + this.randomId, '*');\n        }.bind(this);\n        sendplayevent(window.self);\n    }\n};\n\nUIManager.prototype.onDurationchangeEvent = function () {\n    this.controlsBar.totalTime.setTime(this.videoElement.duration);\n    this.wap.emit(MEDIA_EVENTS.durationchange, this.videoElement.duration);\n};\n\nUIManager.prototype.onLoadstartEvent = function () {\n    this.controlsBar.totalTime.setTime(0);\n    if (!this.controlsBar.isAdsLayout()) {\n        this.controlsBar.currentTime.setTime(0);\n    }\n    // this.controlsBar.timeBar.setPosition(0);\n};\n\nUIManager.prototype.onTimeupdateEvent = function () {\n    const duration = this.videoElement.duration;\n    const curTime = this.videoElement.currentTime;\n\n    if (ua.isIE) {\n        this.hideLoadingIndicator();\n    }\n\n    // update SkipButton text on video time progress (if exists)\n    if (this.skipButton) {\n        this.skipButton.update(curTime);\n    }\n\n    if (this.controlsBar.isAdsLayout()) {\n        // show ad icons for current time, if any\n        if (this.wap.currentAd && this.wap.currentAd.hasIcons()) {\n            // TODO: listen to resize of root player container, instead of resizing every second\n            this.iconsContainer.resizeToVideo(this.videoElement);\n\n            const icons = this.wap.currentAd.getIconsForTime(curTime);\n            this.iconsContainer.showIcons(icons);\n        }\n\n        if (duration >= curTime) {\n            const remain = duration - curTime;\n            if (remain > 0)\n                this.controlsBar.currentTime.setText('Ad remains:', remain);\n            else\n                this.controlsBar.currentTime.setText('');\n        } else {\n            this.controlsBar.currentTime.setText('');\n        }\n        return;\n    }\n    if (this.videoElement !== this.videoMain) {\n        return;\n    }\n\n    this.controlsBar.currentTime.setTime(curTime);\n    // TODO: why there is TimeBar recalculating?\n    // if (curTime > 3600) {\n    //      this.controlsBar.calculateSeekBarWidth();\n    // }\n\n    if (this.videoElement.style && this.videoElement.style.display) {\n        this.videoElement.style.display = null;\n    }\n\n    const percent = curTime / duration * 100;\n    this.controlsBar.timeBar.setPlayPosition(percent);\n};\n\nUIManager.prototype.onProgressEvent = function () {\n    this.calculateBufferWidth();\n};\n\nUIManager.prototype.onCanPlaythroughEvent = function () {\n    this.calculateBufferWidth();\n};\n\nUIManager.prototype.onMouseOverPlayer = function () {\n    if (!ua.isMobile) {\n        this.showVideoControls();\n    }\n};\n\nUIManager.prototype.onMouseOutOfPlayer = function () {\n    if (!ua.isMobile && !this.videoElement.paused && !isNaN(this.videoElement.duration)) {\n        this.setupHideControlsTimer(300);\n    }\n\n    if (this.shareDialog.isVisible()) {\n        this.shareDialog.hide();\n        if (!this.wap.state.finishedMain)\n            this.showShareButton();\n    }\n};\n\nUIManager.prototype.onTimeBarSeekStart = function () {\n    if (!this.videoElement) {\n        return;\n    }\n\n    this.wasPlayingBeforeSeek = this.videoElement.paused === false;\n};\n\nUIManager.prototype.onTimeBarSeek = function (percent) {\n    if (!isNaN(this.videoElement.duration)) {\n        if (ua.isMobile) {\n            this.setupHideControlsTimer();\n        }\n\n        // rewind current player\n        // HINT: rewinding not working if \"Disable Cache\" is set in browser DevTools\n        const newTime = this.videoElement.duration * percent / 100;\n        this.videoElement.currentTime = newTime;\n    }\n};\n\nUIManager.prototype.onTimeBarSeekEnd = function () {\n    if (this.wasPlayingBeforeSeek && this.videoElement.currentTime < this.videoElement.duration && !isNaN(this.videoElement.duration))\n        this.videoElementPlay();\n\n    if (this.videoElement.currentTime >= this.videoElement.duration && !isNaN(this.videoElement.duration)) {\n        this.wap.onPlayFinished();\n        this.onPauseEvent();\n    } else if (!this.wasPlayingBeforeSeek) {\n        this.showStartButton();\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/uiManager.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar key = {\n  fullscreenEnabled: 0,\n  fullscreenElement: 1,\n  requestFullscreen: 2,\n  exitFullscreen: 3,\n  fullscreenchange: 4,\n  fullscreenerror: 5\n};\n\nvar webkit = ['webkitFullscreenEnabled', 'webkitFullscreenElement', 'webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitfullscreenchange', 'webkitfullscreenerror'];\n\nvar moz = ['mozFullScreenEnabled', 'mozFullScreenElement', 'mozRequestFullScreen', 'mozCancelFullScreen', 'mozfullscreenchange', 'mozfullscreenerror'];\n\nvar ms = ['msFullscreenEnabled', 'msFullscreenElement', 'msRequestFullscreen', 'msExitFullscreen', 'MSFullscreenChange', 'MSFullscreenError'];\n\n// so it doesn't throw if no window or document\nvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\nvar vendor = 'fullscreenEnabled' in document && Object.keys(key) || webkit[0] in document && webkit || moz[0] in document && moz || ms[0] in document && ms || [];\n\nexports.default = {\n  requestFullscreen: function requestFullscreen(element) {\n    return element[vendor[key.requestFullscreen]]();\n  },\n  requestFullscreenFunction: function requestFullscreenFunction(element) {\n    return element[vendor[key.requestFullscreen]];\n  },\n  get exitFullscreen() {\n    return document[vendor[key.exitFullscreen]].bind(document);\n  },\n  addEventListener: function addEventListener(type, handler, options) {\n    return document.addEventListener(vendor[key[type]], handler, options);\n  },\n  removeEventListener: function removeEventListener(type, handler, options) {\n    return document.removeEventListener(vendor[key[type]], handler, options);\n  },\n  get fullscreenEnabled() {\n    return Boolean(document[vendor[key.fullscreenEnabled]]);\n  },\n  set fullscreenEnabled(val) {},\n  get fullscreenElement() {\n    return document[vendor[key.fullscreenElement]];\n  },\n  set fullscreenElement(val) {},\n  get onfullscreenchange() {\n    return document[('on' + vendor[key.fullscreenchange]).toLowerCase()];\n  },\n  set onfullscreenchange(handler) {\n    return document[('on' + vendor[key.fullscreenchange]).toLowerCase()] = handler;\n  },\n  get onfullscreenerror() {\n    return document[('on' + vendor[key.fullscreenerror]).toLowerCase()];\n  },\n  set onfullscreenerror(handler) {\n    return document[('on' + vendor[key.fullscreenerror]).toLowerCase()] = handler;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/fscreen/lib/index.js\n// module id = 32\n// module chunks = 0","/*! npm.im/iphone-inline-video 2.2.2 */\nimport { frameIntervalometer } from 'intervalometer';\n\nfunction preventEvent(element, eventName, test) {\n\tfunction handler(e) {\n\t\tif (!test || test(element, eventName)) {\n\t\t\te.stopImmediatePropagation();\n\t\t\t// // console.log(eventName, 'prevented on', element);\n\t\t}\n\t}\n\telement.addEventListener(eventName, handler);\n\n\t// Return handler to allow to disable the prevention. Usage:\n\t// const preventionHandler = preventEvent(el, 'click');\n\t// el.removeEventHandler('click', preventionHandler);\n\treturn handler;\n}\n\nfunction proxyProperty(object, propertyName, sourceObject, copyFirst) {\n\tfunction get() {\n\t\treturn sourceObject[propertyName];\n\t}\n\tfunction set(value) {\n\t\tsourceObject[propertyName] = value;\n\t}\n\n\tif (copyFirst) {\n\t\tset(object[propertyName]);\n\t}\n\n\tObject.defineProperty(object, propertyName, {get: get, set: set});\n}\n\nfunction proxyEvent(object, eventName, sourceObject) {\n\tsourceObject.addEventListener(eventName, function () { return object.dispatchEvent(new Event(eventName)); });\n}\n\nfunction dispatchEventAsync(element, type) {\n\tPromise.resolve().then(function () {\n\t\telement.dispatchEvent(new Event(type));\n\t});\n}\n\nvar iOS8or9 = typeof document === 'object' && 'object-fit' in document.head.style && !matchMedia('(-webkit-video-playable-inline)').matches;\n\nvar IIV = 'bfred-it:iphone-inline-video';\nvar IIVEvent = 'bfred-it:iphone-inline-video:event';\nvar IIVPlay = 'bfred-it:iphone-inline-video:nativeplay';\nvar IIVPause = 'bfred-it:iphone-inline-video:nativepause';\n\n/**\n * UTILS\n */\n\nfunction getAudioFromVideo(video) {\n\tvar audio = new Audio();\n\tproxyEvent(video, 'play', audio);\n\tproxyEvent(video, 'playing', audio);\n\tproxyEvent(video, 'pause', audio);\n\taudio.crossOrigin = video.crossOrigin;\n\n\t// 'data:' causes audio.networkState > 0\n\t// which then allows to keep <audio> in a resumable playing state\n\t// i.e. once you set a real src it will keep playing if it was if .play() was called\n\taudio.src = video.src || video.currentSrc || 'data:';\n\n\t// // if (audio.src === 'data:') {\n\t//   TODO: wait for video to be selected\n\t// // }\n\treturn audio;\n}\n\nvar lastRequests = [];\nvar requestIndex = 0;\nvar lastTimeupdateEvent;\n\nfunction setTime(video, time, rememberOnly) {\n\t// Allow one timeupdate event every 200+ ms\n\tif ((lastTimeupdateEvent || 0) + 200 < Date.now()) {\n\t\tvideo[IIVEvent] = true;\n\t\tlastTimeupdateEvent = Date.now();\n\t}\n\tif (!rememberOnly) {\n\t\tvideo.currentTime = time;\n\t}\n\tlastRequests[++requestIndex % 3] = time * 100 | 0 / 100;\n}\n\nfunction isPlayerEnded(player) {\n\treturn player.driver.currentTime >= player.video.duration;\n}\n\nfunction update(timeDiff) {\n\tvar player = this;\n\t// // console.log('update', player.video.readyState, player.video.networkState, player.driver.readyState, player.driver.networkState, player.driver.paused);\n\tif (player.video.readyState >= player.video.HAVE_FUTURE_DATA) {\n\t\tif (!player.hasAudio) {\n\t\t\tplayer.driver.currentTime = player.video.currentTime + ((timeDiff * player.video.playbackRate) / 1000);\n\t\t\tif (player.video.loop && isPlayerEnded(player)) {\n\t\t\t\tplayer.driver.currentTime = 0;\n\t\t\t}\n\t\t}\n\t\tsetTime(player.video, player.driver.currentTime);\n\t} else if (player.video.networkState === player.video.NETWORK_IDLE && player.video.buffered.length === 0) {\n\t\t// This should happen when the source is available but:\n\t\t// - it's potentially playing (.paused === false)\n\t\t// - it's not ready to play\n\t\t// - it's not loading\n\t\t// If it hasAudio, that will be loaded in the 'emptied' handler below\n\t\tplayer.video.load();\n\t\t// // console.log('Will load');\n\t}\n\n\t// // console.assert(player.video.currentTime === player.driver.currentTime, 'Video not updating!');\n\n\tif (player.video.ended) {\n\t\tdelete player.video[IIVEvent]; // Allow timeupdate event\n\t\tplayer.video.pause(true);\n\t}\n}\n\n/**\n * METHODS\n */\n\nfunction play() {\n\t// // console.log('play');\n\tvar video = this;\n\tvar player = video[IIV];\n\n\t// If it's fullscreen, use the native player\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[IIVPlay]();\n\t\treturn;\n\t}\n\n\tif (player.driver.src !== 'data:' && player.driver.src !== video.src) {\n\t\t// // console.log('src changed on play', video.src);\n\t\tsetTime(video, 0, true);\n\t\tplayer.driver.src = video.src;\n\t}\n\n\tif (!video.paused) {\n\t\treturn;\n\t}\n\tplayer.paused = false;\n\n\tif (video.buffered.length === 0) {\n\t\t// .load() causes the emptied event\n\t\t// the alternative is .play()+.pause() but that triggers play/pause events, even worse\n\t\t// possibly the alternative is preventing this event only once\n\t\tvideo.load();\n\t}\n\n\tplayer.driver.play();\n\tplayer.updater.start();\n\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'play');\n\t\tif (player.video.readyState >= player.video.HAVE_ENOUGH_DATA) {\n\t\t\t// // console.log('onplay');\n\t\t\tdispatchEventAsync(video, 'playing');\n\t\t}\n\t}\n}\nfunction pause(forceEvents) {\n\t// // console.log('pause');\n\tvar video = this;\n\tvar player = video[IIV];\n\n\tplayer.driver.pause();\n\tplayer.updater.stop();\n\n\t// If it's fullscreen, the developer the native player.pause()\n\t// This is at the end of pause() because it also\n\t// needs to make sure that the simulation is paused\n\tif (video.webkitDisplayingFullscreen) {\n\t\tvideo[IIVPause]();\n\t}\n\n\tif (player.paused && !forceEvents) {\n\t\treturn;\n\t}\n\n\tplayer.paused = true;\n\tif (!player.hasAudio) {\n\t\tdispatchEventAsync(video, 'pause');\n\t}\n\n\t// Handle the 'ended' event only if it's not fullscreen\n\tif (video.ended && !video.webkitDisplayingFullscreen) {\n\t\tvideo[IIVEvent] = true;\n\t\tdispatchEventAsync(video, 'ended');\n\t}\n}\n\n/**\n * SETUP\n */\n\nfunction addPlayer(video, hasAudio) {\n\tvar player = {};\n\tvideo[IIV] = player;\n\tplayer.paused = true; // Track whether 'pause' events have been fired\n\tplayer.hasAudio = hasAudio;\n\tplayer.video = video;\n\tplayer.updater = frameIntervalometer(update.bind(player));\n\n\tif (hasAudio) {\n\t\tplayer.driver = getAudioFromVideo(video);\n\t} else {\n\t\tvideo.addEventListener('canplay', function () {\n\t\t\tif (!video.paused) {\n\t\t\t\t// // console.log('oncanplay');\n\t\t\t\tdispatchEventAsync(video, 'playing');\n\t\t\t}\n\t\t});\n\t\tplayer.driver = {\n\t\t\tsrc: video.src || video.currentSrc || 'data:',\n\t\t\tmuted: true,\n\t\t\tpaused: true,\n\t\t\tpause: function () {\n\t\t\t\tplayer.driver.paused = true;\n\t\t\t},\n\t\t\tplay: function () {\n\t\t\t\tplayer.driver.paused = false;\n\t\t\t\t// Media automatically goes to 0 if .play() is called when it's done\n\t\t\t\tif (isPlayerEnded(player)) {\n\t\t\t\t\tsetTime(video, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget ended() {\n\t\t\t\treturn isPlayerEnded(player);\n\t\t\t}\n\t\t};\n\t}\n\n\t// .load() causes the emptied event\n\tvideo.addEventListener('emptied', function () {\n\t\t// // console.log('driver src is', player.driver.src);\n\t\tvar wasEmpty = !player.driver.src || player.driver.src === 'data:';\n\t\tif (player.driver.src && player.driver.src !== video.src) {\n\t\t\t// // console.log('src changed to', video.src);\n\t\t\tsetTime(video, 0, true);\n\t\t\tplayer.driver.src = video.src;\n\t\t\t// Playing videos will only keep playing if no src was present when .play()’ed\n\t\t\tif (wasEmpty || (!hasAudio && video.autoplay)) {\n\t\t\t\tplayer.driver.play();\n\t\t\t} else {\n\t\t\t\tplayer.updater.stop();\n\t\t\t}\n\t\t}\n\t}, false);\n\n\t// Stop programmatic player when OS takes over\n\tvideo.addEventListener('webkitbeginfullscreen', function () {\n\t\tif (!video.paused) {\n\t\t\t// Make sure that the <audio> and the syncer/updater are stopped\n\t\t\tvideo.pause();\n\n\t\t\t// Play video natively\n\t\t\tvideo[IIVPlay]();\n\t\t} else if (hasAudio && player.driver.buffered.length === 0) {\n\t\t\t// If the first play is native,\n\t\t\t// the <audio> needs to be buffered manually\n\t\t\t// so when the fullscreen ends, it can be set to the same current time\n\t\t\tplayer.driver.load();\n\t\t}\n\t});\n\tif (hasAudio) {\n\t\tvideo.addEventListener('webkitendfullscreen', function () {\n\t\t\t// Sync audio to new video position\n\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t// // console.assert(player.driver.currentTime === video.currentTime, 'Audio not synced');\n\t\t});\n\n\t\t// Allow seeking\n\t\tvideo.addEventListener('seeking', function () {\n\t\t\tif (lastRequests.indexOf(video.currentTime * 100 | 0 / 100) < 0) {\n\t\t\t\t// // console.log('User-requested seeking');\n\t\t\t\tplayer.driver.currentTime = video.currentTime;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction preventWithPropOrFullscreen(el) {\n\tvar isAllowed = el[IIVEvent];\n\tdelete el[IIVEvent];\n\treturn !el.webkitDisplayingFullscreen && !isAllowed;\n}\n\nfunction overloadAPI(video) {\n\tvar player = video[IIV];\n\tvideo[IIVPlay] = video.play;\n\tvideo[IIVPause] = video.pause;\n\tvideo.play = play;\n\tvideo.pause = pause;\n\tproxyProperty(video, 'paused', player.driver);\n\tproxyProperty(video, 'muted', player.driver, true);\n\tproxyProperty(video, 'playbackRate', player.driver, true);\n\tproxyProperty(video, 'ended', player.driver);\n\tproxyProperty(video, 'loop', player.driver, true);\n\n\t// IIV works by seeking 60 times per second.\n\t// These events are now useless.\n\tpreventEvent(video, 'seeking', function (el) { return !el.webkitDisplayingFullscreen; });\n\tpreventEvent(video, 'seeked', function (el) { return !el.webkitDisplayingFullscreen; });\n\n\t// Limit timeupdate events\n\tpreventEvent(video, 'timeupdate', preventWithPropOrFullscreen);\n\n\t// Prevent occasional native ended events\n\tpreventEvent(video, 'ended', preventWithPropOrFullscreen);\n}\n\nfunction enableInlineVideo(video, opts) {\n\tif ( opts === void 0 ) opts = {};\n\n\t// Stop if already enabled\n\tif (video[IIV]) {\n\t\treturn;\n\t}\n\n\t// Allow the user to skip detection\n\tif (!opts.everywhere) {\n\t\t// Only iOS8 and 9 are supported\n\t\tif (!iOS8or9) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Stop if it's not an allowed device\n\t\tif (!(opts.iPad || opts.ipad ? /iPhone|iPod|iPad/ : /iPhone|iPod/).test(navigator.userAgent)) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// Try to pause\n\tvideo.pause();\n\n\t// Prevent autoplay.\n\t// An non-started autoplaying video can't be .pause()'d\n\tvar willAutoplay = video.autoplay;\n\tvideo.autoplay = false;\n\n\taddPlayer(video, !video.muted);\n\toverloadAPI(video);\n\tvideo.classList.add('IIV');\n\n\t// Autoplay\n\tif (video.muted && willAutoplay) {\n\t\tvideo.play();\n\t\tvideo.addEventListener('playing', function restoreAutoplay() {\n\t\t\tvideo.autoplay = true;\n\t\t\tvideo.removeEventListener('playing', restoreAutoplay);\n\t\t});\n\t}\n\n\tif (!/iPhone|iPod|iPad/.test(navigator.platform)) {\n\t\tconsole.warn('iphone-inline-video is not guaranteed to work in emulated environments');\n\t}\n}\n\nexport default enableInlineVideo;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/iphone-inline-video/dist/iphone-inline-video.es-modules.js\n// module id = 33\n// module chunks = 0","/*! npm.im/intervalometer */\nfunction intervalometer(cb, request, cancel, requestParameter) {\n\tvar requestId;\n\tvar previousLoopTime;\n\tfunction loop(now) {\n\t\t// must be requested before cb() because that might call .stop()\n\t\trequestId = request(loop, requestParameter);\n\n\t\t// called with \"ms since last call\". 0 on start()\n\t\tcb(now - (previousLoopTime || now));\n\n\t\tpreviousLoopTime = now;\n\t}\n\treturn {\n\t\tstart: function start() {\n\t\t\tif (!requestId) { // prevent double starts\n\t\t\t\tloop(0);\n\t\t\t}\n\t\t},\n\t\tstop: function stop() {\n\t\t\tcancel(requestId);\n\t\t\trequestId = null;\n\t\t\tpreviousLoopTime = 0;\n\t\t}\n\t};\n}\n\nfunction frameIntervalometer(cb) {\n\treturn intervalometer(cb, requestAnimationFrame, cancelAnimationFrame);\n}\n\nfunction timerIntervalometer(cb, delay) {\n\treturn intervalometer(cb, setTimeout, clearTimeout, delay);\n}\n\nexport { intervalometer, frameIntervalometer, timerIntervalometer };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/intervalometer/dist/intervalometer.es-modules.js\n// module id = 34\n// module chunks = 0","import { PLAYER_EVENTS, MEDIA_EVENTS } from '@/data/constants';\r\nimport EventSystem from '@/system/eventSystem';\r\n\r\nexport default class Youtube extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this._src = '';\r\n        this._currentTime = 0;\r\n        this._duration = 0;\r\n        this._isReady = false;\r\n        this._error = null;\r\n        this._isEnded = false;\r\n\r\n        this.addEventListener(MEDIA_EVENTS.ended, () => this._isEnded = true);\r\n\r\n        const self = this;\r\n        this.style = {\r\n            set visibility(value) {\r\n                self._container.style.visibility = value;\r\n                self._overflow.style.visibility = value;\r\n            },\r\n            set display(value) {\r\n                self._container.style.display = value;\r\n                self._overflow.style.display = value;\r\n            }\r\n        };\r\n\r\n        this.buffered = {\r\n            get length() {\r\n                return 0;\r\n            }\r\n        };\r\n    }\r\n\r\n    includeYoutubeAPI() {\r\n        // if Youtube API is already injected - do nothing\r\n        if (typeof(window.YT) !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        // inject Youtube API\r\n        let tag = document.createElement('script');\r\n        tag.src = '//www.youtube.com/iframe_api';\r\n        let firstScriptTag = document.getElementsByTagName('script')[0];\r\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n    }\r\n\r\n    createElement(parent, videoId) {\r\n        console.log('[alfa] youtube.createElement: YT = ' + typeof(window.YT));\r\n\r\n        // if Youtube API is not injected yet, then delay creating of player to 'onYouTubeIframeAPIReady' event listener\r\n        if (typeof window.YT === 'undefined') {\r\n            window.onYouTubeIframeAPIReady = () => {\r\n                this.createElement(parent, videoId);\r\n                window.onYouTubeIframeAPIReady = null;\r\n            };\r\n            return;\r\n        }\r\n\r\n        let container = document.createElement('div');\r\n        container.className = 'alfa_fillparent';\r\n        container.style.visibility = 'hidden';\r\n        container.style.display = 'none';\r\n        parent.appendChild(container);\r\n\r\n        this._overflow = document.createElement('div');\r\n        this._overflow.className = 'alfa_fillparent';\r\n        this._overflow.style.visibility = 'hidden';\r\n        parent.appendChild(this._overflow);\r\n        this._overflow.addEventListener('click', this.onOverflowClick.bind(this));\r\n\r\n        this._player = new window.YT.Player(container, {\r\n            videoId: videoId,\r\n            playerVars: { 'autoplay': 0, 'controls': 0, 'showinfo': 0, 'html5': 1, 'modestbranding': 1, 'rel': 0 },\r\n            events: {\r\n                onStateChange: this.onStateChange.bind(this),\r\n                onReady: this.onReady.bind(this),\r\n                onError: this.onErrorEvent.bind(this)\r\n            }\r\n        });\r\n        this._container = parent.getElementsByTagName('iframe')[0];\r\n    }\r\n\r\n    onStateChange(e) {\r\n        console.log('[alfa] ON Youtube state changed event', __filterEventState(e));\r\n\r\n        switch (e.data) {\r\n            case window.YT.PlayerState.PAUSED: {\r\n                clearInterval(this.tweenTimeInterval);\r\n                let ytTime = this._player.getCurrentTime();\r\n                this._currentTime = this._currentTime > ytTime ? this._currentTime : ytTime;\r\n                this.emit(MEDIA_EVENTS.pause);\r\n                console.log('[alfa] PAUSED, ytTime:', ytTime, ' currentTime:', this._currentTime);\r\n                if (this.duration - this._currentTime <= 0) {\r\n                    this.emit(MEDIA_EVENTS.ended);\r\n                }\r\n            }\r\n                break;\r\n\r\n            case window.YT.PlayerState.PLAYING: {\r\n                let dur = this._player.getDuration();\r\n                if (dur !== this._duration) {\r\n                    this._duration = dur;\r\n                    this.emit(MEDIA_EVENTS.durationchange);\r\n                }\r\n\r\n                if (this._currentTime < dur && !this._isEnded) {\r\n                    clearInterval(this.tweenTimeInterval);\r\n                    this.tweenTimeInterval = setInterval(() => this.tweenTime(), 100);\r\n                    this.emit(MEDIA_EVENTS.play);\r\n                    this.style.visibility = 'visible';\r\n                } else {\r\n                    console.log('[alfa] stop while playing');\r\n                    this._player.stopVideo();\r\n                }\r\n            }\r\n                break;\r\n\r\n            case window.YT.PlayerState.ENDED: {\r\n                clearInterval(this.tweenTimeInterval);\r\n                this.emit(MEDIA_EVENTS.ended);\r\n            }\r\n                break;\r\n\r\n            case window.YT.PlayerState.BUFFERING: {\r\n                if (!this._isEnded)\r\n                    this.emit(PLAYER_EVENTS.BUFFERING);\r\n            }\r\n                break;\r\n\r\n            case window.YT.PlayerState.CUED: {\r\n                this.emit(MEDIA_EVENTS.pause);\r\n            }\r\n                break;\r\n\r\n            /*\r\n             case window.YT.PlayerState.UNSTARTED: {\r\n\r\n             }\r\n             break;\r\n             */\r\n        }\r\n    }\r\n\r\n    onOverflowClick() {\r\n        this.emit(PLAYER_EVENTS.CLICK);\r\n    }\r\n\r\n    onReady() {\r\n        this._isReady = true;\r\n        if (typeof(this._volume) === 'number')\r\n            this._player.setVolume(this._volume);\r\n        if (this._playOnReady) {\r\n            this._player.playVideo();\r\n        }\r\n    }\r\n\r\n    onErrorEvent(e) {\r\n        console.log('[alfa] Youtube error: ', e);\r\n        this._error = { code: e.data };\r\n        if (e.data >= 100) {\r\n            this.style.visibility = 'visible';\r\n            this.style.display = 'inline';\r\n            this.emit(MEDIA_EVENTS.error);\r\n        }\r\n    }\r\n\r\n    tweenTime() {\r\n        let time_update = this._player.getCurrentTime();\r\n        if (time_update >= this._duration) {\r\n            clearInterval(this.tweenTimeInterval);\r\n            this._currentTime = this._duration;\r\n            this.pause();\r\n            this.emit(MEDIA_EVENTS.ended);\r\n            return;\r\n        }\r\n\r\n        const playing = this._player.getPlayerState();\r\n        if (playing === 1) {\r\n            if (this.last_time_update == time_update) {\r\n                this._currentTime += 0.1;\r\n            }\r\n            if (this.last_time_update != time_update) {\r\n                this._currentTime = time_update;\r\n            }\r\n            if (time_update > this._duration)\r\n                this._currentTime = this._duration;\r\n        }\r\n        this.last_time_update = time_update;\r\n        this.emit(MEDIA_EVENTS.timeupdate);\r\n    }\r\n\r\n    play() {\r\n        if (this._isReady) {\r\n            this.style.display = 'inline';\r\n            this._player.playVideo();\r\n            this._isEnded = false;\r\n        } else {\r\n            this._playOnReady = true;\r\n        }\r\n    }\r\n\r\n    pause() {\r\n        if (this._isReady) {\r\n            this._player.pauseVideo();\r\n        }\r\n    }\r\n\r\n    get paused() {\r\n        if (this._isReady) {\r\n            let s = this._player.getPlayerState();\r\n            return s === -1 || s === 0 || s === 2 || s === window.YT.PlayerState.CUED;\r\n        } else {\r\n            return !this._playOnReady;\r\n        }\r\n    }\r\n\r\n    get state() {\r\n        if (this._isReady) {\r\n            return this._player.getPlayerState();\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    get volume() {\r\n        return this._isReady ? this._player.getVolume() : 1;\r\n    }\r\n\r\n    set volume(value) {\r\n        value *= 100;\r\n        if (this._isReady) {\r\n            this._player.setVolume(value);\r\n        } else {\r\n            this._volume = value;\r\n        }\r\n    }\r\n\r\n    get error() {\r\n        return this._error;\r\n    }\r\n\r\n    get duration() {\r\n        return this._isReady ? this._player.getDuration() : 0;\r\n    }\r\n\r\n    get currentTime() {\r\n        return this._currentTime;\r\n    }\r\n\r\n    set currentTime(value) {\r\n        if (value > this._duration) {\r\n            value = this._duration;\r\n        }\r\n\r\n        this._currentTime = value;\r\n        if (this._isReady) {\r\n            this._player.seekTo(value);\r\n        }\r\n        this.emit(MEDIA_EVENTS.timeupdate);\r\n    }\r\n\r\n    get src() {\r\n        return this._src;\r\n    }\r\n\r\n    set src(value) {\r\n        this._src = value;\r\n    }\r\n}\r\n\r\nfunction __filterEventState(event) {\r\n    return Object.keys(window.YT.PlayerState)\r\n        .filter((key) => window.YT.PlayerState[key] === event.data)\r\n        .pop();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/players/youtube.js","import VPAIDFLASHClient from 'vendor/vpaid-flash-client/js/VPAIDFLASHClient';\nimport { PLAYER_EVENTS, VAST_EVENTS, MEDIA_EVENTS, MIME, URL } from '@/data/constants';\nimport EventSystem from '@/system/eventSystem';\nimport { showContextMenuAt } from '@/ui/contextMenu';\nimport { createVastError, VAST_ERRORS } from '@/system/errors';\n\nconst FlashClientOpts = { data: URL.VPAID_FLASH };\nconst EVENTS = [\n    'AdLoaded',\n    'AdStarted',\n    'AdStopped',\n    'AdSkipped',\n    'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange',\n    'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange',\n    'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange',\n    'AdImpression',\n    'AdVideoStart',\n    'AdVideoFirstQuartile',\n    'AdVideoMidpoint',\n    'AdVideoThirdQuartile',\n    'AdVideoComplete',\n    'AdClickThru',\n    'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation',\n    'AdUserMinimize',\n    'AdUserClose',\n    'AdPaused',\n    'AdPlaying',\n    'AdLog',\n    'AdError'\n];\nconst VPAID_LOAD_TIMEOUT = 7100;\nconst CHECK_TIME_INTERVAL = 500;\n\nexport default class VPAIDPlayer extends EventSystem {\n    constructor(parent, videoEl, wap) {\n        super();\n\n        this._src = '';\n        this._videoEl = videoEl;\n        this._paused = true;\n        this._duration = 0;\n        this._currentTime = 0;\n        this._id = Math.floor(Math.random() * 1000);\n        this._parent = parent;\n        this._volume = videoEl.volume;\n        this._wap = wap;\n        this._type = MIME.JS;\n        this._errorSent = false;\n        this._frameContainer = null;\n\n        this.style = {\n            set visibility(value) {\n                //self._overflow.style.visibility = value;\n            },\n            set display(value) {\n                //self._overflow.style.display = value;\n            }\n        };\n\n        this.buffered = {\n            get length() {\n                return 0;\n            }\n        };\n    }\n\n    createElement() {\n        console.log('[alfa] Create VPAID container element ', this._type);\n\n        this._errorSent = false;\n\n        // set VPAID load timeout handler\n        this._adLoadTimeoutTimer = setTimeout(() => {\n            console.log('[alfa] VPAID adloadtimeout');\n            this._emitError('adloadtimeout');\n        }, VPAID_LOAD_TIMEOUT);\n\n        let frame;\n        if (this._type === MIME.JS) {\n            frame = this.createHTML5Frame();\n        } else if (this._type === MIME.FLASH) {\n            frame = this.createFlashFrame();\n        }\n\n        if (frame) {\n            frame.style.border = '0px';\n            frame.style.width = '100%';\n            frame.style.height = '100%';\n            frame.style.position = 'absolute';\n            frame.style.left = '0';\n            frame.style.top = '0';\n            frame.style.overflow = 'hidden';\n            frame.scrolling = 'no';\n        }\n    }\n\n    createHTML5Frame() {\n        // create FRAME and inject it to page\n        const frame = this._frame = document.createElement('iframe');\n        frame.src = 'javascript:false';\n        this._parent.appendChild(frame);\n\n        // write to frame source\n        const d = frame.contentWindow.document;\n        try {\n            d.open().write(generateHTML5FrameSource(this._src));\n            frame.contentWindow.alfaLoad = this.onIFrameReady.bind(this);\n            frame.contentWindow.alfaError = (error) => this._emitError(error);\n            d.close();\n        } catch (e) {\n            console.log(e);\n        }\n\n        // pass 'mousemove' event out of the frame\n        frame.contentWindow.addEventListener('mousemove', (event) => {\n            const boundingClientRect = frame.getBoundingClientRect();\n\n            const evt = new CustomEvent('mousemove', { bubbles: true, cancelable: false });\n            evt.clientX = event.clientX + boundingClientRect.left;\n            evt.clientY = event.clientY + boundingClientRect.top;\n\n            frame.dispatchEvent(evt);\n        });\n\n        // catch 'contextmenu' event, and show\n        frame.contentWindow.document.addEventListener('contextmenu', (e) => {\n            console.log('[alfa] ASD CONTEXT MENUS');\n            let items = [\n                { id: 'about_player', text: 'About Web Alfa player', href: 'http://www.alfaplayer.com/share/' }\n            ];\n            showContextMenuAt(e.x, e.y, items, this._parent);\n            e.preventDefault();\n        });\n\n        return frame;\n    }\n\n    createFlashFrame() {\n        let frame;\n\n        if (this._frameContainer === null) {\n            frame = this._frameContainer = document.createElement('span');\n            this._frameContainer.className = 'alfa-vpaid-container';\n            //this._frameContainer.style.display = 'none';\n            this._parent.appendChild(this._frameContainer);\n        }\n\n        const vpaidFlashClient = new VPAIDFLASHClient(this._frameContainer, (error) => {\n            if (error) {\n                console.log('[alfa] VPAID Error:', error);\n                this._emitError(error);\n            }\n\n            vpaidFlashClient.loadAdUnit(this._src, (error, adUnit) => {\n                if (error) {\n                    console.log('[alfa] VPAID Error:', error);\n                    this._emitError(error);\n                }\n\n                this._creative = adUnit;\n                const rect = this._parent.getBoundingClientRect();\n                adUnit.initAd(rect.width, rect.height, 'normal', -1, {\n                    AdParameters: this._wap.currentAd.adParameters || ''\n                });\n\n                EVENTS.forEach((eventName) => {\n                    if (typeof(this['on' + eventName]) === 'function') {\n                        adUnit.on(eventName, this['on' + eventName].bind(this));\n                    } else {\n                        adUnit.on(eventName, () => console.log(`[alfa VPAID] ${ eventName }`));\n                    }\n                });\n            });\n        }, FlashClientOpts);\n\n        return frame;\n    }\n\n    play() {\n        console.log('[alfa] play VPAID ad');\n        if (this._creative) {\n            this._creative.resumeAd();\n        }\n    }\n\n    pause() {\n        console.log('[alfa] pause VPAID ad');\n        if (this._creative) {\n            this._creative.pauseAd();\n        }\n    }\n\n    skipAd() {\n        console.log('[alfa] skip VPAID ad');\n        if (this._creative) {\n            this._creative.skipAd();\n        }\n    }\n\n    resizeAd(width, height, viewMode) {\n        console.log('[alfa] resize VPAID ad');\n        if (this._creative) {\n            this._creative.resizeAd(width, height, viewMode);\n        }\n    }\n\n    expandAd() {\n        console.log('[alfa] expand VPAID ad');\n        if (this._creative) {\n            this._creative.expandAd();\n        }\n    }\n\n    collapseAd() {\n        console.log('[alfa] collapse VPAID ad');\n        if (this._creative) {\n            this._creative.collapseAd();\n        }\n    }\n\n    getAdLinear() {\n        if (this._creative) {\n            return this._creative.getAdLinear();\n        }\n        return true;\n    }\n\n    getAdExpanded() {\n        if (this._creative) {\n            return this._creative.getAdExpanded();\n        }\n        return false;\n    }\n\n    getAdSkippableState() {\n        if (this._creative) {\n            return this._creative.getAdSkippableState();\n        }\n        return false;\n    }\n\n    get paused() {\n        return this._paused;\n    }\n\n    get type() {\n        return this._type;\n    }\n\n    set type(value) {\n        this._type = value;\n    }\n\n    get volume() {\n        return this._volume;\n    }\n\n    set volume(value) {\n        console.log(`set volume: ${ value }`);\n\n        this._volume = value;\n        try {\n            if (this._creative)\n                this._creative.setAdVolume(value);\n        } catch (e) {\n            //console.error('VPAID error',e.message);\n        }\n    }\n\n    get error() {\n        return null;\n    }\n\n    get duration() {\n        return this._duration;\n    }\n\n    get currentTime() {\n        return this._currentTime;\n    }\n\n    //not implemented\n    get src() {\n        return this._src;\n    }\n\n    set src(value) {\n        this._src = value;\n        this.createElement();\n    }\n\n    onAdImpression() {\n        console.log('[alfa] VPAID on AdImpression');\n        this._wap.notifyImpressions();\n    }\n\n    onAdVideoFirstQuartile() {\n        console.log('[alfa] VPAID on AdVideoFirstQuartile');\n        this._wap.notifyOnce(VAST_EVENTS.FIRST_QUARTILE);\n    }\n\n    onAdVideoMidpoint() {\n        console.log('[alfa] VPAID on AdVideoMidpoint');\n        this._wap.notifyOnce(VAST_EVENTS.MIDPOINT);\n    }\n\n    onAdVideoThirdQuartile() {\n        console.log('[alfa] VPAID on AdVideoThirdQuartile');\n        this._wap.notifyOnce(VAST_EVENTS.THIRD_QUARTILE);\n    }\n\n    onAdLoaded() {\n        this._creative.startAd();\n        console.log('[alfa] VPAID on AdLoaded');\n\n        if (this._adLoadTimeoutTimer) {\n            clearTimeout(this._adLoadTimeoutTimer);\n        }\n        this._duration = 0;\n        this._currentTime = 0;\n        this._paused = false;\n        this.emit(MEDIA_EVENTS.play);\n\n        // set interval to repeatedly check and update VPAID duration and time in player interface\n        this._checkTimeInterval = setInterval(() => {\n            this._readDurationAndTime();\n        }, CHECK_TIME_INTERVAL);\n\n        try {\n            this._creative.setAdVolume(this._volume);\n        } catch (e) {\n            // nothing to do\n        }\n    }\n\n    onAdVideoStart() {\n        console.log('[alfa] VPAID on AdVideoStart');\n        this._paused = false;\n        this._wap.notifyOnce(VAST_EVENTS.START);\n    }\n\n    onAdClickThru(url, id, playerHandles) {\n        console.log('[alfa] VPAID on AdClickThru');\n        this.emit(PLAYER_EVENTS.AD_CLICK_THROUGH, url, id, playerHandles);\n    }\n\n    onAdExpandedChange() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'AdExpandedChange');\n    }\n\n    onAdInteraction() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'AdInteraction');\n    }\n\n    onAdUserAcceptInvitation() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'AdUserAcceptInvitation');\n    }\n\n    onAdUserMinimize() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'AdUserMinimize');\n    }\n\n    onAdUserClose() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'AdUserClose');\n    }\n\n    onAdSkippableStateChange() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'AdSkippableStateChange');\n    }\n\n    onAdVideoComplete() {\n        console.log('[alfa] VPAID on AdVideoComplete');\n        this._wap.notifyOnce(VAST_EVENTS.COMPLETE);\n    }\n\n    onAdPaused() {\n        console.log('[alfa] VPAID on AdPaused');\n        this._paused = true;\n        this.emit(MEDIA_EVENTS.pause);\n    }\n\n    onAdPlaying() {\n        console.log('[alfa] VPAID on AdPlaying');\n        this._paused = false;\n        this.emit(MEDIA_EVENTS.play);\n        this.emit(MEDIA_EVENTS.timeupdate);\n    }\n\n    onAdError(e) {\n        console.log('[alfa] VPAID on AdError: ', e);\n        this._paused = true;\n        if (this._type === MIME.FLASH) {\n            this._parent.removeChild(this._frameContainer);\n            this._frameContainer = null;\n        } else {\n            this._parent.removeChild(this._frame);\n        }\n        this._frame = void(0);\n        this._creative = void(0);\n        if (this._adLoadTimeoutTimer) {\n            clearTimeout(this._adLoadTimeoutTimer);\n        }\n        if (this._checkTimeInterval) {\n            clearInterval(this._checkTimeInterval);\n        }\n        if (!this._errorSent)\n            this._errorSent = true;\n\n        const vastError = createVastError(VAST_ERRORS.VPAID_ERROR, e && e.message || e);\n        this.emit(MEDIA_EVENTS.error, vastError);\n    }\n\n    onAdVolumeChange() {\n        console.log('[alfa] VPAID on AdVolumeChange');\n        this._readVolume();\n    }\n\n    onAdRemainingTimeChange() {\n        this._readDurationAndTime();\n    }\n\n    onAdDurationChange() {\n        this._readDurationAndTime();\n    }\n\n    onAdStopped() {\n        console.log('[alfa] VPAID on AdStopped');\n\n        if (this._checkTimeInterval) {\n            clearInterval(this._checkTimeInterval);\n        }\n\n        if (this._type === MIME.FLASH) {\n            this._parent.removeChild(this._frameContainer);\n            this._frameContainer = null;\n        } else {\n            if (this._frame.parentNode)\n                this._frame.parentNode.removeChild(this._frame);\n        }\n\n        setTimeout(() => this.emit(MEDIA_EVENTS.ended), 75);\n        this._frame = void(0);\n        this._creative = void(0);\n    }\n\n    onAdSkipped() {\n        this._wap.emit(PLAYER_EVENTS.VPAID_EVENT, 'onAdSkipped');\n    }\n\n    _emitError(error) {\n        if (!this._errorSent) {\n            this._errorSent = true;\n\n            const vastError = createVastError(VAST_ERRORS.VPAID_ERROR, error && error.message || error);\n            this.emit(MEDIA_EVENTS.error, vastError);\n        }\n    }\n\n    _readVolume() {\n        if (this._type === MIME.FLASH) {\n            this._creative.getAdVolume((err, value) => {\n                if (err) {\n                    return;\n                }\n\n                this._wap.ui.setVolumeUI(value);\n                this._wap.emit(MEDIA_EVENTS.volumechange, value);\n            });\n        } else {\n            const vol = this._creative.getAdVolume();\n            this._wap.ui.setVolumeUI(vol);\n            this._wap.emit(MEDIA_EVENTS.volumechange, vol);\n        }\n    }\n\n    _readDurationAndTime() {\n        if (!this._creative) {\n            return;\n        }\n\n        if (this._type === MIME.FLASH) {\n            this._creative.getAdDuration((err, value) => {\n                if (err) {\n                    return;\n                }\n\n                this._duration = value;\n                this.emit(MEDIA_EVENTS.durationchange);\n            });\n\n            this._creative.getAdRemainingTime((err, value) => {\n                if (err) {\n                    return;\n                }\n\n                if (this._duration <= 0) {\n                    this._duration = value;\n                    this.emit(MEDIA_EVENTS.durationchange);\n                }\n\n                this._currentTime = this._duration - value;\n                this.emit(MEDIA_EVENTS.timeupdate);\n            });\n        }\n        else if (this._type === MIME.JS) {\n            this._duration = this._creative.getAdDuration();\n            this._currentTime = this._duration - this._creative.getAdRemainingTime();\n            this.emit(MEDIA_EVENTS.timeupdate);\n            this.emit(MEDIA_EVENTS.durationchange);\n        }\n    }\n\n    onParentResize() {\n        console.log('[alfa] OnParentResize');\n        if (this._creative) {\n            let rect = this._videoEl.getBoundingClientRect();\n            this._creative.resizeAd(rect.width, rect.height, 'normal');\n        }\n    }\n\n    onIFrameReady() {\n        console.log('[alfa] VPAID IFRAME ready');\n        const vpaidAD = this._creative = this._frame.contentWindow.getVPAIDAd();\n\n        const adEl = this._frame.contentWindow.document.createElement('div');\n        adEl.className = 'ad-element';\n        adEl.style.height = '100%';\n        this._frame.contentWindow.document.body.appendChild(adEl);\n\n        EVENTS.forEach((eventName) => {\n            const handler = this['on' + eventName];\n            if (typeof(handler) === 'function') {\n                vpaidAD.subscribe(handler, eventName, this);\n            } else {\n                vpaidAD.subscribe(() => console.log(`[alfa VPAID] ${ eventName }`), eventName, this);\n            }\n        });\n\n        const rect = this._videoEl.getBoundingClientRect();\n        vpaidAD.initAd(rect.width, rect.height, 'normal', 1000,\n            {\n                AdParameters: this._wap.currentAd.adParameters || ''\n            },\n            {\n                slot: adEl,\n                videoSlot: this._videoEl\n            });\n    }\n}\n\nfunction generateHTML5FrameSource(src) {\n    return '<head>' +\n        '<script>' +\n        'function onLoad() {' +\n        '    var js = document.createElement(\"script\");' +\n        '    js.src = \"' + encodeURI(src) + '\";' +\n        '    js.addEventListener(\"load\", function() { window.alfaLoad(); });' +\n        '    js.addEventListener(\"error\", function(error) { window.alfaError(new URIError(\"VPAID script \" + error.target.src + \" is not accessible.\")); });' +\n        '    document.body.appendChild(js);' +\n        '}' +\n        '</script>' +\n        '</head>' +\n        '<body onload=\"onLoad()\" style=\"margin: 0\">';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/players/vpaid.js","'use strict';\r\n\r\nconst swfobject = require('vendor/swfobject/swfobject/src/swfobject');\r\n\r\nconst JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\r\nconst VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\r\n\r\nconst noop = require('./utils').noop;\r\nconst callbackTimeout = require('./utils').callbackTimeout;\r\nconst isPositiveInt = require('./utils').isPositiveInt;\r\nconst createElementWithID = require('./utils').createElementWithID;\r\nconst uniqueVPAID = require('./utils').unique('vpaid');\r\nconst createFlashTester = require('./flashTester.js').createFlashTester;\r\n\r\nconst ERROR = 'error';\r\nconst FLASH_VERSION = '10.1.0';\r\n\r\nlet flashTester = {isSupported: ()=> true}; // if the runFlashTest is not run the flashTester will always return true\r\n\r\nclass VPAIDFLASHClient {\r\n    constructor (vpaidParentEl, callback, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}, params = { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high'}, vpaidOptions = { debug: false, timeout: 10000 }) {\r\n\r\n        var me = this;\r\n\r\n        this._vpaidParentEl = vpaidParentEl;\r\n        this._flashID = uniqueVPAID();\r\n        this._destroyed = false;\r\n        callback = callback || noop;\r\n\r\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\r\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\r\n\r\n        createElementWithID(vpaidParentEl, this._flashID, true);\r\n\r\n        params.movie = swfConfig.data;\r\n        params.FlashVars = `flashid=${this._flashID}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}&debug=${vpaidOptions.debug}&salign=${params.salign}`;\r\n\r\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\r\n\r\n        if (!this.el) {\r\n            return onError( 'swfobject failed to create object in element' );\r\n        }\r\n\r\n        var handler = callbackTimeout(vpaidOptions.timeout,\r\n            (err, data) => {\r\n                $loadPendedAdUnit.call(this);\r\n                callback(err, data);\r\n            }, () => {\r\n                callback('vpaid flash load timeout ' + vpaidOptions.timeout);\r\n            }\r\n        );\r\n\r\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, handler);\r\n\r\n        function onError(error) {\r\n            setTimeout(() => {\r\n                callback(new Error(error));\r\n            }, 0);\r\n            return me;\r\n        }\r\n\r\n    }\r\n\r\n    destroy () {\r\n        this._destroyAdUnit();\r\n\r\n        if (this._flash) {\r\n            this._flash.destroy();\r\n            this._flash = null;\r\n        }\r\n        this.el = null;\r\n        this._destroyed = true;\r\n    }\r\n\r\n    isDestroyed () {\r\n        return this._destroyed;\r\n    }\r\n\r\n    _destroyAdUnit() {\r\n        delete this._loadLater;\r\n\r\n        if (this._adUnitLoad) {\r\n            this._adUnitLoad = null;\r\n            this._flash.removeCallback(this._adUnitLoad);\r\n        }\r\n\r\n        if (this._adUnit) {\r\n            this._adUnit._destroy();\r\n            this._adUnit = null;\r\n        }\r\n    }\r\n\r\n    loadAdUnit(adURL, callback) {\r\n        $throwIfDestroyed.call(this);\r\n\r\n        if (this._adUnit) {\r\n            this._destroyAdUnit();\r\n        }\r\n\r\n        if (this._flash.isReady()) {\r\n            this._adUnitLoad = (err, message) => {\r\n                if (!err) {\r\n                    this._adUnit = new VPAIDAdUnit(this._flash);\r\n                }\r\n                this._adUnitLoad = null;\r\n                callback(err, this._adUnit);\r\n            };\r\n\r\n            this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\r\n        }else {\r\n            this._loadLater = {url: adURL, callback};\r\n        }\r\n    }\r\n\r\n    unloadAdUnit(callback = undefined) {\r\n        $throwIfDestroyed.call(this);\r\n\r\n        this._destroyAdUnit();\r\n        this._flash.callFlashMethod('unloadAdUnit', [], callback);\r\n    }\r\n    getFlashID() {\r\n        $throwIfDestroyed.call(this);\r\n        return this._flash.getFlashID();\r\n    }\r\n    getFlashURL() {\r\n        $throwIfDestroyed.call(this);\r\n        return this._flash.getFlashURL();\r\n    }\r\n}\r\n\r\nsetStaticProperty('isSupported', () => {\r\n    var supported =\r\n      swfobject.hasFlashPlayerVersion(FLASH_VERSION) && flashTester.isSupported();\r\n\r\n    if (!supported) {\r\n      console.warn('-- VPAIDFLASHClient: Minimum required version of flash ', FLASH_VERSION);\r\n    }\r\n\r\n    console.log([\"-- VPAIDFLASHClient: Flash version:\", swfobject.getFlashPlayerVersion()]);\r\n\r\n    return supported;\r\n}, true);\r\n\r\nsetStaticProperty('runFlashTest', (swfConfig) => {\r\n    flashTester = createFlashTester(document.body, swfConfig);\r\n});\r\n\r\nfunction $throwIfDestroyed() {\r\n    if(this._destroyed) {\r\n        throw new Error('VPAIDFlashToJS is destroyed!');\r\n    }\r\n}\r\n\r\nfunction $loadPendedAdUnit() {\r\n    if (this._loadLater) {\r\n        this.loadAdUnit(this._loadLater.url, this._loadLater.callback);\r\n        delete this._loadLater;\r\n    }\r\n}\r\n\r\nfunction setStaticProperty(propertyName, value, writable = false) {\r\n    Object.defineProperty(VPAIDFLASHClient, propertyName, {\r\n        writable: writable,\r\n        configurable: false,\r\n        value: value\r\n    });\r\n}\r\n\r\nVPAIDFLASHClient.swfobject = swfobject;\r\n\r\nmodule.exports = VPAIDFLASHClient;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/VPAIDFLASHClient.js","'use strict';\r\n\r\nlet SingleValueRegistry = require('./registry').SingleValueRegistry;\r\nlet instances = new SingleValueRegistry();\r\n\r\nconst JSFlashBridgeRegistry = {};\r\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\r\n    writable: false,\r\n    configurable: false,\r\n    value: function (id, instance) {\r\n        instances.add(id, instance);\r\n    }\r\n});\r\n\r\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\r\n    writable: false,\r\n    configurable: false,\r\n    value: function (id) {\r\n        return instances.get(id);\r\n    }\r\n});\r\n\r\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\r\n    writable: false,\r\n    configurable: false,\r\n    value: function (id) {\r\n        return instances.remove(id);\r\n    }\r\n});\r\n\r\nmodule.exports = JSFlashBridgeRegistry;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/jsFlashBridgeRegistry.js","'use strict';\r\n\r\nlet IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\r\nlet ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\r\n    return ['constructor'].indexOf(property) === -1;\r\n});\r\n\r\nexport class VPAIDAdUnit extends IVPAIDAdUnit {\r\n    constructor (flash) {\r\n        super();\r\n        this._destroyed = false;\r\n        this._flash = flash;\r\n    }\r\n\r\n    _destroy() {\r\n        this._destroyed = true;\r\n        ALL_VPAID_METHODS.forEach((methodName) => {\r\n            this._flash.removeCallbackByMethodName(methodName);\r\n        });\r\n        IVPAIDAdUnit.EVENTS.forEach((event) => {\r\n            this._flash.offEvent(event);\r\n        });\r\n\r\n        this._flash = null;\r\n    }\r\n\r\n    isDestroyed () {\r\n        return this._destroyed;\r\n    }\r\n\r\n    on(eventName, callback) {\r\n        this._flash.on(eventName, callback);\r\n    }\r\n\r\n    off(eventName, callback) {\r\n        this._flash.off(eventName, callback);\r\n    }\r\n\r\n    //VPAID interface\r\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {\r\n        this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\r\n    }\r\n    initAd (width, height, viewMode, desiredBitrate, creativeData = {AdParameters: ''}, environmentVars = {flashVars: ''}, callback = undefined) {\r\n        //resize element that has the flash object\r\n        this._flash.setSize(width, height);\r\n        creativeData = creativeData || {AdParameters: ''};\r\n        environmentVars = environmentVars || {flashVars: ''};\r\n\r\n        this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData.AdParameters || '', environmentVars.flashVars || ''], callback);\r\n    }\r\n    resizeAd(width, height, viewMode, callback = undefined) {\r\n        //resize element that has the flash object\r\n        this._flash.setSize(width, height);\r\n\r\n        //resize ad inside the flash\r\n        this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\r\n    }\r\n    startAd(callback = undefined) {\r\n        this._flash.callFlashMethod('startAd', [], callback);\r\n    }\r\n    stopAd(callback = undefined) {\r\n        this._flash.callFlashMethod('stopAd', [], callback);\r\n    }\r\n    pauseAd(callback = undefined) {\r\n        this._flash.callFlashMethod('pauseAd', [], callback);\r\n    }\r\n    resumeAd(callback = undefined) {\r\n        this._flash.callFlashMethod('resumeAd', [], callback);\r\n    }\r\n    expandAd(callback = undefined) {\r\n        this._flash.callFlashMethod('expandAd', [], callback);\r\n    }\r\n    collapseAd(callback = undefined) {\r\n        this._flash.callFlashMethod('collapseAd', [], callback);\r\n    }\r\n    skipAd(callback = undefined) {\r\n        this._flash.callFlashMethod('skipAd', [], callback);\r\n    }\r\n\r\n    //properties that will be treat as async methods\r\n    getAdLinear(callback) {\r\n        this._flash.callFlashMethod('getAdLinear', [], callback);\r\n    }\r\n    getAdWidth(callback) {\r\n        this._flash.callFlashMethod('getAdWidth', [], callback);\r\n    }\r\n    getAdHeight(callback) {\r\n        this._flash.callFlashMethod('getAdHeight', [], callback);\r\n    }\r\n    getAdExpanded(callback) {\r\n        this._flash.callFlashMethod('getAdExpanded', [], callback);\r\n    }\r\n    getAdSkippableState(callback) {\r\n        this._flash.callFlashMethod('getAdSkippableState', [], callback);\r\n    }\r\n    getAdRemainingTime(callback) {\r\n        this._flash.callFlashMethod('getAdRemainingTime', [], callback);\r\n    }\r\n    getAdDuration(callback) {\r\n        this._flash.callFlashMethod('getAdDuration', [], callback);\r\n    }\r\n    setAdVolume(volume, callback = undefined) {\r\n        this._flash.callFlashMethod('setAdVolume', [volume], callback);\r\n    }\r\n    getAdVolume(callback) {\r\n        this._flash.callFlashMethod('getAdVolume', [], callback);\r\n    }\r\n    getAdCompanions(callback) {\r\n        this._flash.callFlashMethod('getAdCompanions', [], callback);\r\n    }\r\n    getAdIcons(callback) {\r\n        this._flash.callFlashMethod('getAdIcons', [], callback);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/VPAIDAdUnit.js","'use strict';\r\n\r\n//simple representation of the API\r\nexport class IVPAIDAdUnit {\r\n\r\n    //all methods below\r\n    //are async methods\r\n    handshakeVersion(playerVPAIDVersion = '2.0', callback = undefined) {}\r\n\r\n    //creativeData is an object to be consistent with VPAIDHTML\r\n    initAd (width, height, viewMode, desiredBitrate, creativeData = {AdParameters:''}, environmentVars = {flashVars: ''}, callback = undefined) {}\r\n    resizeAd(width, height, viewMode, callback = undefined) {}\r\n\r\n    startAd(callback = undefined) {}\r\n    stopAd(callback = undefined) {}\r\n    pauseAd(callback = undefined) {}\r\n    resumeAd(callback = undefined) {}\r\n    expandAd(callback = undefined) {}\r\n    collapseAd(callback = undefined) {}\r\n    skipAd(callback = undefined) {}\r\n\r\n    //properties that will be treat as async methods\r\n    getAdLinear(callback) {}\r\n    getAdWidth(callback) {}\r\n    getAdHeight(callback) {}\r\n    getAdExpanded(callback) {}\r\n    getAdSkippableState(callback) {}\r\n    getAdRemainingTime(callback) {}\r\n    getAdDuration(callback) {}\r\n    setAdVolume(soundVolume, callback = undefined) {}\r\n    getAdVolume(callback) {}\r\n    getAdCompanions(callback) {}\r\n    getAdIcons(callback) {}\r\n}\r\n\r\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\r\n    writable: false,\r\n    configurable: false,\r\n    value: [\r\n        'AdLoaded',\r\n        'AdStarted',\r\n        'AdStopped',\r\n        'AdSkipped',\r\n        'AdSkippableStateChange', // VPAID 2.0 new event\r\n        'AdSizeChange', // VPAID 2.0 new event\r\n        'AdLinearChange',\r\n        'AdDurationChange', // VPAID 2.0 new event\r\n        'AdExpandedChange',\r\n        'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\r\n        'AdVolumeChange',\r\n        'AdImpression',\r\n        'AdVideoStart',\r\n        'AdVideoFirstQuartile',\r\n        'AdVideoMidpoint',\r\n        'AdVideoThirdQuartile',\r\n        'AdVideoComplete',\r\n        'AdClickThru',\r\n        'AdInteraction', // VPAID 2.0 new event\r\n        'AdUserAcceptInvitation',\r\n        'AdUserMinimize',\r\n        'AdUserClose',\r\n        'AdPaused',\r\n        'AdPlaying',\r\n        'AdLog',\r\n        'AdError'\r\n    ]\r\n});\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/IVPAIDAdUnit.js","'use strict';\r\n\r\nconst swfobject = require('vendor/swfobject/swfobject/src/swfobject');\r\n\r\nconst FLASH_TEST = 'vpaid_video_flash_tester';\r\nconst FLASH_TEST_EL = 'vpaid_video_flash_tester_el';\r\nconst JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\r\nconst utils = require('./utils');\r\nconst MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\r\n\r\nclass FlashTester {\r\n    constructor(parent, swfConfig = {data: 'VPAIDFlash.swf', width: 800, height: 400}) {\r\n        this.parentEl = utils.createElementWithID(parent, FLASH_TEST_EL); // some browsers create global variables using the element id http://stackoverflow.com/questions/3434278/do-dom-tree-elements-with-ids-become-global-variables\r\n        utils.hideFlashEl(this.parentEl);\r\n        var params = {};\r\n        params.movie = swfConfig.data;\r\n        params.FlashVars = `flashid=${FLASH_TEST_EL}&handler=${JSFlashBridge.VPAID_FLASH_HANDLER}`;\r\n        params.allowScriptAccess = 'always';\r\n\r\n        this.el = swfobject.createSWF(swfConfig, params, FLASH_TEST_EL);\r\n        this._handlers = new MultipleValuesRegistry();\r\n        this._isSupported = false;\r\n        if (this.el) {\r\n            utils.hideFlashEl(this.el);\r\n            this._flash = new JSFlashBridge(this.el, swfConfig.data, FLASH_TEST_EL, swfConfig.width, swfConfig.height, ()=> {\r\n                const support = true;\r\n                this._isSupported = support;\r\n                this._handlers.get('change').forEach((callback) => {\r\n                    setTimeout(()=> {\r\n                        callback('change', support);\r\n                    }, 0);\r\n                });\r\n            });\r\n        }\r\n    }\r\n    isSupported() {\r\n        // return this._isSupported;\r\n        return true;\r\n    }\r\n    on(eventName, callback) {\r\n        this._handlers.add(eventName, callback);\r\n    }\r\n}\r\n\r\nexport var createFlashTester = function createFlashTester(el, swfConfig) {\r\n    if (!window[FLASH_TEST]) {\r\n        window[FLASH_TEST] = new FlashTester(el, swfConfig);\r\n    }\r\n    return window[FLASH_TEST];\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vendor/vpaid-flash-client/js/flashTester.js","import EventSystem from '@/system/eventSystem';\nimport { css, STYLES } from '@/ui/styles';\nimport { parsedUA as ua } from '@/data/userAgent';\nimport { isChildOf } from './utils';\nimport { PLAYER_EVENTS } from '@/data/constants';\n\nexport const EVENTS = {\n    MOUSE_OVER_PLAYER: 'mouse_over_player',\n    MOUSE_OUT_OF_PLAYER: 'mouse_out_of_player'\n};\n\nexport class Background extends EventSystem {\n    constructor() {\n        super();\n\n        this.element = null;\n    }\n\n    create(parent, width, height) {\n        const element = this.element = document.createElement('div');\n\n        // click event\n        element.addEventListener(ua.isMobile ? 'touchend' : 'click', (e) => this.emit(PLAYER_EVENTS.CLICK, e));\n        // bind mouse events\n        this.__bindMouseEvents(parent, element);\n\n        element.className = STYLES.ROOT;\n        if (parent) {\n            element.classList.add('alfa-main-background');\n\n            if (width && height) {\n                parent.style.width = width + 'px';\n                parent.style.height = height + 'px';\n                element.style.width = width + 'px';\n                element.style.height = height + 'px';\n            } else if (parent.offsetHeight > 0 && parent.offsetWidth > 0) {\n                element.style.width = parent.offsetWidth + 'px';\n                element.style.height = parent.offsetHeight + 'px';\n            } else {\n                element.style.cssText = STYLES.BACKGROUND_FULL_PAGE;\n            }\n        } else {\n            element.classList.add('alfa-video-background');\n        }\n\n        // load player styles\n        const styleElement = document.createElement('style');\n        styleElement.innerHTML = css;\n        element.appendChild(styleElement);\n\n        if (parent) {\n            parent.appendChild(element);\n        } else {\n            document.body.appendChild(element);\n        }\n    }\n\n    destroy() {\n        this.element.parentNode.removeChild(this.ui.element);\n    }\n\n    addElement(child) {\n        this.element.appendChild(child);\n    }\n\n    removeElement(child) {\n        this.element.removeChild(child);\n    }\n\n    isFullscreen() {\n        return this.element.classList.contains(STYLES.FULLSCREEN);\n    }\n\n    enterFullscreen() {\n        this.element.classList.add(STYLES.FULLSCREEN);\n    }\n\n    exitFullscreen() {\n        this.element.classList.remove(STYLES.FULLSCREEN);\n    }\n\n    /**\n     * Set player background to full translucent, so we can see underneath player if we injected as VPAID player\n     */\n    enableTranslucence() {\n        this.element.style.background = 'rgba(0,0,0,0)';\n    }\n\n    isInBounds(target) {\n        return isChildOf(target, this.element);\n    }\n\n    get size() {\n        return {\n            width: this.element.offsetWidth,\n            height: this.element.offsetHeight\n        };\n    }\n\n    /**\n     * Bind mouse events if NOT on mobile device\n     * @param element\n     * @private\n     */\n    __bindMouseEvents(parent, element) {\n        // check for mobile device\n        if (ua.isMobile) {\n            return;\n        }\n\n        // bind 'mousemove' event\n        element.addEventListener('mousemove', (e) => {\n            this.emit(EVENTS.MOUSE_OVER_PLAYER, e);\n        }, true);\n        // bind 'mouseout' event\n        element.addEventListener('mouseout', (e) => {\n            // check if mouse is out of player bounds\n            const root = parent || element;\n            if (isChildOf(e.relatedTarget, root)) {\n                return;\n            }\n\n            this.emit(EVENTS.MOUSE_OUT_OF_PLAYER, e);\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/background.js","import { Icon, EVENTS as ICON_EVENTS } from './icon';\r\nimport EventSystem from '@/system/eventSystem';\r\n\r\nexport const EVENTS = {\r\n    ICON_VIEW: 'icon_view',\r\n    ICON_CLICK: 'icon_click',\r\n};\r\n\r\n/**\r\n * Container element for VAST icons\r\n */\r\nexport class IconsContainer extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.icons = [];\r\n    }\r\n\r\n    create(parent) {\r\n        if (this.element) {\r\n            this.remove();\r\n        }\r\n\r\n        this.element = document.createElement('div');\r\n        this.element.className = 'alfa-icons-container';\r\n\r\n        parent.appendChild(this.element);\r\n    }\r\n\r\n    remove() {\r\n        const element = this.element;\r\n        if (element && element.parentNode) {\r\n            element.parentNode.removeChild(element);\r\n        }\r\n    }\r\n\r\n    resizeToVideo(videoElement) {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n\r\n        const videoElementRect = videoElement.getBoundingClientRect();\r\n\r\n        let top, height, left, width;\r\n        if (videoElement && videoElement.videoHeight > 0) {\r\n            if (videoElement.videoHeight / videoElementRect.height <= videoElement.videoWidth / videoElementRect.width) {\r\n                const relativeHeight = videoElement.videoHeight / (videoElement.videoWidth / videoElementRect.width);\r\n                top = ((videoElementRect.height - relativeHeight) / 2) + 'px';\r\n                height = relativeHeight + 'px';\r\n                left = '0';\r\n                width = '100%';\r\n            } else {\r\n                const relativeWidth = videoElement.videoWidth / (videoElement.videoHeight / videoElementRect.height);\r\n                left = ((videoElementRect.width - relativeWidth) / 2) + 'px';\r\n                width = relativeWidth + 'px';\r\n                top = '0';\r\n                height = '100%';\r\n            }\r\n        } else {\r\n            top = '0';\r\n            height = '100%';\r\n            left = '0';\r\n            width = '100%';\r\n        }\r\n\r\n        // set new dimensions\r\n        const element = this.element;\r\n        element.style.top = top;\r\n        element.style.height = height;\r\n        element.style.left = left;\r\n        element.style.width = width;\r\n    }\r\n\r\n    showIcons(newIconRecords) {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n\r\n        const visibleIconElements = this.icons;\r\n\r\n        // filter visible icons that should be destroyed\r\n        const iconsToDestroy = visibleIconElements.filter((iconElement) => {\r\n            const newIconRecordsByIndex = newIconRecords.filter((newIconRecord) => newIconRecord.index === iconElement.data.index);\r\n            return newIconRecordsByIndex.length <= 0;\r\n        });\r\n        // filter new icons data - for Icon element creation\r\n        const iconRecordsToCreate = newIconRecords.filter((newIconRecord) => {\r\n            const visibleIconElementsByIndex = visibleIconElements.filter((iconElement) => iconElement.data.index === newIconRecord.index);\r\n            return visibleIconElementsByIndex.length <= 0;\r\n        });\r\n\r\n        // destroy invalid icons\r\n        iconsToDestroy.forEach((iconElement) => {\r\n            const index = visibleIconElements.indexOf(iconElement);\r\n            if (index >= 0) {\r\n                visibleIconElements.slice(index, 1);\r\n            }\r\n\r\n            iconElement.off(ICON_EVENTS.VIEW);\r\n            iconElement.off(ICON_EVENTS.CLICK);\r\n\r\n            iconElement.remove();\r\n        });\r\n\r\n        // create new icons\r\n        iconRecordsToCreate.forEach((iconRecord) => {\r\n            const iconElement = new Icon(iconRecord);\r\n            iconElement.create(this.element);\r\n\r\n            iconElement.on(ICON_EVENTS.VIEW, (icon) => {\r\n                this.emit(EVENTS.ICON_VIEW, icon);\r\n            });\r\n            iconElement.on(ICON_EVENTS.CLICK, (icon) => {\r\n                this.emit(EVENTS.ICON_CLICK, icon);\r\n            });\r\n\r\n            visibleIconElements.push(iconElement);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/iconsContainer.js","import EventSystem from '@/system/eventSystem';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    VIEW: 'view',\r\n    CLICK: 'click',\r\n};\r\n\r\n/**\r\n * VAST icon element\r\n */\r\nexport class Icon extends EventSystem {\r\n    constructor(data) {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.data = data;\r\n    }\r\n\r\n    create(parent) {\r\n        const element = this.element = document.createElement('div');\r\n        element.className = 'alfa-icon';\r\n        if (this.data.clickThrough) {\r\n            element.classList.add(STYLES.CLICKABLE);\r\n        }\r\n        element.style.width = this.data.width + 'px';\r\n        element.style.height = this.data.height + 'px';\r\n\r\n        positionElement(element, this.data);\r\n\r\n        const img = document.createElement('img');\r\n        img.src = this.data.staticResource;\r\n\r\n        // emit event after successful image loading\r\n        img.onload = () => {\r\n            this.emit(EVENTS.VIEW, this.data);\r\n        };\r\n\r\n        // click listener\r\n        img.addEventListener('click', () => {\r\n            this.emit(EVENTS.CLICK, this.data);\r\n        });\r\n\r\n        element.appendChild(img);\r\n\r\n        parent.appendChild(element);\r\n    }\r\n\r\n    remove() {\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n    }\r\n}\r\n\r\nfunction positionElement(element, data) {\r\n    const x = String(data.xPosition).toLowerCase();\r\n    if (x === 'left') {\r\n        element.style.left = '0';\r\n    } else if (x === 'right') {\r\n        element.style.right = '0';\r\n    } else {\r\n        element.style.left = x + 'px';\r\n    }\r\n\r\n    const y = String(data.yPosition).toLowerCase();\r\n    if (y === 'top') {\r\n        element.style.top = '0';\r\n    } else if (y === 'bottom') {\r\n        element.style.bottom = '0';\r\n    } else {\r\n        element.style.top = y + 'px';\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/icon.js","import EventSystem from '@/system/eventSystem';\r\nimport { createVastError, VAST_ERRORS } from '@/system/errors';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    VIEW: 'view',\r\n    CLOSE: 'close',\r\n    CONTENT_CLICK: 'content_click',\r\n    VAST_ERROR: 'vast_error'\r\n};\r\n\r\nexport class Overlay extends EventSystem {\r\n    constructor(nonLinear) {\r\n        super();\r\n\r\n        this.parent = null;\r\n        this.element = null;\r\n        this.nonLinear = nonLinear;\r\n    }\r\n\r\n    create(parent) {\r\n        this.parent = parent;\r\n\r\n        const element = this.element = document.createElement('div');\r\n        element.className = 'alfa-overlay-root';\r\n\r\n        // hide root overlay element, until successful image loading\r\n        this.hide();\r\n\r\n        // close button click listener\r\n        const closeButton = document.createElement('div');\r\n        closeButton.className = 'alfa-overlay-close-btn';\r\n        closeButton.addEventListener('click', () => {\r\n            this.emit(EVENTS.CLOSE);\r\n        });\r\n\r\n        const contentFrame = document.createElement('div');\r\n        contentFrame.className = 'alfa-overlay-content-frame';\r\n\r\n        // banner image\r\n        const image = document.createElement('img');\r\n\r\n        // banner image props\r\n        image.src = this.nonLinear.staticResource;\r\n        image.style.width = '100%';\r\n        image.style.height = '100%';\r\n\r\n        // show banner after successful image loading\r\n        image.onload = () => {\r\n            this.show();\r\n            this.emit(EVENTS.VIEW);\r\n        };\r\n\r\n        // emit VAST error if target resource cannot be loaded (404 error)\r\n        image.onerror = () => {\r\n            const error = createVastError(VAST_ERRORS.NONLINEAR_FETCH, `NonLinear resource '${image.src}' is not accessible.`);\r\n            this.emit(EVENTS.VAST_ERROR, error);\r\n        };\r\n\r\n        // content click listener\r\n        image.addEventListener('click', () => {\r\n            window.open(this.nonLinear.clickThrough, '_blank');\r\n            this.emit(EVENTS.CONTENT_CLICK, this.nonLinear);\r\n        });\r\n        contentFrame.appendChild(image);\r\n\r\n        element.appendChild(contentFrame);\r\n        element.appendChild(closeButton);\r\n\r\n        // update banner sizes according to NonLinear size, with parent size in mind\r\n        this.updateGeometry();\r\n\r\n        parent.appendChild(element);\r\n    }\r\n\r\n    /**\r\n     * Update banner sizes according to NonLinear size, with parent size in mind\r\n     */\r\n    updateGeometry() {\r\n        const availableWidth = this.parent.offsetWidth - 30;\r\n        const availableHeight = this.parent.offsetHeight - 50;\r\n        const scaleWidth = availableWidth / this.nonLinear.width;\r\n        const scaleHeight = availableHeight / this.nonLinear.height;\r\n\r\n        const minScale = scaleHeight < scaleWidth ? scaleHeight : scaleWidth;\r\n\r\n        this.width = minScale * this.nonLinear.width;\r\n        this.height = minScale * this.nonLinear.height;\r\n\r\n        this.element.style.width = this.width + 'px';\r\n        this.element.style.height = this.height + 'px';\r\n        this.element.style.bottom = '40px';\r\n        this.element.style.left = Math.round((this.parent.offsetWidth - this.width) / 2) + 'px';\r\n    }\r\n\r\n    show() {\r\n        if (this.element) {\r\n            this.element.classList.remove(STYLES.OPACITY_HIDDEN);\r\n        }\r\n    }\r\n\r\n    hide() {\r\n        if (this.element) {\r\n            this.element.classList.add(STYLES.OPACITY_HIDDEN);\r\n        }\r\n    }\r\n\r\n    remove() {\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/overlay.js","import EventSystem from '@/system/eventSystem';\r\nimport { settings } from '@/data/settings';\r\n\r\nexport const EVENTS = {\r\n    CLICK: 'click'\r\n};\r\n\r\nexport class SkipButton extends EventSystem {\r\n    constructor(skipOffset) {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.skipText = null;\r\n        this.skipTime = 999;\r\n        this.skipOffset = skipOffset || settings.skipAdOffset;\r\n    }\r\n\r\n    create(parent) {\r\n        const element = this.element = document.createElement('div');\r\n        element.className = 'alfa-skip-button';\r\n        element.addEventListener('click', () => {\r\n            // emit CLICK only after skip interval is passed\r\n            if (this.skipTime <= 0) {\r\n                this.emit(EVENTS.CLICK);\r\n            }\r\n        });\r\n\r\n        const skipText = this.skipText = document.createElement('span');\r\n        skipText.className = 'alfa-skip-button-text';\r\n        element.appendChild(skipText);\r\n\r\n        parent.appendChild(element);\r\n    }\r\n\r\n    remove() {\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n    }\r\n\r\n    update(currentTime) {\r\n        this.skipTime = Math.round(this.skipOffset - currentTime);\r\n        if (this.skipTime > 0) {\r\n            this.skipText.innerHTML = 'Skip Ad in ' + this.skipTime;\r\n        } else {\r\n            this.skipText.innerHTML = 'Skip Now';\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/skipButton.js","import EventSystem from '@/system/eventSystem';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    AGREED: 'agreed',\r\n    REJECT: 'reject'\r\n};\r\n\r\nconst WARNING_TEXT = '' +\r\n    'By entering this video, clicking the green \"Show Me\" button below, you agree to the following terms and conditions: ' +\r\n    'You certify that you are 18 years of age or older, and are not offended by sexually explicit imagery. ' +\r\n    'You agree that you will not permit any person(s) under 18 years of age to have access to the video.';\r\n\r\nexport class AdultDialog extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this.element = null;\r\n    }\r\n\r\n    create(parent) {\r\n        this.element = document.createElement('div');\r\n        this.element.className = 'alfa-adult-warning-base';\r\n\r\n        const innerBase = document.createElement('div');\r\n        innerBase.className = 'alfa-adult-inner-base';\r\n\r\n        const innerCenter = document.createElement('div');\r\n        innerCenter.className = 'alfa-adult-inner-center';\r\n\r\n        const mainText = document.createElement('div');\r\n        mainText.className = `alfa-adult-main-text ${STYLES.NO_SELECT}`;\r\n        mainText.appendChild(document.createTextNode('Adult Only!'));\r\n\r\n        const warningText = document.createElement('div');\r\n        warningText.className = `alfa-adult-warning-text ${STYLES.NO_SELECT}`;\r\n        warningText.appendChild(document.createTextNode(WARNING_TEXT));\r\n\r\n        const showButton = document.createElement('div');\r\n        showButton.appendChild(document.createTextNode('Show me'));\r\n        showButton.className = `alfa-adult-show-button ${STYLES.NO_SELECT}`;\r\n        showButton.addEventListener('click', () => {\r\n            this.remove();\r\n            this.emit(EVENTS.AGREED);\r\n        });\r\n\r\n        const showButtonRow = document.createElement('div');\r\n        showButtonRow.appendChild(showButton);\r\n        showButtonRow.className = 'alfa-adult-showme';\r\n\r\n        const leaveButton = document.createElement('div');\r\n        leaveButton.className = `alfa-adult-leave ${STYLES.NO_SELECT}`;\r\n        leaveButton.appendChild(document.createTextNode('Leave'));\r\n        leaveButton.addEventListener('click', () => {\r\n            this.emit(EVENTS.REJECT);\r\n        });\r\n\r\n        innerCenter.appendChild(mainText);\r\n        innerCenter.appendChild(warningText);\r\n        innerCenter.appendChild(showButtonRow);\r\n        innerBase.appendChild(innerCenter);\r\n        innerBase.appendChild(leaveButton);\r\n        this.element.appendChild(innerBase);\r\n\r\n        parent.appendChild(this.element);\r\n    }\r\n\r\n    remove() {\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/adultDialog.js","import { parsedUA as ua } from '@/data/userAgent';\r\nimport EventSystem from '@/system/eventSystem';\r\nimport { TimeBar, EVENTS as TIME_BAR_EVENTS } from './timeBar';\r\nimport { TimeLabel } from './timeLabel';\r\nimport { VolumeBar, EVENTS as VOLUME_BAR_EVENTS } from './volumeBar';\r\nimport { isChildOf } from './utils';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    TIME_SEEK_START: 'time_seek_start',\r\n    TIME_SEEK: 'time_seek',\r\n    TIME_SEEK_END: 'time_seek_end',\r\n\r\n    PLAY_PAUSE_CLICK: 'play_pause_click',\r\n    VOLUME_CLICK: 'volume_click',\r\n    VOLUME_CHANGE: 'volume_change',\r\n    FULLSCREEN_CLICK: 'fullscreen_click'\r\n};\r\n\r\nexport class ControlsBar extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.playButton = null;\r\n\r\n        this.timeBar = new TimeBar();\r\n        this.currentTime = new TimeLabel('alfa-current-time');\r\n        this.totalTime = new TimeLabel('alfa-total-time');\r\n\r\n        this.volumeButton = null;\r\n        this.volumeBar = null;\r\n    }\r\n\r\n    create(parent, config) {\r\n        this.element = document.createElement('span');\r\n        this.element.className = `alfa-controls ${STYLES.TRANSITION_VISIBLE}`;\r\n\r\n        this.playButton = document.createElement('span');\r\n        this.playButton.className = `alfa-play-button play-icon alfa-controlbar-item alfa-ctrl-button-icon ${STYLES.NO_SELECT}`;\r\n        this.element.appendChild(this.playButton);\r\n\r\n        this.currentTime.create(this.element);\r\n        this.timeBar.create(this.element);\r\n        this.totalTime.create(this.element);\r\n\r\n        if (!ua.isMobile) {\r\n            this.createVolumeRegulator(this.element);\r\n        }\r\n\r\n        if (!config.isFullscreenRestricted()) {\r\n            this.createFullscreenButton(this.element);\r\n        }\r\n\r\n        this.playButton.addEventListener(ua.isMobile ? 'touchend' : 'click', (e) => {\r\n            e.stopPropagation();\r\n            this.emit(EVENTS.PLAY_PAUSE_CLICK);\r\n        });\r\n\r\n        this.timeBar.on(TIME_BAR_EVENTS.SEEK_START, () => this.emit(EVENTS.TIME_SEEK_START));\r\n        this.timeBar.on(TIME_BAR_EVENTS.SEEK, (percent) => this.emit(EVENTS.TIME_SEEK, percent));\r\n        this.timeBar.on(TIME_BAR_EVENTS.SEEK_END, () => this.emit(EVENTS.TIME_SEEK_END));\r\n\r\n        parent.appendChild(this.element);\r\n    }\r\n\r\n    createVolumeRegulator(parent) {\r\n        this.volumeButton = document.createElement('span');\r\n        this.volumeButton.className = `${STYLES.BUTTON_VOLUME} alfa-controlbar-item alfa-ctrl-button-icon`;\r\n\r\n        this.volumeBar = new VolumeBar();\r\n        this.volumeBar.create(this.volumeButton);\r\n        this.volumeBar.on(VOLUME_BAR_EVENTS.VOLUME_CHANGE, (percent) => this.emit(EVENTS.VOLUME_CHANGE, percent));\r\n\r\n        this.volumeButton.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.emit(EVENTS.VOLUME_CLICK);\r\n        });\r\n        this.volumeButton.addEventListener('mouseenter', () => this.volumeBar.show());\r\n        this.volumeButton.addEventListener('mouseout', (ev) => {\r\n            const related = ev.relatedTarget;\r\n            if (!isChildOf(related, this.volumeButton)) {\r\n                this.volumeBar.hide();\r\n            }\r\n        });\r\n\r\n        parent.appendChild(this.volumeButton);\r\n    }\r\n\r\n    createFullscreenButton(parent) {\r\n        const fullScreenButton = document.createElement('span');\r\n        fullScreenButton.className = 'alfa-fullscreen-button alfa-controlbar-item alfa-ctrl-button-icon';\r\n        fullScreenButton.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.emit(EVENTS.FULLSCREEN_CLICK);\r\n        });\r\n\r\n        parent.appendChild(fullScreenButton);\r\n    }\r\n\r\n    show() {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n\r\n        this.element.classList.remove(STYLES.DISPLAY_NONE);\r\n        this.element.classList.remove(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    hide(immediate) {\r\n        if (immediate) {\r\n            this.element.classList.add(STYLES.DISPLAY_NONE);\r\n        }\r\n        this.element.classList.add(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    isVisible() {\r\n        return !this.element.classList.contains(STYLES.DISPLAY_NONE)\r\n            && !this.element.classList.contains(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    morphToAdsLayout() {\r\n        this.currentTime.setText('Wait for ad...');\r\n        this.timeBar.hide();\r\n        this.totalTime.hide();\r\n\r\n        this.element.classList.add('adsLayout');\r\n    }\r\n\r\n    morphToWaitingAdsLayout() {\r\n        this.currentTime.setText('Wait for ad...');\r\n    }\r\n\r\n    morphToNormalLayout() {\r\n        if (!this.isAdsLayout()) {\r\n            return;\r\n        }\r\n\r\n        this.timeBar.show();\r\n        this.totalTime.show();\r\n        this.currentTime.setTime(0);\r\n        this.element.classList.remove('adsLayout');\r\n    }\r\n\r\n    isAdsLayout() {\r\n        return this.element.classList.contains('adsLayout');\r\n    }\r\n\r\n    showPlayButton() {\r\n        this.playButton.classList.remove(STYLES.ICON_PAUSE);\r\n        this.playButton.classList.add(STYLES.ICON_PLAY);\r\n    }\r\n\r\n    showPauseButton() {\r\n        this.playButton.classList.remove(STYLES.ICON_PLAY);\r\n        this.playButton.classList.add(STYLES.ICON_PAUSE);\r\n    }\r\n\r\n    updateVolume(vol) {\r\n        if (!this.volumeButton) {\r\n            return;\r\n        }\r\n\r\n        this.volumeBar.setVolume(vol);\r\n\r\n        if (vol === 0) {\r\n            this.volumeButton.classList.add(STYLES.BUTTON_VOLUME_MUTE);\r\n        } else {\r\n            this.volumeButton.classList.remove(STYLES.BUTTON_VOLUME_MUTE);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/controlsBar.js","import { parsedUA as ua } from '@/data/userAgent';\r\nimport EventSystem from '@/system/eventSystem';\r\nimport { normalizePercent } from './utils';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    SEEK_START: 'seek_start',\r\n    SEEK: 'seek',\r\n    SEEK_END: 'seek_end'\r\n};\r\n\r\nexport class TimeBar extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.thumb = null;\r\n        this.playRail = null;\r\n        this.buffRail = null;\r\n\r\n        this.__isSeeking = false;\r\n    }\r\n\r\n    create(parent) {\r\n        this.element = document.createElement('span');\r\n        this.element.className = `${STYLES.TIMEBAR} ${STYLES.NO_SELECT}`;\r\n\r\n        // seek rail\r\n        const seekRail = document.createElement('span');\r\n        seekRail.className = `${STYLES.TIMEBAR_RAIL} ${STYLES.TIMEBAR_SEEK_RAIL}`;\r\n        const seekRailFilling = document.createElement('span');\r\n        seekRailFilling.className = `${STYLES.TIMEBAR_RAIL_FILLING} ${STYLES.TIMEBAR_SEEK_RAIL_FILLING}`;\r\n        seekRail.appendChild(seekRailFilling);\r\n\r\n        // buff rail\r\n        this.buffRail = document.createElement('span');\r\n        this.buffRail.className = `${STYLES.TIMEBAR_RAIL} ${STYLES.TIMEBAR_BUFF_RAIL}`;\r\n        this.buffRail.style.width = '0%';\r\n        const buffRailFilling = document.createElement('span');\r\n        buffRailFilling.className = `${STYLES.TIMEBAR_RAIL_FILLING} ${STYLES.TIMEBAR_BUFF_RAIL_FILLING} ${STYLES.NO_SELECT}`;\r\n        this.buffRail.appendChild(buffRailFilling);\r\n\r\n        // play rail\r\n        this.playRail = document.createElement('span');\r\n        this.playRail.className = `${STYLES.TIMEBAR_RAIL} ${STYLES.TIMEBAR_PLAY_RAIL}`;\r\n        const playRailFilling = document.createElement('span');\r\n        playRailFilling.className = `${STYLES.TIMEBAR_RAIL_FILLING} ${STYLES.TIMEBAR_PLAY_RAIL_FILLING} ${STYLES.NO_SELECT}`;\r\n        this.playRail.appendChild(playRailFilling);\r\n\r\n        this.thumb = document.createElement('span');\r\n        this.thumb.className = `${STYLES.TIMEBAR_THUMB} ${STYLES.NO_SELECT}`;\r\n\r\n        // append main elements\r\n        this.element.appendChild(seekRail);\r\n        this.element.appendChild(this.buffRail);\r\n        this.element.appendChild(this.playRail);\r\n        this.element.appendChild(this.thumb);\r\n\r\n        parent.appendChild(this.element);\r\n\r\n        if (ua.isMobile) {\r\n            this.element.addEventListener('touchstart', (e) => this.__onSeekStart(e));\r\n            this.element.addEventListener('touchmove', (e) => this.__onSeek(e));\r\n            this.element.addEventListener('touchend', (e) => this.__onSeekEnd(e));\r\n        } else {\r\n            this.element.addEventListener('mousedown', (e) => this.__onSeekStart(e));\r\n            window.addEventListener('mousemove', (e) => this.__onSeek(e));\r\n            window.addEventListener('mouseup', (e) => this.__onSeekEnd(e));\r\n            this.element.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }, true);\r\n        }\r\n    }\r\n\r\n    setPosition(percent) {\r\n        this.setBufferedPosition(percent);\r\n        this.setPlayPosition(percent);\r\n    }\r\n\r\n    getBufferedPosition() {\r\n        return parseFloat(this.buffRail.style.width);\r\n    }\r\n\r\n    setBufferedPosition(percent) {\r\n        this.buffRail.style.width = percent > 0 ? percent + '%' : '0';\r\n    }\r\n\r\n    getPlayPosition() {\r\n        return parseFloat(this.playRail.style.width);\r\n    }\r\n\r\n    setPlayPosition(percent) {\r\n        this.thumb.style.left = percent > 0 ? percent + '%' : '0';\r\n        this.playRail.style.width = percent > 0 ? percent + '%' : '0';\r\n    }\r\n\r\n    show() {\r\n        this.element.style.visibility = '';\r\n    }\r\n\r\n    hide() {\r\n        this.element.style.visibility = 'hidden';\r\n    }\r\n\r\n    isSeeking() {\r\n        return this.__isSeeking;\r\n    }\r\n\r\n    __onSeekStart() {\r\n        console.log('[alfa] SeekStart');\r\n\r\n        this.__isSeeking = true;\r\n        this.emit(EVENTS.SEEK_START);\r\n    }\r\n\r\n    __onSeek(e) {\r\n        if (!this.__isSeeking) {\r\n            return;\r\n        }\r\n\r\n        if (ua.isMobile) {\r\n            e = e.changedTouches[0];\r\n        }\r\n\r\n        const percent = this.__calculateSeekPercent(e);\r\n        this.setPlayPosition(percent);\r\n        this.emit(EVENTS.SEEK, percent);\r\n    }\r\n\r\n    __onSeekEnd(e) {\r\n        if (!this.__isSeeking) {\r\n            return;\r\n        }\r\n\r\n        console.log('[alfa] SeekEnd');\r\n        this.__onSeek(e);\r\n        e.stopPropagation();\r\n\r\n        this.__isSeeking = false;\r\n        this.emit(EVENTS.SEEK_END);\r\n    }\r\n\r\n    __calculateSeekPercent(e) {\r\n        let rect = this.element.getBoundingClientRect();\r\n        let percent = (e.clientX - rect.left) / this.element.offsetWidth;\r\n        return normalizePercent(percent) * 100;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/timeBar.js","import { formatTime } from '@/utils/common';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport class TimeLabel {\r\n    constructor(className) {\r\n        this.className = className || '';\r\n        this.element = null;\r\n    }\r\n\r\n    create(parent) {\r\n        this.element = document.createElement('span');\r\n        this.element.className = `${this.className} alfa-control-text alfa-controlbar-item ${STYLES.NO_SELECT}`;\r\n        this.element.innerHTML = formatTime(0);\r\n\r\n        parent.appendChild(this.element);\r\n    }\r\n\r\n    setText(text, time) {\r\n        if (time != null) {\r\n            text = text + ' ' + formatTime(time);\r\n        }\r\n        this.element.innerHTML = text;\r\n    }\r\n\r\n    setTime(time) {\r\n        if (time > 0) {\r\n            this.element.innerHTML = formatTime(time);\r\n        } else {\r\n            this.element.innerHTML = formatTime(0);\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.element.style.visibility = '';\r\n    }\r\n\r\n    hide() {\r\n        this.element.style.visibility = 'hidden';\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/timeLabel.js","import EventSystem from '@/system/eventSystem';\r\nimport { getCursorPosition, normalizePercent } from './utils';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    VOLUME_CHANGE: 'volume_change'\r\n};\r\nconst BORDERS_OFFSET = 5;\r\n\r\nexport class VolumeBar extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.thumb = null;\r\n        this.railCurrent = null;\r\n\r\n        this.hideTimer = -1;\r\n    }\r\n\r\n    create(parent) {\r\n        if (!parent) {\r\n            console.log('[alfa] VolumeBar.create: no parent specified');\r\n            return;\r\n        }\r\n\r\n        // root DOM element\r\n        this.element = document.createElement('div');\r\n        this.element.className = `${STYLES.VOLUME_BAR} ${STYLES.TRANSITION_VISIBLE} ${STYLES.OPACITY_HIDDEN}`;\r\n\r\n        // default 'gray' volume rail group & rail\r\n        const railGroup = document.createElement('span');\r\n        railGroup.className = `${STYLES.VOLUME_BAR_RAIL_GROUP}`;\r\n        const rail = document.createElement('span');\r\n        rail.className = `${STYLES.VOLUME_BAR_RAIL}`;\r\n        railGroup.appendChild(rail);\r\n\r\n        // active 'red' volume rail group & rail\r\n        const railCurrentGroup = document.createElement('span');\r\n        railCurrentGroup.className = `${STYLES.VOLUME_BAR_CURRENT_GROUP}`;\r\n        this.railCurrent = document.createElement('span');\r\n        this.railCurrent.className = `${STYLES.VOLUME_BAR_CURRENT}`;\r\n        railCurrentGroup.appendChild(this.railCurrent);\r\n\r\n        // volume thumb\r\n        this.thumb = document.createElement('div');\r\n        this.thumb.className = `${STYLES.VOLUME_BAR_THUMB}`;\r\n\r\n        this.element.appendChild(railGroup);\r\n        this.element.appendChild(railCurrentGroup);\r\n        this.element.appendChild(this.thumb);\r\n\r\n        this.element.addEventListener('click', (e) => this.onClick(e));\r\n\r\n        parent.appendChild(this.element);\r\n    }\r\n\r\n    setVolume(volume) {\r\n        this.thumb.style.bottom = volume * (this.element.offsetHeight - this.thumb.offsetHeight - 2) + 'px';\r\n        this.railCurrent.style.top = ((1 - volume) * (this.element.offsetHeight - 14) + 7) + 'px';\r\n    }\r\n\r\n    show() {\r\n        clearTimeout(this.hideTimer);\r\n        this.element.classList.remove(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    hide() {\r\n        this.__setupHideTimer();\r\n    }\r\n\r\n    onClick(e) {\r\n        e.stopPropagation();\r\n\r\n        let pos = getCursorPosition(this.element, e);\r\n        pos.y += BORDERS_OFFSET;\r\n        let percent = (this.element.offsetHeight - pos.y) / (this.element.offsetHeight - BORDERS_OFFSET * 2);\r\n        percent = normalizePercent(percent);\r\n\r\n        // notify UI about volume change\r\n        this.emit(EVENTS.VOLUME_CHANGE, percent);\r\n    }\r\n\r\n    __setupHideTimer() {\r\n        clearTimeout(this.hideTimer);\r\n        this.hideTimer = setTimeout(() => {\r\n            this.element.classList.add(STYLES.OPACITY_HIDDEN);\r\n        }, 300);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/volumeBar.js","import EventSystem from '@/system/eventSystem';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nexport const EVENTS = {\r\n    CLICK: 'click'\r\n};\r\n\r\nexport class ShareButton extends EventSystem {\r\n    constructor() {\r\n        super();\r\n\r\n        this.element = null;\r\n    }\r\n\r\n    create(parent) {\r\n        this.element = document.createElement('div');\r\n        this.element.className = `alfa-share-button ${STYLES.TRANSITION_VISIBLE}`;\r\n        this.element.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            this.emit(EVENTS.CLICK);\r\n        });\r\n        parent.appendChild(this.element);\r\n\r\n        const parentWidth = parent.getBoundingClientRect().width;\r\n        const parentHeight = parent.getBoundingClientRect().height;\r\n\r\n        if (parentWidth < 210 || parentHeight < 210) {\r\n            this.element.style.width = '30px';\r\n            this.element.style.height = '24px';\r\n        } else if (parentWidth < 400 || parentHeight < 400) {\r\n            this.element.style.width = '60px';\r\n            this.element.style.height = '48px';\r\n        } else if (parentWidth < 800 || parentHeight < 800) {\r\n            this.element.style.width = '80px';\r\n            this.element.style.height = '64px';\r\n        }\r\n    }\r\n\r\n    show() {\r\n        if (this.element == null) {\r\n            console.warn('[alfa] ShareButton.show: show before create');\r\n            return;\r\n        }\r\n\r\n        this.element.classList.remove(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    hide() {\r\n        if (this.element == null) {\r\n            console.warn('[alfa] ShareButton.hide: hide before create');\r\n            return;\r\n        }\r\n\r\n        this.element.classList.add(STYLES.OPACITY_HIDDEN);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/shareButton.js","import { parsedUA as ua } from '@/data/userAgent';\r\nimport EventSystem from '@/system/eventSystem';\r\nimport { getShortURL } from '@/system/networking';\r\nimport socialNetworks from '@/data/socialNetworks';\r\nimport { isChildOf } from './utils';\r\nimport { STYLES } from '@/ui/styles';\r\n\r\nclass SocialButton extends EventSystem {\r\n    constructor(social, isBig) {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.isBig = isBig;\r\n        this.social = social;\r\n\r\n        this.hideDialogTimer = null;\r\n    }\r\n\r\n    create(parent) {\r\n        this.element = document.createElement('a');\r\n        this.element.className = 'alfa-social-button alfa-social-' + this.social.name;\r\n        if (this.isBig) {\r\n            this.element.classList.add('alfa-social-button-big');\r\n        }\r\n        this.element.setAttribute('target', '_blank');\r\n\r\n        this.element.addEventListener('click', (e) => this.emit('click', e));\r\n\r\n        parent.appendChild(this.element);\r\n    }\r\n\r\n    setLink(link) {\r\n        this.element.setAttribute('href', link);\r\n    }\r\n}\r\n\r\nexport const EVENTS = {\r\n    DONE: 'done'\r\n};\r\n\r\nexport class ShareDialog extends EventSystem {\r\n    constructor(isEndScreen) {\r\n        super();\r\n\r\n        this.element = null;\r\n        this.isEndScreen = isEndScreen;\r\n        this.shareButtons = [];\r\n    }\r\n\r\n    create(parent) {\r\n        this.element = document.createElement('div');\r\n        if (!this.isEndScreen) {\r\n            this.element.className = `alfa-share-background ${STYLES.TRANSITION_VISIBLE} ${STYLES.OPACITY_HIDDEN}`;\r\n        } else {\r\n            this.element.className = 'alfa-share-background-big';\r\n        }\r\n\r\n        const socialButtonsElement = document.createElement('div');\r\n        socialButtonsElement.className = 'alfa-share-socials';\r\n\r\n        this.element.appendChild(socialButtonsElement);\r\n\r\n        parent.appendChild(this.element);\r\n\r\n        this.shareButtons = socialNetworks.map((network) => {\r\n            const socialButton = new SocialButton(network, this.isEndScreen);\r\n            socialButton.create(socialButtonsElement);\r\n            socialButton.on('click', () => {\r\n                // if dialog is in popup mode, then close it after button click\r\n                if (!this.isEndScreen) {\r\n                    this.hide();\r\n                }\r\n                this.emit(EVENTS.DONE);\r\n            });\r\n            return socialButton;\r\n        });\r\n\r\n        // if dialog is not on endscreen, then setup auto hide behaviour\r\n        if (!this.isEndScreen) {\r\n            this.element.addEventListener('mouseout', (ev) => {\r\n                let root = this.element;\r\n                if (!isChildOf(ev.relatedTarget, root) && (ev.relatedTarget !== root)) {\r\n                    this.setupHideTimeout(1000);\r\n                }\r\n            });\r\n            this.element.addEventListener('mousemove', () => {\r\n                this.resetHideTimeout();\r\n            }, true);\r\n        }\r\n    }\r\n\r\n    show(shareURL) {\r\n        getShortURL(shareURL, (responseText) => {\r\n            if (!responseText) {\r\n                console.log('[alfa] Empty share short response');\r\n                return;\r\n            }\r\n\r\n            this.shareButtons.forEach((button) => {\r\n                let link = button.social.shareUrl(responseText);\r\n                button.setLink(link);\r\n            });\r\n        });\r\n\r\n        if (!this.isEndScreen) {\r\n            this.resetHideTimeout();\r\n\r\n            // actually showing element\r\n            this.element.classList.remove(STYLES.OPACITY_HIDDEN);\r\n\r\n            if (ua.isMobile) {\r\n                this.setupHideTimeout(3000);\r\n            }\r\n        }\r\n    }\r\n\r\n    hide() {\r\n        if (!this.element) {\r\n            return;\r\n        }\r\n\r\n        this.element.classList.add(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    isVisible() {\r\n        if (this.element) {\r\n            return !this.element.classList.contains(STYLES.OPACITY_HIDDEN);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    resetHideTimeout() {\r\n        clearTimeout(this.hideDialogTimer);\r\n\r\n        this.element.classList.remove(STYLES.OPACITY_HIDDEN);\r\n    }\r\n\r\n    setupHideTimeout(timeout) {\r\n        clearTimeout(this.hideDialogTimer);\r\n\r\n        // hide dialog after timeout\r\n        this.hideDialogTimer = setTimeout(() => {\r\n            this.hide();\r\n            this.emit(EVENTS.DONE);\r\n        }, timeout || 3000);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/ui/shareDialog.js","class SocialNetwork {\r\n    constructor(name, rei, url) {\r\n        this.name = name;\r\n        this.rei = rei;\r\n        this.url = url;\r\n    }\r\n\r\n    shareUrl(playerUrl, image, title, description) {\r\n        if (this.name === 'facebook')\r\n            playerUrl = playerUrl.replace('https:', 'http:');\r\n\r\n        return this.url.replace('_URL_', playerUrl)\r\n            .replace('_IMAGE_', image)\r\n            .replace('_TITLE_', title)\r\n            .replace('_DESCR_', description);\r\n    }\r\n}\r\n\r\nfunction defineNetwork(name, rei, url) {\r\n    return new SocialNetwork(name, rei, url);\r\n}\r\n\r\nexport default [\r\n    defineNetwork(\r\n        'facebook',\r\n        'www.facebook.com',\r\n        'https://www.facebook.com/sharer.php?u=_URL_&display=page'\r\n    ),\r\n    defineNetwork(\r\n        'gplus',\r\n        'plus.google.com',\r\n        'https://plus.google.com/share?url=_URL_'\r\n    ),\r\n    defineNetwork(\r\n        'twitter',\r\n        'twitter.com',\r\n        'https://twitter.com/share?url=_URL_'\r\n    )\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/data/socialNetworks.js","import EventSystem from '@/system/eventSystem';\r\n\r\nconst VIEWABILITY_THRESHOLD = 0.5;  // 50% is threshold to generate viewability change event\r\nconst VIEWABILITY_CHECK_TIMEOUT = 500;  // ms, timeout to check viewability, if IntersectionObserver is not supported\r\nconst ACTIVE_TAB_CHECK_TIMEOUT = 500;  // ms, timeout to check window focus and active tab status\r\n\r\nexport const EVENTS = {\r\n    VISIBLE: 'visible',\r\n    HIDDEN: 'hidden',\r\n\r\n    VIEWABILITY: 'viewability',\r\n    FOCUS: 'focus',\r\n    ACTIVITY: 'activity'\r\n};\r\n\r\nexport class ViewabilityObserver extends EventSystem {\r\n    constructor(element) {\r\n        super();\r\n\r\n        this.isFocused = true;\r\n        this.isActiveTab = isActiveTab();\r\n        this.visibilityRatio = getViewability(element);\r\n\r\n        // init FOCUS checks\r\n        this.__cancelFocusChecks = initFocusChecks((focused) => {\r\n            if (this.isFocused !== focused) {\r\n                this.isFocused = focused;\r\n                this.emit(EVENTS.FOCUS, focused);\r\n                checkVisibility();\r\n            }\r\n        });\r\n\r\n        // init ACTIVE_TAB checks\r\n        this.__cancelActiveTabChecks = initActiveTabChecks((active) => {\r\n            if (this.isActiveTab !== active) {\r\n                this.isActiveTab = active;\r\n                this.emit(EVENTS.ACTIVITY, active);\r\n                checkVisibility();\r\n            }\r\n        });\r\n\r\n        // init VIEWABILITY checks\r\n        let previousVisible = null;\r\n        this.__cancelViewabilityChecks = initViewabilityChecks(element, (ratio) => {\r\n            this.visibilityRatio = ratio;\r\n            const isVisible = ratio >= VIEWABILITY_THRESHOLD;\r\n\r\n            // emit event, only if threshold is crossed\r\n            if (previousVisible !== isVisible) {\r\n                previousVisible = isVisible;\r\n\r\n                // emit event\r\n                const viewability = { ratio, isVisible };\r\n                this.emit(EVENTS.VIEWABILITY, viewability);\r\n                checkVisibility();\r\n            }\r\n        });\r\n\r\n        const checkVisibility = () => {\r\n            if (this.visibilityRatio >= VIEWABILITY_THRESHOLD && this.isFocused && this.isActiveTab) {\r\n                this.emit(EVENTS.VISIBLE);\r\n            } else {\r\n                this.emit(EVENTS.HIDDEN);\r\n            }\r\n        };\r\n    }\r\n\r\n    cancel() {\r\n        this.__cancelFocusChecks();\r\n        this.__cancelActiveTabChecks();\r\n        this.__cancelViewabilityChecks();\r\n    }\r\n\r\n    getViewability() {\r\n        return {\r\n            visibility: Math.ceil(this.visibilityRatio * 100),\r\n            focused: this.isFocused,\r\n            active: this.isActiveTab\r\n        };\r\n    }\r\n}\r\n\r\nfunction initViewabilityChecks(vo, callback) {\r\n    if (isIntersectionObserverSupported()) {\r\n        return initViewabilityChecksWithObserver(vo, callback);\r\n    } else {\r\n        return initViewabilityChecksWithInterval(vo, callback);\r\n    }\r\n}\r\n\r\nfunction initViewabilityChecksWithObserver(element, callback) {\r\n    const options = {\r\n        threshold: [VIEWABILITY_THRESHOLD]\r\n    };\r\n    const io = new IntersectionObserver((entries) => {\r\n        if (entries && entries.length > 0) {\r\n            callback(entries[0].intersectionRatio);\r\n        }\r\n    }, options);\r\n    io.observe(element);\r\n\r\n    // cancelling function\r\n    return () => io.disconnect();\r\n}\r\n\r\nfunction initViewabilityChecksWithInterval(element, callback) {\r\n    function viewabilityCallback() {\r\n        const ratio = getViewability(element);\r\n        callback(ratio);\r\n    }\r\n\r\n    // setup repeatable viewability checks\r\n    const interval = setInterval(viewabilityCallback, VIEWABILITY_CHECK_TIMEOUT);\r\n    // run first check on next tick\r\n    setTimeout(viewabilityCallback, 0);\r\n\r\n    // cancelling function\r\n    return () => clearInterval(interval);\r\n}\r\n\r\nfunction initFocusChecks(callback) {\r\n    const onBlur = () => callback(false);\r\n    window.addEventListener('blur', onBlur);\r\n\r\n    const onFocus = () => callback(true);\r\n    window.addEventListener('focus', onFocus);\r\n\r\n    // cancelling function\r\n    return () => {\r\n        window.removeEventListener('blur', onBlur);\r\n        window.removeEventListener('focus', onFocus);\r\n    };\r\n}\r\n\r\nfunction initActiveTabChecks(callback) {\r\n    function checkCallback() {\r\n        callback(isActiveTab());\r\n    }\r\n\r\n    // setup repeatable viewability checks\r\n    const interval = setInterval(checkCallback, ACTIVE_TAB_CHECK_TIMEOUT);\r\n    // run first check on next tick\r\n    setTimeout(checkCallback, 0);\r\n\r\n    // cancelling function\r\n    return () => clearInterval(interval);\r\n}\r\n\r\nexport const isActiveTab = (function() {\r\n    if ('hidden' in document) {\r\n        return function () {\r\n            return !document.hidden;\r\n        };\r\n    }\r\n    if ('webkitHidden' in document) {\r\n        return function () {\r\n            return !document.webkitHidden;\r\n        };\r\n    }\r\n    // document.hidden not supported\r\n    return function () {\r\n        return true;\r\n    };\r\n})();\r\n\r\nexport function getViewability(element) {\r\n    const viewport = getViewportProps();\r\n    const positions = getElementProps(element, viewport);\r\n\r\n    return calculateViewability(positions, viewport);\r\n}\r\n\r\nfunction getViewportProps() {\r\n    return {\r\n        h: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight || 0,\r\n        w: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth || 0,\r\n        sl: window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\r\n        st: window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\r\n    };\r\n}\r\n\r\nfunction getElementProps(element, viewport) {\r\n    // Get the bounding rectangle of our element\r\n    const elementBoundingBox = element.getBoundingClientRect();\r\n    return {\r\n        x: elementBoundingBox.left + viewport.sl,\r\n        y: elementBoundingBox.top + viewport.st,\r\n        w: elementBoundingBox.width,\r\n        h: elementBoundingBox.height\r\n    };\r\n}\r\n\r\nfunction calculateViewability(pos, stage) {\r\n    let horizontal = 0;\r\n    if (pos.x < stage.sl) {\r\n        horizontal += stage.sl - pos.x;\r\n    }\r\n    if (pos.x + pos.w > stage.sl + stage.w) {\r\n        horizontal += pos.x + pos.w - (stage.sl + stage.w);\r\n    }\r\n    if (horizontal > pos.w) {\r\n        horizontal = pos.w;\r\n    }\r\n\r\n    let vertical = 0;\r\n    if (pos.y < stage.st) {\r\n        vertical += stage.st - pos.y;\r\n    }\r\n    if (pos.y + pos.h > stage.st + stage.h) {\r\n        vertical += pos.y + pos.h - (stage.st + stage.h);\r\n    }\r\n    if (vertical > pos.h) {\r\n        vertical = pos.h;\r\n    }\r\n\r\n    return (pos.w - horizontal) * (pos.h - vertical) / (pos.w * pos.h);\r\n}\r\n\r\nfunction isIntersectionObserverSupported() {\r\n    return 'IntersectionObserver' in window &&\r\n        'IntersectionObserverEntry' in window &&\r\n        'intersectionRatio' in window.IntersectionObserverEntry.prototype;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/viewability.js","import { uniq } from 'alfa-common/lib/utils/array';\r\nimport { checkHttpsAwareness } from '@/utils/url';\r\nimport { VAST_EVENTS } from '@/data/constants';\r\n\r\nconst FLAG_IMPRESSIONS = '__impressions';\r\n\r\n/**\r\n * Notify server through 'Image.src' hack.\r\n * It's main value is it not susceptible to CORS restrictions, unlike XHR requests.\r\n */\r\nexport class VastNotifier {\r\n    constructor(bus) {\r\n        this.onceGuard = {};\r\n        this.pending = {};\r\n\r\n        this.impressions = [];\r\n        this.eventsLinear = null;\r\n        this.eventsNonLinear = null;\r\n\r\n        this.error = '';\r\n    }\r\n\r\n    init(ad) {\r\n        this.onceGuard = {};  // clear notify once flags\r\n\r\n        this.impressions = ad.impressions || [];\r\n        this.eventsLinear = ad.eventsLinear || null;\r\n        this.eventsNonLinear = ad.eventsNonLinear || null;\r\n\r\n        this.error = ad.error || '';\r\n    }\r\n\r\n    /**\r\n     * Fire event by name\r\n     *\r\n     * @param {string} eventName\r\n     */\r\n    fireLinear(eventName) {\r\n        if (!this.eventsLinear) {\r\n            return;\r\n        }\r\n\r\n        const urls = this.eventsLinear[eventName];\r\n\r\n        console.log('[alfa] Notify event: ', eventName, urls);\r\n\r\n        if (urls && urls.length > 0) {\r\n            this.fireByUrl(urls);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fire event by name only once for current ad and return was impressions fired on this call or not\r\n     * @param {string} eventName\r\n     * @returns {boolean} Was event fired on this call\r\n     */\r\n    fireLinearOnce(eventName) {\r\n        if (!this.eventsLinear) {\r\n            return false;\r\n        }\r\n        // if event was invoked earlier - do nothing\r\n        if (this.wasFired(eventName)) {\r\n            return false;\r\n        }\r\n\r\n        // Remember that event was invoked\r\n        this.markAsFired(eventName);\r\n\r\n        // Fire event\r\n        this.fireLinear(eventName);\r\n\r\n        return true;\r\n    }\r\n\r\n    fireProgress(time) {\r\n        const progressEvents = this.eventsLinear[VAST_EVENTS.PROGRESS];\r\n        if (!progressEvents || progressEvents.length === 0) {\r\n            return;\r\n        }\r\n\r\n        // search appropriate 'progress' events\r\n        const filteredEvents = progressEvents\r\n        // take only 'not fired' before\r\n            .filter((event, index) => !this.wasFired(__formatEventName(index)))\r\n            // remove those that are early yet\r\n            .filter((event) => event.offset <= time);\r\n\r\n        filteredEvents.forEach((event) => {\r\n            console.log(`[alfa] Notify progress event for ${ event.offset }s at ${ time }s: ${ event.url }`);\r\n\r\n            // Remember that event with index from complete list was invoked\r\n            this.markAsFired(__formatEventName(progressEvents.indexOf(event)));\r\n\r\n            // Fire event\r\n            this.fireByUrl(event.url);\r\n        });\r\n\r\n        function __formatEventName(index) {\r\n            return VAST_EVENTS.PROGRESS + '_' + index;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fire current ad impressions only once and return was impressions fired on this call or not\r\n     *\r\n     * @returns {boolean} Was impressions fired on this call\r\n     */\r\n    fireImpressions() {\r\n        if (this.impressions.length === 0) {\r\n            return false;\r\n        }\r\n        // if event was invoked earlier - do nothing\r\n        if (this.wasFired(FLAG_IMPRESSIONS)) {\r\n            return false;\r\n        }\r\n\r\n        // Remember that event was invoked\r\n        this.markAsFired(FLAG_IMPRESSIONS);\r\n\r\n        console.log('[alfa] Notify impressions:', this.impressions);\r\n        this.fireByUrl(this.impressions);\r\n\r\n        return true;\r\n    }\r\n\r\n    fireNonLinear(eventName) {\r\n        if (!this.eventsNonLinear) {\r\n            return;\r\n        }\r\n\r\n        const urls = this.eventsNonLinear[eventName];\r\n\r\n        console.log('[alfa] Notify NonLinear event: ', eventName, urls);\r\n\r\n        if (urls && urls.length > 0) {\r\n            this.fireByUrl(urls);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Fire request to provided URL/URLs\r\n     *\r\n     * @param {String|String[]} urls URL\r\n     */\r\n    fireByUrl(urls) {\r\n        if (!urls) {\r\n            return;\r\n        }\r\n\r\n        // normalize and remove duplicates\r\n        urls = normalizeUrls(urls);\r\n        urls = uniq(urls);\r\n\r\n        urls.forEach((url) => {\r\n            url = checkHttpsAwareness(url);\r\n\r\n            const rnd = Math.round(Math.random() * 100000);\r\n            url = url + ((url.indexOf('?') > 0) ? '&' : '?') + 'r' + rnd + '=' + rnd;\r\n\r\n            const img = document.createElement('img');\r\n            img.src = url;\r\n\r\n            // add IMG to PENDING object, to retain object reference, so GC doesn't delete it before request is over\r\n            const imgCode = 'img_' + rnd;\r\n            this.pending[imgCode] = img;\r\n            img.onload = img.onerror = () => {\r\n                delete this.pending[imgCode];\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Fire error by code\r\n     *\r\n     * @param {number} errorCode\r\n     */\r\n    fireError(errorCode) {\r\n        if (!this.error) {\r\n            return;\r\n        }\r\n\r\n        console.log('[alfa] Notify vast error:', errorCode);\r\n\r\n        const url = this.error.replace(/\\[ERRORCODE\\]/g, errorCode);\r\n        this.fireByUrl(url);\r\n    }\r\n\r\n    /**\r\n     * Check if event was fired for current ad\r\n     *\r\n     * @param {string} eventName\r\n     * @returns {boolean}\r\n     */\r\n    wasFired(eventName) {\r\n        return this.onceGuard[eventName];\r\n    }\r\n\r\n    /**\r\n     * Mark event as fired for current ad\r\n     *\r\n     * @param {string} eventName\r\n     */\r\n    markAsFired(eventName) {\r\n        this.onceGuard[eventName] = true;\r\n    }\r\n}\r\n\r\nfunction normalizeUrls(urls) {\r\n    // make array from single url\r\n    if (!Array.isArray(urls)) {\r\n        urls = [urls];\r\n    }\r\n\r\n    return urls\r\n        .map((url) => {\r\n            // we can receive URL object with additional params, take only url path from it\r\n            if (url && url.url) {\r\n                return url.url;\r\n            }\r\n            if (typeof url === 'string') {\r\n                return url;\r\n            }\r\n        })\r\n        .filter((url) => url);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/system/vastNotifier.js","import { PLAYER_EVENTS } from '@/data/constants';\r\nimport EventSystem from '@/system/eventSystem';\r\nimport { parseXML } from '@/utils/common';\r\nimport { createVastError, VAST_ERRORS } from '@/system/errors';\r\n\r\nimport ParserVast1 from './parserVast1';\r\nimport ParserVast2 from './parserVast2';\r\n\r\nexport function parse(source, onVastWarning, callback) {\r\n    let xml, firstTag;\r\n    if (typeof source === 'object') {\r\n        xml = source;\r\n        firstTag = xml;\r\n    } else {\r\n        try {\r\n            xml = parseXML(source);\r\n            firstTag = xml.firstChild;\r\n        } catch (e) {\r\n            return callback(createVastError(VAST_ERRORS.PARSING_ERROR, 'Error while parsing VAST XML: ' + e.message), source);\r\n        }\r\n    }\r\n\r\n    // determine VAST version by root tag\r\n    let parser;\r\n    if (firstTag.nodeName === 'VideoAdServingTemplate') {\r\n        parser = new ParserVast1(1);\r\n    } else if (firstTag.nodeName === 'VAST') {\r\n        const ver = firstTag.getAttribute('version');\r\n        if (ver.substr(0, 3) === '2.0') {\r\n            parser = new ParserVast2(2);\r\n        } else if (ver.substr(0, 3) === '3.0') {\r\n            parser = new ParserVast2(3);\r\n        } else if (ver.substr(0, 1) === '4') {\r\n            parser = new ParserVast2(4);\r\n        } else {\r\n            return callback(createVastError(VAST_ERRORS.VERSION_NOT_SUPPORTED, `Version in VAST - ${ver}`), source);\r\n        }\r\n    } else {\r\n        return callback(createVastError(VAST_ERRORS.SCHEMA_ERROR, `Not supported root tag - ${firstTag.nodeName}`), source);\r\n    }\r\n\r\n    // if we want to pass warnings and parser supports event emitting, then bind to it\r\n    if (onVastWarning && parser instanceof EventSystem) {\r\n        parser.on(PLAYER_EVENTS.VAST_WARNING, (error) => {\r\n            onVastWarning(error);\r\n        });\r\n    }\r\n\r\n    // run parsing\r\n    parser.parse(xml, source, callback);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/parser/index.js","import { Vast, AdTag, Linear, MediaFile } from './data';\r\n\r\nexport default class ParserVast1 {\r\n    constructor(version) {\r\n        this.version = version;\r\n        this.wrapperCounter = 0;\r\n    }\r\n\r\n    parse(xml, source, callback) {\r\n        const adTag = new AdTag();\r\n\r\n        const ad = xml.getElementsByTagName('Ad')[0];\r\n        try {\r\n            const video = ad.getElementsByTagName('Video')[0];\r\n\r\n            const mediaFile = new MediaFile();\r\n            let mediaFileTag = video.getElementsByTagName('MediaFile');\r\n            mediaFile.url = mediaFileTag[0].getElementsByTagName('URL')[0].firstChild.data;\r\n\r\n            const linear = new Linear();\r\n            linear.mediaFiles.push(mediaFile);\r\n            linear.clickThrough = video.getElementsByTagName('VideoClicks')[0].getElementsByTagName('ClickThrough')[0].getElementsByTagName('URL')[0].firstChild.data;\r\n\r\n            adTag.linears.push(linear);\r\n        } catch (e) {\r\n            console.error('[alfa] Error parsing vast version 1 (video section)', e);\r\n        }\r\n\r\n        const urls = ad.getElementsByTagName('Impression')[0].getElementsByTagName('URL');\r\n        for (let i = 0; i < urls.length; i++) {\r\n            adTag.impressions.push(urls[i].firstChild.data);\r\n        }\r\n\r\n        const tracking = ad.getElementsByTagName('TrackingEvents')[0].getElementsByTagName('Tracking');\r\n        for (let i = 0; i < tracking.length; i++) {\r\n            let eventName = tracking[i].getAttribute('event');\r\n            if (!eventName)\r\n                continue;\r\n\r\n            const urls = tracking[i].getElementsByTagName('URL');\r\n            adTag.eventsLinear[eventName.toLowerCase()] = [];\r\n            for (let j = 0; j < urls.length; j++) {\r\n                if (urls[j].firstChild.data)\r\n                    adTag.eventsLinear[eventName.toLowerCase()].push(urls[j].firstChild.data);\r\n            }\r\n        }\r\n\r\n        const vast = new Vast(this.version);\r\n        vast.adTags.push(adTag);\r\n        vast.source = source;\r\n        callback(null, vast);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/parser/parserVast1.js","import { PLAYER_EVENTS, VAST_EVENTS } from '@/data/constants';\r\nimport { parsedUA as ua } from '@/data/userAgent';\r\nimport EventSystem from '@/system/eventSystem';\r\nimport { getCDATA, parseXML, getUrlContentAsync, parseTime } from '@/utils/common';\r\nimport { checkHttpsAwareness } from '@/utils/url';\r\nimport { createVastError, VAST_ERRORS } from '@/system/errors';\r\nimport { Vast, AdTag, Linear, MediaFile, Companion, NonLinear, Icon } from './data';\r\n\r\nconst WRAPPER_LOOP_LIMIT = 10;\r\n\r\nexport default class ParserVast2 extends EventSystem {\r\n    constructor(version) {\r\n        super();\r\n\r\n        this.version = version;\r\n        this.wrapperCounter = 0;\r\n        this.sources = [];\r\n    }\r\n\r\n    parse(xml, source, callback) {\r\n        this.sources.push(source);\r\n\r\n        const ads = xml.getElementsByTagName('Ad');\r\n        if (ads.length === 0) {\r\n            return callback(createVastError(VAST_ERRORS.UNDEFINED_ERROR, 'No AD tags in VAST'));\r\n        }\r\n\r\n        const vast = new Vast(this.version);\r\n        let adTagIndex = 0;\r\n\r\n        const readTagFunc = () => {\r\n            // console.log('Parse AD:', ads[iteration]);\r\n\r\n            this.readAdTag(ads[adTagIndex], new AdTag(), true, (error, adTag) => {\r\n                if (error) {\r\n                    return callback(error);\r\n                }\r\n\r\n                // merge events from linear tracking tags\r\n                adTag.mergeLinearEvents();\r\n\r\n                // select appropriate media file based on user agent and screen size\r\n                const screenSize = {\r\n                    width: window.screen.availWidth,\r\n                    height: window.screen.availHeight\r\n                };\r\n                adTag.selectMediaFile(ua, screenSize);\r\n\r\n                // notify server about absence of supported MediaFile, if there was any MediaFiles\r\n                if (adTag.linears.length > 0 && !adTag.linear) {\r\n                    this.__emitVastWarning(VAST_ERRORS.LINEAR_NOT_SUPPORTED, 'No supported Linear MediaFile');\r\n                }\r\n\r\n                // take only ads with impressions or VPAID mediafiles\r\n                if (adTag.impressions.length > 0 || (adTag.mediaFile && adTag.mediaFile.isVPAID())) {\r\n                    vast.adTags.push(adTag);\r\n                }\r\n\r\n                // count ads\r\n                adTagIndex++;\r\n\r\n                // if there is another Ad - parse it\r\n                if (adTagIndex < ads.length) {\r\n                    return readTagFunc();\r\n                }\r\n\r\n                // notify about VAST without impressions\r\n                if (vast.adTags.length === 0) {\r\n                    let message = 'There was no ADs with impressions in VAST';\r\n                    if (this.wrapperCounter > 0) {\r\n                        message += `, after following wrappers for ${ this.wrapperCounter } times`;\r\n                    }\r\n\r\n                    return callback(createVastError(VAST_ERRORS.SCHEMA_ERROR, message, source));\r\n                }\r\n\r\n                // store last parsed XML\r\n                vast.source = this.sources.length > 0 ? this.sources[this.sources.length - 1] : '';\r\n\r\n                // end of parsing and return to caller\r\n                callback(null, vast);\r\n            });\r\n        };\r\n\r\n        readTagFunc();\r\n    }\r\n\r\n    readAdTag(adNode, adTag, followAdditionalWrappers, callback) {\r\n        const inlineTags = adNode.getElementsByTagName('InLine');\r\n        const wrapperTags = adNode.getElementsByTagName('Wrapper');\r\n        const inInLine = inlineTags.length > 0;\r\n        const adChildTag = inInLine ? inlineTags[0] : wrapperTags[0];\r\n\r\n        const adSystemTags = adChildTag.getElementsByTagName('AdSystem');\r\n        if (adSystemTags.length > 0) {\r\n            adTag.adSystem = getCDATA(adSystemTags[0]);\r\n        }\r\n\r\n        const errorTags = adChildTag.getElementsByTagName('Error');\r\n        if (errorTags.length > 0) {\r\n            adTag.error = getCDATA(errorTags[0]);\r\n        }\r\n\r\n        const impressionTags = adChildTag.getElementsByTagName('Impression');\r\n        for (let i = 0; i < impressionTags.length; i++) {\r\n            const impressionText = getCDATA(impressionTags[i]);\r\n            if (impressionText) {\r\n                adTag.impressions.push(impressionText);\r\n            }\r\n        }\r\n\r\n        const creativeTags = adChildTag.getElementsByTagName('Creative');\r\n        for (let i = 0; i < creativeTags.length; i++) {\r\n            const linearTags = creativeTags[i].getElementsByTagName('Linear');\r\n            for (let j = 0; j < linearTags.length; j++) {\r\n                const linear = this.__readLinearTag(linearTags[j], inInLine);\r\n                adTag.linears.push(linear);\r\n            }\r\n\r\n            const companionTags = creativeTags[i].getElementsByTagName('Companion');\r\n            if (companionTags.length > 0) {\r\n                for (let j = 0; j < companionTags.length; j++) {\r\n                    let companion = __readCompanionTag(companionTags[j]);\r\n                    adTag.companions.push(companion);\r\n                }\r\n            }\r\n\r\n            const nonLinearAdsTags = creativeTags[i].getElementsByTagName('NonLinearAds');\r\n            if (nonLinearAdsTags.length > 0) {\r\n                __readTrackingArray(adTag.eventsNonLinear, nonLinearAdsTags[0].getElementsByTagName('Tracking'));\r\n\r\n                const nonLinearTags = nonLinearAdsTags[0].getElementsByTagName('NonLinear');\r\n                for (let j = 0; j < nonLinearTags.length; j++) {\r\n                    const nl = this.__readNonLinearTag(nonLinearTags[j]);\r\n\r\n                    // report that we don't support current 'NonLinear' type\r\n                    if (!nl.staticResource) {\r\n                        const types = [];\r\n                        if (nl.htmlResource) {\r\n                            types.push('html');\r\n                        }\r\n                        if (nl.iframeResource) {\r\n                            types.push('iframe');\r\n                        }\r\n                        this.__emitVastWarning(VAST_ERRORS.NONLINEAR_SUPPORT, 'Not found supported STATIC NonLinear, found: ' + types.join(','));\r\n                    }\r\n\r\n                    adTag.nonLinears.push(nl);\r\n                }\r\n            }\r\n        }\r\n\r\n        // <Icons> -> <Icon> tags\r\n        const iconTags = adChildTag.getElementsByTagName('Icon');\r\n        for (let i = 0; i < iconTags.length; i++) {\r\n            const icon = this.__readIconTag(iconTags[i]);\r\n            icon.index = adTag.icons.length;\r\n            adTag.icons.push(icon);\r\n        }\r\n\r\n        if (followAdditionalWrappers && wrapperTags && wrapperTags.length > 0) {\r\n            // if we beyond max limit, then follow wrapper\r\n            if (this.wrapperCounter < WRAPPER_LOOP_LIMIT) {\r\n                this.wrapperCounter++;\r\n                const followAdditionalWrappersAttr = wrapperTags[0].getAttribute('followAdditionalWrappers');\r\n                const followNext = !(followAdditionalWrappersAttr === 'false' || followAdditionalWrappersAttr === false);\r\n\r\n                try {\r\n                    this.followWrapper(adTag, wrapperTags[0], followNext, callback);\r\n                    return;\r\n                } catch (e) {\r\n                    // notify listeners about wrapper error\r\n                    const source = this.sources.length > 0 ? this.sources[this.sources.length - 1] : '';\r\n                    return callback(createVastError(VAST_ERRORS.SCHEMA_ERROR, e.message, source));\r\n                }\r\n            } else {\r\n                // notify server about wrapper limit error\r\n                const source = this.sources.length > 0 ? this.sources[this.sources.length - 1] : '';\r\n                return callback(createVastError(VAST_ERRORS.WRAPPER_LIMIT, 'Exceeded max wrapper limit: ' + WRAPPER_LOOP_LIMIT, source));\r\n            }\r\n        }\r\n\r\n        callback(null, adTag);\r\n    }\r\n\r\n    followWrapper(adTag, wrapper, followAdditionalWrappers, callback) {\r\n        const tagURI = wrapper.getElementsByTagName('VASTAdTagURI');\r\n\r\n        // return if absent or empty 'VASTAdTagURI' tag\r\n        if (tagURI.length <= 0 || tagURI[0].childNodes.length <= 0) {\r\n            callback(null, adTag);\r\n            return;\r\n        }\r\n\r\n        const url = checkHttpsAwareness(tagURI[0].childNodes[0].wholeText.trim());\r\n        getUrlContentAsync(url, (source) => {\r\n            // check for empty response\r\n            if (!source) {\r\n                return callback(createVastError(VAST_ERRORS.SCHEMA_ERROR, 'Empty VAST returned by wrapper from url: ' + url, source));\r\n            }\r\n\r\n            // collect VAST sources\r\n            this.sources.push(source);\r\n\r\n            // try to parse response as XML\r\n            let xml;\r\n            try {\r\n                xml = parseXML(source);\r\n            } catch (e) {\r\n                return callback(createVastError(VAST_ERRORS.PARSING_ERROR, 'Error while parsing VAST returned by wrapper from url \"' + url + '\": ' + e.message, source));\r\n            }\r\n\r\n            // recursively parse Ad\r\n            const ads = xml.getElementsByTagName('Ad');\r\n            if (ads && ads.length > 0) {\r\n                return this.readAdTag(ads[0], adTag, followAdditionalWrappers, callback);\r\n            }\r\n\r\n            // notify server about wrapper response without ads\r\n            this.__emitVastWarning(VAST_ERRORS.WRAPPER_NO_ADS, 'No ADS in wrapper response on url: ' + url);\r\n            // return to current wrapper\r\n            callback(null, adTag);\r\n        });\r\n    }\r\n\r\n    __readLinearTag(tag, inInLine) {\r\n        const linear = new Linear();\r\n\r\n        // some data can be only in 'InLine' tag (not in 'Wrapper')\r\n        if (inInLine) {\r\n            // duration\r\n            const durationTags = tag.getElementsByTagName('Duration');\r\n            if (durationTags.length > 0) {\r\n                const durationText = getCDATA(durationTags[0]);\r\n                linear.duration = parseTime(durationText);\r\n            }\r\n\r\n            // skip offset\r\n            linear.skipOffset = __readOffset(tag.getAttribute('skipoffset'), linear.duration);\r\n\r\n            // media files\r\n            const mediaFileTags = tag.getElementsByTagName('MediaFile');\r\n            for (let i = 0; i < mediaFileTags.length; i++) {\r\n                const mediaFile = this.__readMediaFile(mediaFileTags[i]);\r\n                linear.mediaFiles.push(mediaFile);\r\n            }\r\n\r\n            // click through\r\n            const clickThrough = tag.getElementsByTagName('ClickThrough');\r\n            if (clickThrough.length > 0) {\r\n                linear.clickThrough = getCDATA(clickThrough[0]);\r\n            }\r\n\r\n            // ad parameters\r\n            const adParameters = tag.getElementsByTagName('AdParameters');\r\n            if (adParameters.length > 0) {\r\n                linear.parameters = getCDATA(adParameters[0]);\r\n            }\r\n        }\r\n\r\n        // tracking events\r\n        __readTrackingArray(linear.events, tag.getElementsByTagName('Tracking'), linear.duration);\r\n\r\n        // clicks tracking\r\n        const clickTracking = tag.getElementsByTagName('ClickTracking');\r\n        for (let i = 0; i < clickTracking.length; i++) {\r\n            linear.clickTrackings.push(getCDATA(clickTracking[i]));\r\n        }\r\n\r\n        // custom clicks\r\n        const customClick = tag.getElementsByTagName('CustomClick');\r\n        for (let i = 0; i < customClick.length; i++) {\r\n            linear.clickCustoms.push(getCDATA(customClick[i]));\r\n        }\r\n\r\n        return linear;\r\n    }\r\n\r\n    __readMediaFile(tag) {\r\n        const mediaFile = new MediaFile();\r\n        mediaFile.delivery = tag.getAttribute('delivery').toLowerCase().trim();\r\n        mediaFile.type = tag.getAttribute('type').toLowerCase().trim();\r\n        mediaFile.width = tag.getAttribute('width') * 1;\r\n        mediaFile.height = tag.getAttribute('height') * 1;\r\n        mediaFile.bitrate = tag.getAttribute('bitrate') * 1;\r\n        mediaFile.url = getCDATA(tag);\r\n        mediaFile.apiFramework = tag.getAttribute('apiFramework');\r\n        return mediaFile;\r\n    }\r\n\r\n    __readNonLinearTag(tag) {\r\n        const nl = new NonLinear();\r\n\r\n        const staticResource = tag.getElementsByTagName('StaticResource');\r\n        if (staticResource.length > 0) {\r\n            nl.staticResource = getCDATA(staticResource[0]);\r\n            nl.type = staticResource[0].getAttribute('creativeType');\r\n        }\r\n\r\n        const htmlResource = tag.getElementsByTagName('HTMLResource');\r\n        if (htmlResource.length > 0) {\r\n            nl.htmlResource = getCDATA(htmlResource[0]);\r\n        }\r\n\r\n        const iframeResource = tag.getElementsByTagName('IFrameResource');\r\n        if (iframeResource.length > 0) {\r\n            nl.iframeResource = getCDATA(iframeResource[0]);\r\n        }\r\n\r\n        const nonLinearClickThrough = tag.getElementsByTagName('NonLinearClickThrough');\r\n        if (nonLinearClickThrough.length > 0) {\r\n            nl.clickThrough = getCDATA(nonLinearClickThrough[0]);\r\n        }\r\n\r\n        const nonLinearClickTracking = tag.getElementsByTagName('NonLinearClickTracking');\r\n        if (nonLinearClickTracking.length > 0) {\r\n            nl.clickTracking = getCDATA(nonLinearClickTracking[0]);\r\n        }\r\n\r\n        nl.height = tag.getAttribute('height') * 1;\r\n        nl.width = tag.getAttribute('width') * 1;\r\n\r\n        return nl;\r\n    }\r\n\r\n    __readIconTag(tag) {\r\n        const icon = new Icon();\r\n\r\n        // required props\r\n        icon.program = tag.getAttribute('program');\r\n        icon.width = tag.getAttribute('width') * 1;\r\n        icon.height = tag.getAttribute('height') * 1;\r\n        icon.xPosition = readPosition(tag.getAttribute('xPosition'));\r\n        icon.yPosition = readPosition(tag.getAttribute('yPosition'));\r\n        icon.resource = null;\r\n\r\n        // resources\r\n        const staticResource = tag.getElementsByTagName('StaticResource');\r\n        if (staticResource.length > 0) {\r\n            icon.staticResource = getCDATA(staticResource[0]);\r\n            icon.staticResourceType = staticResource[0].getAttribute('type');\r\n        }\r\n\r\n        const htmlResource = tag.getElementsByTagName('HTMLResource');\r\n        if (htmlResource.length > 0) {\r\n            icon.htmlResource = getCDATA(htmlResource[0]);\r\n        }\r\n\r\n        const iframeResource = tag.getElementsByTagName('IFrameResource');\r\n        if (iframeResource.length > 0) {\r\n            icon.iframeResource = getCDATA(iframeResource[0]);\r\n        }\r\n\r\n        // optional props\r\n        icon.apiFramework = tag.getAttribute('apiFramework');\r\n        icon.offset = parseTime(tag.getAttribute('offset'));\r\n        icon.duration = parseTime(tag.getAttribute('duration'));\r\n\r\n        // clicks and tracking\r\n        const viewTrackingTags = tag.getElementsByTagName('IconViewTracking');\r\n        for (let i = 0; i < viewTrackingTags.length; i++) {\r\n            icon.viewTracking.push(getCDATA(viewTrackingTags[i]));\r\n        }\r\n        const clickThroughTags = tag.getElementsByTagName('IconClickThrough');\r\n        if (clickThroughTags && clickThroughTags.length > 0) {\r\n            icon.clickThrough = getCDATA(clickThroughTags[0]);\r\n        }\r\n        const clickTrackingTags = tag.getElementsByTagName('IconClickTracking');\r\n        for (let i = 0; i < clickTrackingTags.length; i++) {\r\n            icon.clickTracking.push(getCDATA(clickTrackingTags[i]));\r\n        }\r\n\r\n        return icon;\r\n\r\n        function readPosition(value) {\r\n            if (value === 'left' || value === 'right' || value === 'top' || value === 'bottom') {\r\n                return value;\r\n            }\r\n            const num = value * 1;\r\n            return num || 0;\r\n        }\r\n    }\r\n\r\n    __emitVastWarning(code, msg) {\r\n        const warning = createVastError(code, msg);\r\n        this.emit(PLAYER_EVENTS.VAST_WARNING, warning);\r\n    }\r\n}\r\n\r\nfunction __readOffset(text, duration) {\r\n    if (!text) {\r\n        return 0;\r\n    }\r\n\r\n    // if offset is set in percents\r\n    if (text.indexOf('%') > 0) {\r\n        if (duration > 0) {\r\n            const skipOffsetPercent = text.slice(0, -1) * 1;\r\n            return duration * skipOffsetPercent / 100;\r\n        }\r\n    } else {\r\n        return parseTime(text);\r\n    }\r\n}\r\n\r\nfunction __readCompanionTag(tag) {\r\n    const companion = new Companion();\r\n\r\n    const companionClickThrough = tag.getElementsByTagName('CompanionClickThrough');\r\n    if (companionClickThrough.length > 0) {\r\n        companion.clickThrough = getCDATA(companionClickThrough[0]);\r\n    }\r\n\r\n    const staticResource = tag.getElementsByTagName('StaticResource');\r\n    if (staticResource.length > 0) {\r\n        companion.staticResource = getCDATA(staticResource[0]);\r\n        companion.creativeType = staticResource[0].getAttribute('creativeType');\r\n    }\r\n\r\n    const htmlResource = tag.getElementsByTagName('HTMLResource');\r\n    if (htmlResource.length > 0) {\r\n        companion.htmlResource = getCDATA(htmlResource[0]);\r\n    }\r\n\r\n    const iframeResource = tag.getElementsByTagName('IFrameResource');\r\n    if (iframeResource.length > 0) {\r\n        companion.iframeResource = getCDATA(iframeResource[0]);\r\n    }\r\n\r\n    __readTrackingArray(companion.events, tag.getElementsByTagName('Tracking'));\r\n\r\n    companion.width = tag.getAttribute('width') * 1;\r\n    companion.height = tag.getAttribute('height') * 1;\r\n\r\n    return companion;\r\n}\r\n\r\nfunction __readTrackingArray(intoTarget, trackingTags, duration) {\r\n    for (let j = 0; j < trackingTags.length; j++) {\r\n        let eventName = trackingTags[j].getAttribute('event');\r\n        if (!eventName) {\r\n            continue;\r\n        }\r\n\r\n        // lowercasing all event names\r\n        eventName = eventName.toLowerCase();\r\n        if (!intoTarget[eventName]) {\r\n            intoTarget[eventName] = [];\r\n        }\r\n\r\n        // 'progress' event also contains 'offset' attribute\r\n        if (eventName === VAST_EVENTS.PROGRESS) {\r\n            intoTarget[eventName].push({\r\n                offset: __readOffset(trackingTags[j].getAttribute('offset'), duration),\r\n                url: getCDATA(trackingTags[j])\r\n            });\r\n        } else {\r\n            intoTarget[eventName].push(getCDATA(trackingTags[j]));\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/parser/parserVast2.js"],"sourceRoot":""}