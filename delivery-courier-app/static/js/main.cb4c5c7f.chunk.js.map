{"version":3,"sources":["img/mascot-login-page.png","img/logo.svg","serviceWorker.js","system/auth.js","api/utils.js","store/utils.js","store/actions/order.js","api/order.js","store/reducers/order.js","store/actions/restaurant.js","api/restaurant.js","store/reducers/restaurant.js","api/userStatus.js","store/actions/dictionary.js","store/reducers/dictionary.js","store/reducers/index.js","store/index.js","components/RestfrontMuiTheme.js","components/PrivateRoute.js","system/routes.js","views/Root/state.js","views/Login/useStyles.js","views/Login/index.js","api/auth.js","system/utils.js","components/MenuAppBar/useStyles.js","components/MenuAppBar/index.js","hooks/useEffectOnce.js","data/order.js","views/Orders/OrderList/OrderListItem/useStyles.js","views/Orders/OrderList/OrderListItem/index.js","views/Orders/OrderList/useStyles.js","views/Orders/OrderList/index.js","views/Orders/EmptyScreen/useStyles.js","views/Orders/EmptyScreen/index.js","views/Orders/useStyles.js","views/Orders/index.js","components/SimpleAppBar/useStyles.js","components/SimpleAppBar/index.js","components/OSMMap/useStyles.js","components/OSMMap/index.js","views/Order/OrderInfo/InfoItem/useStyles.js","views/Order/OrderInfo/InfoItem/index.js","views/Order/OrderInfo/useStyles.js","views/Order/OrderInfo/index.js","system/format.js","views/Order/useStyles.js","views/Order/index.js","views/Messages/EmptyScreen/useStyles.js","views/Messages/EmptyScreen/index.js","views/Messages/useStyles.js","views/Messages/index.js","views/Contacts/useStyles.js","views/Contacts/index.js","data/restaurant.js","views/Restaurants/RestaurantList/useStyles.js","views/Restaurants/RestaurantList/index.js","views/Restaurants/useStyles.js","views/Restaurants/index.js","views/UserStatus/StatusList/useStyles.js","views/UserStatus/StatusList/index.js","views/UserStatus/useStyles.js","views/UserStatus/index.js","views/Root/Drawer/useStyles.js","views/Root/Drawer/index.js","hooks/useFreshRef.js","views/Root/Snackbar/useStyles.js","views/Root/Snackbar/index.js","views/Root/useStyles.js","views/Root/index.js","index.js"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","readToken","localStorage","getItem","isAuthenticated","unwrapErrorResponse","response","status","json","Error","message","text","_","isEmpty","statusText","unwrapJsonResponse","ok","formatServerUrl","route","params","url","trim","paramsText","isObject","Object","keys","forEach","key","length","search","process","doFetch","method","options","formattedUrl","query","fetchOptions","headers","Headers","body","isFunction","prepareForRequest","JSON","stringify","set","noAuth","authToken","fetch","Http","ASYNC_STATUS","queryApi","actionType","promiseFunc","args","dispatch","a","async","type","data","payload","processAsyncAction","action","fields","loading","createReducer","reducerObject","initialState","has","QUERY_ORDERS","queryOrders","dateBegin","DateTime","local","toISODate","dateEnd","FETCH_ORDER","fetchOrder","id","arrayAddOrReplace","array","obj","findObj","some","arrayIncludes","newObj","map","arrayReplace","arrayAdd","orders","QUERY_RESTAURANTS","queryRestaurants","restaurants","STATUSES_TEST_DATA","name","QUERY_USER_STATUSES","queryUserStatuses","Promise","resolve","userStatusesLoading","userStatuses","combineReducers","order","restaurant","dictionary","composeEnhancers","compose","createStore","reducers","applyMiddleware","thunk","theme","createMuiTheme","palette","primary","main","secondary","typography","overline","color","overrides","MuiFab","root","backgroundColor","MuiTooltip","tooltip","fontSize","app","orderStatus","pending","assigned","delivery","RestfrontMuiTheme","children","PrivateRoute","Component","component","rest","render","props","to","pathname","from","removeNotification","INITIAL_STATE","drawerOpened","notifications","reducer","notification","filter","n","AppDispatchContext","React","createContext","makeStyles","width","height","boxSizing","display","flexDirection","alignItems","padding","spacing","logo","marginBottom","mascotWrapper","flex","justifyContent","overflow","mascot","maxHeight","form","marginTop","textField","margin","submit","withRouter","history","classes","useStyles","useContext","useState","username","setUsername","password","setPassword","useEffect","className","src","ImgLogo","alt","ImgMascot","onSubmit","e","preventDefault","login","token","setItem","replace","ROUTES","variant","Math","random","toString","substr","TextField","label","value","onChange","target","autoComplete","autoFocus","required","fullWidth","Button","menuButton","marginLeft","marginRight","grow","flexGrow","AppBar","caption","position","Toolbar","IconButton","aria-label","onClick","Typography","effect","STATUS","STATUS_NAMES","SERVER_STATUS","append","str","part","divider","formatAddress","result","city","street","house","housing","entrance","floor","apartment","paddingRight","number","address","OrderListItem","restProps","ListItem","button","list","OrderList","onOrderClick","List","EmptyScreen","connect","useEffectOnce","MenuAppBar","push","SimpleAppBar","defaultProps","OSMMap","mapRef","createRef","OLMap","current","layers","OLLayerTile","source","OLSourceOSM","view","OLView","center","fromLonLat","zoom","ref","lineHeight","body1","fontWeight","fontWeightMedium","paddingLeft","InfoItem","orderLines","orderLine","lineName","lineQuantity","textAlign","statusBar","common","white","OrderInfo","statusName","useMemo","deliveryStatus","getDeliveryStatus","client","surName","firstName","middleName","formatClient","lines","line","good","quantity","comment","prepared","abs","rounded","round","intPart","trunc","fractPart","intStr","numeral","format","fractStr","formatMoney","reduce","acc","sumWithDiscountNcu","calculateTotalSum","orderId","Number","find","orderNumber","appCaption","actions","Messages","Contacts","appendAddress","restData","RestaurantList","ListItemText","StatusList","items","item","statuses","content","userContainer","avatar","avatarImg","top","left","textListItem","paddingTop","paddingBottom","iconListItem","bottomContainer","open","closeDrawer","navigateTo","SwipeableDrawer","onClose","onOpen","Avatar","img","Divider","ListItemIcon","Fab","size","removeItem","useFreshRef","useRef","buttonClose","Snackbar","setOpen","setCurrent","currentRef","last","timeout","setTimeout","clearTimeout","handleClose","event","reason","anchorOrigin","vertical","horizontal","ContentProps","minHeight","header","Root","useReducer","appDispatch","store","Provider","path","exact","PageOrders","PageOrder","PageMessages","PageContacts","PageRestaurants","PageUserStatus","ReactDOM","document","getElementById","URL","href","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.cb4c5c7f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mascot-login-page.fb3b97e8.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.e04f2cdf.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. Root is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","const LS_NAME = 'authToken';\n\nexport const readToken = () => {\n  return localStorage.getItem(LS_NAME);\n};\n\nexport const writeToken = (token) => {\n  localStorage.setItem(LS_NAME, token);\n};\n\nexport const clearToken = () => {\n  localStorage.removeItem(LS_NAME);\n};\n\nexport const isAuthenticated = () => Boolean(readToken());\n","import _ from 'lodash';\n\nimport { readToken } from '../system/auth';\n\nconst unwrapErrorResponse = (response) => {\n  // Если код ошибки - 500, то в теле должно быть описание ошибки в формате JSON ...\n  if (response.status === 500) {\n    return response.json().then((error) => {\n      throw new Error(error.message);\n    });\n  }\n  // ... иначе пытаемся прочитать ее как текст\n  return response.text().then((error) => {\n    if (!_.isEmpty(error)) {\n      throw new Error(error);\n    }\n\n    // Если в теле ответа было пусто, то используем описание статуса ответа\n    throw new Error(response.statusText);\n  });\n};\n\nexport const unwrapTextResponse = (response) => {\n  // Если запрос завершился ошибкой, пытаемся разобрать ее текст\n  if (!response.ok) {\n    return unwrapErrorResponse(response);\n  }\n\n  return response.text();\n};\n\nexport const unwrapJsonResponse = (response) => {\n  // Если запрос завершился ошибкой, пытаемся разобрать ее текст\n  if (!response.ok) {\n    return unwrapErrorResponse(response);\n  }\n\n  return response.json();\n};\n\n/**\n * Создать функцию-преобразователь результата запроса к серверу в локальные объекты\n *\n * @param {Function} [Constructor] Функция-конструктор\n * @returns {Function}\n */\nexport const prepareMapper = (Constructor) => (data) => {\n  if (Array.isArray(data)) {\n    return data.map((item) => (Constructor ? new Constructor(item) : item));\n  }\n  return Constructor ? new Constructor(data) : data;\n};\n\nexport const serializeQueryFilter = (filter = {}) => {\n  let queryFilter = '';\n  Object.keys(filter).forEach((key) => {\n    if (filter[key] !== undefined) {\n      if (_.isBoolean(filter[key]) && filter[key]) {\n        queryFilter = `${queryFilter}&${encodeURIComponent(key)}`;\n      } else if (!_.isEmpty(filter[key])) {\n        queryFilter = `${queryFilter}&${encodeURIComponent(\n          key,\n        )}=${encodeURIComponent(filter[key])}`;\n      }\n    }\n  });\n\n  return queryFilter;\n};\n\nexport const serializeQuerySort = (sort = {}) => {\n  let querySort = '';\n  if (sort.name) {\n    querySort = `&sort=${sort.dir > 0 ? '' : '-'}${sort.name}`;\n  }\n  return querySort;\n};\n\nexport const serializeQueryPagination = (pagination) => {\n  let queryPagination = '';\n  if (pagination) {\n    queryPagination += `&pageSize=${pagination.pageSize || 100}`;\n    queryPagination += `&skip=${pagination.skip || 0}`;\n  }\n\n  return queryPagination;\n};\n\nfunction formatServerUrl(route, params) {\n  let url = (route || '').trim();\n\n  // Параметры\n  let paramsText = '';\n  if (_.isObject(params)) {\n    Object.keys(params).forEach((key) => {\n      if (params[key]) {\n        paramsText += paramsText.length > 0 ? '&' : '';\n        paramsText += `${key}=${params[key]}`;\n      }\n    });\n  }\n\n  if (!_.isEmpty(paramsText)) {\n    url += `?${paramsText}`;\n  }\n\n  // Возможно URI уже был подготовлен\n  if (url.search(/^http/i) >= 0) {\n    return url;\n  }\n\n  // Если передали только часть URL, то объединяем с адресом сервера\n  if (url[0] !== '/') {\n    url = `/${url}`;\n  }\n  return `${process.env.REACT_APP_SERVER_URL}/api${url}`;\n}\n\n/**\n * Обертка вокруг HTML fetch, для установки обязательных заголовков\n *\n * @param {String}          method      HTTP метод\n * @param {String|Response} url         Адрес или запрос\n * @param {Object}          [options]   Настройки запроса\n * @promise {*}\n */\nfunction doFetch(method, url, options = {}) {\n  // Адрес\n  const formattedUrl = formatServerUrl(url, options.query);\n  // Параметры запроса\n\n  const fetchOptions = {\n    method,\n    headers: new Headers(),\n  };\n\n  // Тело запроса\n  if (options.body) {\n    let { body } = options;\n    if (_.isObject(body)) {\n      // Если есть функция, подготавливающая объект к запросу, то заменим его на результат ее вызова\n      if (_.isFunction(body.prepareForRequest)) {\n        body = body.prepareForRequest();\n      }\n      body = JSON.stringify(body);\n    }\n    fetchOptions.body = body;\n  }\n\n  // Заголовки\n  fetchOptions.headers.set('Accept', 'application/json');\n  fetchOptions.headers.set('Content-Type', 'application/json; charset=utf-8');\n\n  // Аутентификация\n  if (!options.noAuth) {\n    const authToken = options.authToken || readToken();\n    if (authToken) {\n      fetchOptions.headers.set('Authorization', `Bearer ${authToken}`);\n    }\n  }\n\n  return window.fetch(formattedUrl, fetchOptions);\n}\n\n/**\n * Вспомогательные методы для запросов к серверу\n */\nexport const Http = {\n  /**\n   * GET запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  get(url, options) {\n    return doFetch('get', url, options);\n  },\n\n  /**\n   * POST запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  post(url, options) {\n    return doFetch('post', url, options);\n  },\n\n  /**\n   * PUT запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  put(url, options) {\n    return doFetch('put', url, options);\n  },\n\n  /**\n   * DELETE запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  delete(url, options) {\n    return doFetch('delete', url, options);\n  },\n};\n","import has from 'lodash/has';\n\nexport const ASYNC_STATUS = {\n  loading: 'loading',\n  success: 'success',\n  error: 'error',\n};\n\nexport const queryApi = (actionType, promiseFunc) => (...args) => async (\n  dispatch,\n) => {\n  dispatch({\n    type: actionType,\n    status: ASYNC_STATUS.loading,\n  });\n\n  try {\n    const data = await promiseFunc(...args);\n    dispatch({\n      type: actionType,\n      status: ASYNC_STATUS.success,\n      payload: { data },\n    });\n  } catch (error) {\n    dispatch({\n      type: actionType,\n      status: ASYNC_STATUS.error,\n      payload: { error },\n    });\n  }\n};\n\nexport const processAsyncAction = (state, action, fields) => {\n  const { status, payload } = action;\n\n  switch (status) {\n    case ASYNC_STATUS.success:\n      return {\n        ...state,\n        [fields.loading]: false,\n        [fields.data]: payload.data || [],\n      };\n\n    case ASYNC_STATUS.error:\n      return {\n        ...state,\n        [fields.loading]: false,\n      };\n\n    default:\n      return {\n        ...state,\n        [fields.loading]: true,\n      };\n  }\n};\n\nexport const createReducer = (reducerObject, initialState = {}) => (\n  state = initialState,\n  action,\n) =>\n  has(reducerObject, action.type)\n    ? reducerObject[action.type](state, action)\n    : state;\n","import * as apiOrder from 'api/order';\nimport { queryApi } from '../utils';\n\nconst PREFIX = 'order';\n\nexport const QUERY_ORDERS = `${PREFIX}-QUERY_ORDERS`;\nexport const queryOrders = queryApi(QUERY_ORDERS, apiOrder.fetchOrderList);\n\nexport const FETCH_ORDER = `${PREFIX}-FETCH_ORDER`;\nexport const fetchOrder = queryApi(FETCH_ORDER, apiOrder.fetchOrder);\n","import { DateTime } from 'luxon';\n\nimport { Http, unwrapJsonResponse } from './utils';\n\nexport const fetchOrderList = () => {\n  const url = '/gedemin/order';\n  const query = {\n    dateBegin: DateTime.local().toISODate(),\n    dateEnd: DateTime.local().toISODate(),\n  };\n  return Http.get(url, { query }).then(unwrapJsonResponse);\n};\n\nexport const fetchOrder = (id) => {\n  const url = `/gedemin/order/${id}`;\n  return Http.get(url).then(unwrapJsonResponse);\n};\n","import { QUERY_ORDERS, FETCH_ORDER } from '../actions/order';\nimport { createReducer, processAsyncAction, ASYNC_STATUS } from '../utils';\n\nconst STATE = {\n  loading: false,\n  orders: [],\n};\n\nconst arrayIncludes = (array, findObj) =>\n  array.some((obj) => obj.id === findObj.id);\n\nconst arrayAdd = (array, newObj) => [...array, newObj];\n\nconst arrayReplace = (array, newObj) =>\n  array.map((obj) => (obj.id === newObj.id ? newObj : obj));\n\nconst arrayAddOrReplace = (array, obj) =>\n  arrayIncludes(array, obj) ? arrayReplace(array, obj) : arrayAdd(array, obj);\n\nconst reducerObject = {\n  [QUERY_ORDERS]: (state, action) =>\n    processAsyncAction(state, action, {\n      loading: 'loading',\n      data: 'orders',\n    }),\n\n  [FETCH_ORDER]: (state, action) => {\n    const { status, payload } = action;\n    if (status === ASYNC_STATUS.success) {\n      return {\n        ...state,\n        orders: arrayAddOrReplace(state.orders, payload.data || null),\n      };\n    }\n    return state;\n  },\n};\n\nexport default createReducer(reducerObject, STATE);\n","import * as apiRestaurant from 'api/restaurant';\nimport { queryApi } from '../utils';\n\nconst PREFIX = 'restaurant';\n\nexport const QUERY_RESTAURANTS = `${PREFIX}-QUERY_RESTAURANTS`;\nexport const queryRestaurants = queryApi(\n  QUERY_RESTAURANTS,\n  apiRestaurant.queryRestaurants,\n);\n","import { Http, unwrapJsonResponse } from './utils';\n\nexport const queryRestaurants = () => {\n  const url = '/gedemin/restaurant';\n  return Http.get(url).then(unwrapJsonResponse);\n};\n","import { QUERY_RESTAURANTS } from '../actions/restaurant';\nimport { createReducer, processAsyncAction } from '../utils';\n\nconst STATE = {\n  loading: false,\n  restaurants: [],\n};\n\nconst reducerObject = {\n  [QUERY_RESTAURANTS]: (state, action) =>\n    processAsyncAction(state, action, {\n      loading: 'loading',\n      data: 'restaurants',\n    }),\n};\n\nexport default createReducer(reducerObject, STATE);\n","const STATUSES_TEST_DATA = [\n  { id: 1, name: 'Возврат на точку' },\n  { id: 2, name: 'На доставке' },\n  { id: 3, name: 'На заправке' },\n  { id: 4, name: 'Поломка' },\n  { id: 5, name: 'В пробке' },\n  { id: 6, name: 'Перерыв' },\n];\n\nexport const queryUserStatuses = () => {\n  return Promise.resolve(STATUSES_TEST_DATA);\n};\n","import * as apiUserStatus from 'api/userStatus';\nimport { queryApi } from '../utils';\n\nconst PREFIX = 'dictionary';\n\nexport const QUERY_USER_STATUSES = `${PREFIX}-QUERY_USER_STATUSES`;\nexport const queryUserStatuses = queryApi(\n  QUERY_USER_STATUSES,\n  apiUserStatus.queryUserStatuses,\n);\n","import { QUERY_USER_STATUSES } from '../actions/dictionary';\nimport { createReducer, processAsyncAction } from '../utils';\n\nconst STATE = {\n  userStatusesLoading: false,\n  userStatuses: [],\n};\n\nconst reducerObject = {\n  [QUERY_USER_STATUSES]: (state, action) =>\n    processAsyncAction(state, action, {\n      loading: 'userStatusesLoading',\n      data: 'userStatuses',\n    }),\n};\n\nexport default createReducer(reducerObject, STATE);\n","import { combineReducers } from 'redux';\n\nimport order from './order';\nimport restaurant from './restaurant';\nimport dictionary from './dictionary';\n\nexport default combineReducers({\n  order,\n  restaurant,\n  dictionary,\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducers from './reducers';\n\nconst composeEnhancers =\n  (process.env.NODE_ENV === 'development' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nconst ORANGE = '#FF936B';\nconst BLUE_LIGHT = '#DAEDFD';\nconst BLUE = '#2196F3';\nconst GREEN = '#00DA77';\nconst WHITE = '#FFF';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: BLUE,\n    },\n    secondary: {\n      main: ORANGE,\n    },\n  },\n  typography: {\n    overline: {\n      color: 'rgba(0, 0, 0, 0.54)',\n    },\n  },\n  overrides: {\n    MuiFab: {\n      root: {\n        color: WHITE,\n        backgroundColor: GREEN,\n      },\n    },\n    MuiTooltip: {\n      tooltip: {\n        fontSize: '0.75rem',\n      },\n    },\n  },\n  app: {\n    palette: {\n      orderStatus: {\n        pending: ORANGE,\n        assigned: BLUE_LIGHT,\n        delivery: BLUE,\n      },\n    },\n  },\n});\n\nconst RestfrontMuiTheme = ({ children }) => (\n  <MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\n);\n\nexport default RestfrontMuiTheme;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { isAuthenticated } from '../system/auth';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            state: { from: props.location },\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","export default {\n  LOGIN: '/login',\n  HOME: '/',\n  ORDERS: '/orders',\n  ORDER: '/order',\n  MESSAGES: '/messages',\n  CONTACTS: '/contacts',\n  RESTAURANTS: '/restaurants',\n  USER_STATUS: '/user-status',\n};\n","import React from 'react';\n\nimport { createReducer } from 'store/utils';\nimport { genID } from 'system/utils';\n\nconst OPEN_DRAWER = 'open-drawer';\nexport const openDrawer = () => ({\n  type: OPEN_DRAWER,\n});\n\nconst CLOSE_DRAWER = 'close-drawer';\nexport const closeDrawer = () => ({\n  type: CLOSE_DRAWER,\n});\n\nconst NOTIFICATION_ADD = 'notification-add';\nexport const addNotification = (variant, message) => ({\n  type: NOTIFICATION_ADD,\n  notification: {\n    id: genID(),\n    variant,\n    message,\n  },\n});\n\nconst NOTIFICATION_REMOVE = 'notification-remove';\nexport const removeNotification = (id) => ({\n  type: NOTIFICATION_REMOVE,\n  id,\n});\n\nconst INITIAL_STATE = {\n  drawerOpened: false,\n  notifications: [],\n};\n\nconst reducerObject = {\n  [OPEN_DRAWER]: (state, action) => {\n    return {\n      ...state,\n      drawerOpened: true,\n    };\n  },\n\n  [CLOSE_DRAWER]: (state, action) => {\n    return {\n      ...state,\n      drawerOpened: false,\n    };\n  },\n\n  [NOTIFICATION_ADD]: (state, action) => {\n    const { notification } = action;\n    return {\n      ...state,\n      notifications: [...state.notifications, notification],\n    };\n  },\n\n  [NOTIFICATION_REMOVE]: (state, action) => {\n    const { id } = action;\n    return {\n      ...state,\n      notifications: state.notifications.filter((n) => n.id !== id),\n    };\n  },\n};\nconst reducer = createReducer(reducerObject, INITIAL_STATE);\n\nexport const useLocalState = () => React.useReducer(reducer, INITIAL_STATE);\n\nexport const AppDispatchContext = React.createContext(null);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    root: {\n      width: 'auto',\n      height: '100vh',\n      boxSizing: 'border-box',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'stretch',\n      padding: theme.spacing(3),\n\n      // [theme.breakpoints.up(400 + theme.spacing(3) * 2)]: {\n      //   width: 400,\n      //   marginLeft: 'auto',\n      //   marginRight: 'auto',\n      // },\n    },\n    logo: {\n      width: 'auto',\n      height: '4vh',\n      marginBottom: theme.spacing(2),\n    },\n    mascotWrapper: {\n      flex: '1',\n      display: 'flex',\n      justifyContent: 'center',\n      overflow: 'hidden',\n    },\n    mascot: {\n      maxHeight: '100%',\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(2),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    textField: {\n      margin: '0',\n      marginBottom: theme.spacing(1),\n    },\n    submit: {\n      marginTop: theme.spacing(3),\n      width: '50%',\n    },\n  }),\n  { name: 'Login' },\n);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport { login } from 'api/auth';\nimport { writeToken } from 'system/auth';\nimport ROUTES from 'system/routes';\nimport ImgMascot from 'img/mascot-login-page.png';\nimport ImgLogo from 'img/logo.svg';\nimport { addNotification, AppDispatchContext } from '../Root/state';\nimport useStyles from './useStyles';\n\nconst Login = ({ history }) => {\n  const classes = useStyles();\n\n  // Local state hook\n  const dispatch = React.useContext(AppDispatchContext);\n\n  // Form state\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!username || !password) {\n      return;\n    }\n\n    login(username, password)\n      .then((response) => {\n        writeToken(response.token);\n        history.replace(ROUTES.HOME);\n      })\n      .catch((e) => {\n        dispatch(addNotification('warning', 'Ошибка входа'));\n        console.log(e);\n      });\n  };\n\n  const checkAuthentication = () => null;\n\n  // Check authentication on load, and navigate to HOME if already logged in\n  React.useEffect(() => {\n    checkAuthentication();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <img className={classes.logo} src={ImgLogo} alt=\"Logo\" />\n\n      <div className={classes.mascotWrapper}>\n        <img className={classes.mascot} src={ImgMascot} alt=\"Mascot\" />\n      </div>\n\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField\n          className={classes.textField}\n          label=\"Логин\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          autoComplete=\"username\"\n          autoFocus\n          margin=\"normal\"\n          variant=\"outlined\"\n          required\n          fullWidth\n        />\n\n        <TextField\n          className={classes.textField}\n          label=\"Пароль\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          autoComplete=\"current-password\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          required\n          fullWidth\n        />\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Войти\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import { Http, unwrapJsonResponse } from './utils';\n\nexport const login = (login, password) => {\n  const url = `/gedemin/login`;\n  return Http.post(url, { body: { login, password } }).then(unwrapJsonResponse);\n};\n","export const genID = () =>\n  '_' +\n  Math.random()\n    .toString(36)\n    .substr(2, 9);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n    },\n    grow: {\n      flexGrow: '1',\n    },\n  }),\n  { name: 'MenuAppBar' },\n);\n","import React from 'react';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport IconMenu from '@material-ui/icons/Menu';\n\nimport {\n  AppDispatchContext,\n  openDrawer as openDrawerAction,\n} from 'views/Root/state';\nimport useStyles from './useStyles';\n\nconst AppBar = ({ caption }) => {\n  const classes = useStyles();\n\n  const dispatch = React.useContext(AppDispatchContext);\n\n  const openDrawer = () => dispatch(openDrawerAction());\n\n  return (\n    <MuiAppBar position=\"static\" color=\"default\">\n      <Toolbar>\n        <IconButton\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"Menu\"\n          onClick={openDrawer}\n        >\n          <IconMenu />\n        </IconButton>\n\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n          {caption}\n        </Typography>\n      </Toolbar>\n    </MuiAppBar>\n  );\n};\n\nexport default AppBar;\n","import React from 'react';\n\nexport default (effect) => {\n  React.useEffect(effect, []);\n};\n","export const STATUS = {\n  pending: 'pending',\n  assigned: 'assigned',\n  delivery: 'delivery',\n};\nconst STATUS_NAMES = {\n  [STATUS.pending]: 'Новая',\n  [STATUS.assigned]: 'Принята',\n  [STATUS.delivery]: 'В пути',\n};\n\nconst SERVER_STATUS = {\n  DEFERRED: 0, // отложенная\n  NEW: 1, // новый\n  RECEIVED: 2, // получен из внешней системы\n  IN_PROCESS: 3, // в обработке\n  CANCELED: 4, // отменен менеджером доставки\n  SENDED_TO_RESTAURANT: 5, // отправлен в ресторан\n  COOKING: 6, // готовится в ресторане\n  READY: 7, // готов в ресторане\n  CANCELED_BY_RESTAURANT: 8, // отменен рестораном\n  TAKEN_BY_CLIENT: 9, // забран клиентом\n\n  SENDED_TO_COURIER: 10, // отправлен курьеру\n  TAKEN_BY_COURIER: 11, // забран с ресторана\n  DELIVERED: 12, // доставлен\n  CANCELED_BY_COURIER: 13, // отменен курьером\n  CANCELED_BY_CLIENT: 14, // отменен клиентом\n};\n\nexport const getDeliveryStatus = (order) => {\n  if (order.status === SERVER_STATUS.TAKEN_BY_COURIER) {\n    return STATUS.delivery;\n  }\n  if (order.status === SERVER_STATUS.SENDED_TO_COURIER) {\n    return STATUS.assigned;\n  }\n  return STATUS.pending;\n};\n\nexport const getDeliveryStatusName = (status) => STATUS_NAMES[status];\n\nconst append = (str, part, divider = ', ') =>\n  (str ? `${str}${divider}` : '') + part;\n\nexport const formatAddress = (order) => {\n  if (!order) {\n    return '';\n  }\n  let result = '';\n  if (order.city) {\n    result = append(result, `г. ${order.city}`);\n  }\n  if (order.street) {\n    result = append(result, `ул. ${order.street}`);\n  }\n  if (order.house) {\n    result = append(result, `д. ${order.house}`);\n  }\n  if (order.housing) {\n    result = append(result, `к. ${order.housing}`);\n  }\n  if (order.entrance) {\n    result = append(result, `под. ${order.entrance}`);\n  }\n  if (order.floor) {\n    result = append(result, `эт. ${order.floor}`);\n  }\n  if (order.apartment) {\n    result = append(result, `кв. ${order.apartment}`);\n  }\n  return result;\n};\n\nexport const formatClient = (order) => {\n  if (!order || !order.client) {\n    return '';\n  }\n  const client = order.client;\n  let result = '';\n  if (client.surName) {\n    result = append(result, client.surName, ' ');\n  }\n  if (client.firstName) {\n    result = append(result, client.firstName, ' ');\n  }\n  if (client.middleName) {\n    result = append(result, client.middleName, ' ');\n  }\n  return result;\n};\n\nexport const calculateTotalSum = (order) =>\n  order.lines.reduce((acc, line) => acc + line.sumWithDiscountNcu, 0);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    root: {\n      padding: '0',\n      paddingRight: theme.spacing(1),\n    },\n    status: {\n      width: '8px',\n      height: '56px',\n      backgroundColor: 'gray',\n    },\n    number: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    address: {},\n  }),\n  { name: 'OrderListItem' },\n);\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\n\nimport { formatAddress } from 'data/order';\nimport useStyles from './useStyles';\n\nconst OrderListItem = ({ order, ...restProps }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <ListItem className={classes.root} button {...restProps}>\n      <div className={classes.status} />\n      <Typography variant=\"body1\" className={classes.number}>\n        {order.number}\n      </Typography>\n      <Typography variant=\"body2\" className={classes.address}>\n        {formatAddress(order)}\n      </Typography>\n    </ListItem>\n  );\n};\n\nexport default OrderListItem;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    list: {\n      padding: '0',\n    },\n  }),\n  { name: 'OrderList' },\n);\n","import React from 'react';\nimport List from '@material-ui/core/List';\n\nimport OrderListItem from './OrderListItem';\nimport useStyles from './useStyles';\n\nconst OrderList = ({ orders, onOrderClick }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <List className={classes.list}>\n        {orders.map((order) => (\n          <OrderListItem\n            key={order.id}\n            order={order}\n            onClick={() => onOrderClick(order)}\n          />\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default OrderList;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  }),\n  { name: 'EmptyScreen' },\n);\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport useStyles from './useStyles';\n\nconst EmptyScreen = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body1\">В данный момент у вас нет заказов</Typography>\n    </div>\n  );\n};\n\nexport default EmptyScreen;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Orders' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryOrders } from 'store/actions/order';\nimport ROUTES from 'system/routes';\nimport MenuAppBar from 'components/MenuAppBar';\nimport useEffectOnce from 'hooks/useEffectOnce';\nimport OrderList from './OrderList';\nimport EmptyScreen from './EmptyScreen';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ order }) => {\n  return {\n    orders: order.orders,\n  };\n};\n\nconst Orders = ({ orders, history, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  useEffectOnce(() => {\n    dispatch(queryOrders());\n  });\n\n  const navigateToOrder = (order) => {\n    history.push(`${ROUTES.ORDER}/${order.id}`);\n  };\n\n  return (\n    <div className={classes.root}>\n      <MenuAppBar caption=\"Доставки\" />\n\n      {orders.length > 0 ? (\n        <OrderList orders={orders} onOrderClick={navigateToOrder} />\n      ) : (\n        <EmptyScreen />\n      )}\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(Orders);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n    },\n    grow: {\n      flexGrow: '1',\n    },\n  }),\n  { name: 'SimpleAppBar' },\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport IconArrowBack from '@material-ui/icons/ArrowBack';\n\nimport ROUTES from 'system/routes';\nimport useStyles from './useStyles';\n\nconst propTypes = {\n  caption: PropTypes.string,\n};\n\nconst defaultProps = {\n  caption: 'SimpleAppBar',\n};\n\nconst SimpleAppBar = ({ history, caption }) => {\n  const classes = useStyles();\n\n  const goBack = () => {\n    history.replace(ROUTES.HOME);\n  };\n\n  return (\n    <MuiAppBar position=\"static\" color=\"default\">\n      <Toolbar>\n        <IconButton\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"Menu\"\n          onClick={goBack}\n        >\n          <IconArrowBack />\n        </IconButton>\n\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n          {caption}\n        </Typography>\n      </Toolbar>\n    </MuiAppBar>\n  );\n};\n\nSimpleAppBar.propTypes = propTypes;\nSimpleAppBar.defaultProps = defaultProps;\n\nexport default withRouter(SimpleAppBar);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {},\n    map: {},\n  }),\n  { name: 'OSMMap' },\n);\n","import React from 'react';\nimport { Map as OLMap, View as OLView } from 'ol';\nimport OLLayerTile from 'ol/layer/Tile';\nimport OLSourceOSM from 'ol/source/OSM';\nimport { fromLonLat } from 'ol/proj';\nimport 'ol/ol.css';\n\nimport useStyles from './useStyles';\n\nconst OSMMap = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Map DOM ref\n  const mapRef = React.createRef();\n\n  React.useEffect(() => {\n    const map = new OLMap({\n      target: mapRef.current,\n      layers: [\n        new OLLayerTile({\n          source: new OLSourceOSM(),\n        }),\n      ],\n      view: new OLView({\n        center: fromLonLat([27.55228, 53.903323]),\n        zoom: 12,\n      }),\n    });\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.map} ref={mapRef} />\n    </div>\n  );\n};\n\nexport default OSMMap;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    root: {\n      display: 'flex',\n      alignItems: 'stretch',\n      lineHeight: '1.5em',\n      padding: '4px 0 4px 0',\n    },\n    label: {\n      ...theme.typography.body1,\n      fontWeight: theme.typography.fontWeightMedium,\n      flex: '0 0 70px',\n      paddingLeft: theme.spacing(2),\n    },\n    value: {\n      ...theme.typography.body1,\n      flex: '1',\n      paddingRight: theme.spacing(2),\n    },\n  }),\n  { name: 'InfoItem' },\n);\n","import React from 'react';\n\nimport useStyles from './useStyles';\n\nconst InfoItem = ({ label, children, ...restProps }) => {\n  // Styles hook\n  const classes = useStyles({ classes: restProps.classes });\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.label}>{label}</div>\n      <div className={classes.value}>{children}</div>\n    </div>\n  );\n};\n\nexport default InfoItem;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    map: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    orderLines: {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    orderLine: {\n      display: 'flex',\n    },\n    lineName: {\n      ...theme.typography.body1,\n      flex: '1',\n    },\n    lineQuantity: {\n      ...theme.typography.body1,\n      fontWeight: theme.typography.fontWeightMedium,\n      flex: '0 0 24px',\n      textAlign: 'right',\n    },\n    statusBar: {\n      backgroundColor: theme.app.palette.orderStatus.pending,\n      marginBottom: theme.spacing(1),\n\n      '& $label': {\n        color: theme.palette.common.white,\n      },\n      '& $value': {\n        color: theme.palette.common.white,\n      },\n    },\n  }),\n  { name: 'OrderInfo' },\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  formatClient,\n  formatAddress,\n  calculateTotalSum,\n  getDeliveryStatus,\n  getDeliveryStatusName,\n} from 'data/order';\nimport { formatMoney } from 'system/format';\nimport OSMMap from 'components/OSMMap';\nimport InfoItem from './InfoItem';\nimport useStyles from './useStyles';\n\nconst propTypes = {\n  order: PropTypes.shape({}).isRequired,\n};\n\nconst OrderInfo = ({ order, ...restProps }) => {\n  // Styles hook\n  const classes = useStyles({ classes: restProps.classes });\n\n  // Order delivery status\n  const statusName = React.useMemo(() => {\n    const deliveryStatus = getDeliveryStatus(order.status);\n    return getDeliveryStatusName(deliveryStatus);\n  }, [order.status]);\n\n  return (\n    <>\n      <InfoItem classes={{ root: classes.statusBar }} label=\"Статус\">\n        {statusName}\n      </InfoItem>\n\n      <InfoItem label=\"ФИО\">{formatClient(order)}</InfoItem>\n      <InfoItem label=\"Адрес\">{formatAddress(order)}</InfoItem>\n\n      <div className={classes.map}>\n        <OSMMap />\n      </div>\n\n      <InfoItem classes={{ value: classes.orderLines }} label=\"Заказ\">\n        {order.lines.map((line) => (\n          <div key={line.id} className={classes.orderLine}>\n            <div className={classes.lineName}>{line.good.name}</div>\n            <div className={classes.lineQuantity}>{line.quantity}</div>\n          </div>\n        ))}\n      </InfoItem>\n\n      {order.comment && <InfoItem label=\"Прим.\">{order.comment}</InfoItem>}\n\n      <InfoItem label=\"Сумма\">{formatMoney(calculateTotalSum(order))}</InfoItem>\n    </>\n  );\n};\n\nOrderInfo.propTypes = propTypes;\n\nexport default OrderInfo;\n","import numeral from 'numeral';\n\nexport const formatMoney = (value) => {\n  //\n  const prepared = Math.abs(value || 0);\n  const rounded = Math.round(prepared * 100) / 100;\n\n  const intPart = Math.trunc(rounded);\n  const fractPart = Math.round((rounded - intPart) * 100);\n\n  const intStr = numeral(intPart).format('0,0');\n  const fractStr = numeral(fractPart).format('00');\n\n  return `${value < 0 ? '- ' : ''}${intStr} руб. ${fractStr} коп.`;\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Order' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { fetchOrder } from 'store/actions/order';\nimport SimpleAppBar from 'components/SimpleAppBar';\nimport OrderInfo from './OrderInfo';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ order }, { match }) => {\n  const orderId = Number(match.params.id);\n  return {\n    order: order.orders.find((order) => order.id === orderId),\n  };\n};\n\nconst Order = ({ order, match, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  React.useEffect(() => {\n    const orderId = Number(match.params.id);\n    dispatch(fetchOrder(orderId));\n  }, [dispatch, match.params.id]);\n\n  const orderNumber = order ? order.number : '';\n  const appCaption = `Доставка${orderNumber ? ' № ' + orderNumber : ''}`;\n\n  return (\n    <div className={classes.root}>\n      <SimpleAppBar caption={appCaption} />\n\n      {order ? <OrderInfo order={order} /> : <span>Empty order</span>}\n\n      <div className={classes.actions} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(Order);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  }),\n  { name: 'EmptyScreen' },\n);\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport useStyles from './useStyles';\n\nconst EmptyScreen = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body1\">\n        В данный момент у вас нет сообщений\n      </Typography>\n    </div>\n  );\n};\n\nexport default EmptyScreen;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Messages' },\n);\n","import React from 'react';\n\nimport MenuAppBar from 'components/MenuAppBar';\nimport EmptyScreen from './EmptyScreen';\nimport useStyles from './useStyles';\n\nconst Messages = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <MenuAppBar caption=\"Сообщения\" />\n\n      <EmptyScreen />\n    </div>\n  );\n};\n\nexport default Messages;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Contacts' },\n);\n","import React from 'react';\n\nimport MenuAppBar from 'components/MenuAppBar';\nimport useStyles from './useStyles';\n\nconst Contacts = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <MenuAppBar caption=\"Контакты\" />\n    </div>\n  );\n};\n\nexport default Contacts;\n","const appendAddress = (address, part) => (address ? `${address}, ` : '') + part;\n\nexport const formatAddress = (restaurant) => {\n  if (!restaurant || !restaurant.restData) {\n    return '';\n  }\n  const data = restaurant.restData;\n  let address = '';\n  if (data.city) {\n    address = appendAddress(address, `г. ${data.city}`);\n  }\n  if (data.street) {\n    address = appendAddress(address, `ул. ${data.street}`);\n  }\n  if (data.house) {\n    address = appendAddress(address, `д. ${data.house}`);\n  }\n  if (data.housing) {\n    address = appendAddress(address, `к. ${data.housing}`);\n  }\n  return address;\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    list: {},\n  }),\n  { name: 'RestaurantList' },\n);\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { formatAddress } from 'data/restaurant';\nimport useStyles from './useStyles';\n\nconst RestaurantList = ({ restaurants, onClick }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <List>\n        {restaurants.map((restaurant) => (\n          <ListItem\n            key={restaurant.id}\n            button\n            onClick={() => onClick(restaurant)}\n          >\n            <ListItemText\n              primary={restaurant.name}\n              secondary={formatAddress(restaurant)}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default RestaurantList;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Restaurants' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryRestaurants } from 'store/actions/restaurant';\nimport SimpleAppBar from 'components/SimpleAppBar';\nimport useEffectOnce from 'hooks/useEffectOnce';\nimport RestaurantList from './RestaurantList';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ restaurant }) => {\n  return {\n    restaurants: restaurant.restaurants,\n  };\n};\n\nconst Restaurants = ({ restaurants, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  useEffectOnce(() => {\n    dispatch(queryRestaurants());\n  });\n\n  const handleSelectRestaurant = (restaurant) => {\n    console.log(restaurant);\n  };\n\n  return (\n    <div className={classes.root}>\n      <SimpleAppBar caption=\"Точки доставки\" />\n\n      <RestaurantList\n        restaurants={restaurants}\n        onClick={handleSelectRestaurant}\n      />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(Restaurants);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    list: {},\n  }),\n  { name: 'StatusList' },\n);\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport useStyles from './useStyles';\n\nconst StatusList = ({ items, onClick }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <List>\n        {items.map((item) => (\n          <ListItem key={item.id} button onClick={() => onClick(item)}>\n            <ListItemText primary={item.name} />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default StatusList;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'UserStatus' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryUserStatuses } from 'store/actions/dictionary';\nimport SimpleAppBar from 'components/SimpleAppBar';\nimport useEffectOnce from 'hooks/useEffectOnce';\nimport StatusList from './StatusList';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ dictionary }) => {\n  return {\n    statuses: dictionary.userStatuses,\n  };\n};\n\nconst UserStatus = ({ statuses, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  useEffectOnce(() => {\n    dispatch(queryUserStatuses());\n  });\n\n  const handleSelectStatus = (item) => {\n    console.log(item);\n  };\n\n  return (\n    <div className={classes.root}>\n      <SimpleAppBar caption=\"Статусы\" />\n\n      <StatusList items={statuses} onClick={handleSelectStatus} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(UserStatus);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    content: {\n      width: '80vw',\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    userContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: theme.spacing(2),\n    },\n    avatar: {\n      width: '128px',\n      height: '128px',\n      marginBottom: theme.spacing(2),\n    },\n    avatarImg: {\n      position: 'absolute',\n      top: '-25px',\n      left: '-30px',\n      width: '150%',\n      height: 'auto',\n    },\n    list: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n    },\n    textListItem: {\n      paddingTop: '6px',\n      paddingBottom: '6px',\n    },\n    iconListItem: {\n      paddingTop: '17px',\n      paddingBottom: '17px',\n    },\n    bottomContainer: {\n      flex: '1',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      justifyContent: 'space-around',\n      padding: theme.spacing(2),\n    },\n    action: {\n      color: theme.palette.common.white,\n    },\n  }),\n  { name: 'Drawer' },\n);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport IconDriveEta from '@material-ui/icons/DriveEta';\nimport IconInbox from '@material-ui/icons/Inbox';\nimport IconContacts from '@material-ui/icons/Contacts';\nimport Fab from '@material-ui/core/Fab';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\n\nimport ImgMascot from 'img/mascot-login-page.png';\nimport { clearToken } from 'system/auth';\nimport ROUTES from 'system/routes';\nimport {\n  AppDispatchContext,\n  openDrawer as openDrawerAction,\n  closeDrawer as closeDrawerAction,\n} from '../state';\nimport useStyles from './useStyles';\n\nconst Drawer = ({ open, history }) => {\n  const classes = useStyles();\n\n  const dispatch = React.useContext(AppDispatchContext);\n\n  const openDrawer = () => dispatch(openDrawerAction());\n  const closeDrawer = () => dispatch(closeDrawerAction());\n\n  const navigateTo = (route) => {\n    closeDrawer();\n    history.replace(route);\n  };\n\n  const logout = () => {\n    closeDrawer();\n    clearToken();\n    history.replace(ROUTES.LOGIN);\n  };\n\n  return (\n    <SwipeableDrawer open={open} onClose={closeDrawer} onOpen={openDrawer}>\n      <div className={classes.content}>\n        <div className={classes.userContainer}>\n          <Avatar\n            classes={{ root: classes.avatar, img: classes.avatarImg }}\n            alt=\"User\"\n            src={ImgMascot}\n          />\n          <Typography variant=\"h6\">Вася Пупкин</Typography>\n          <Typography variant=\"subtitle1\">курьер</Typography>\n        </div>\n\n        <Divider />\n\n        <List className={classes.list}>\n          <ListItem\n            className={classes.textListItem}\n            button\n            onClick={() => navigateTo(ROUTES.RESTAURANTS)}\n          >\n            <ListItemText>\n              <Typography variant=\"overline\">Точка</Typography>\n              <Typography variant=\"body1\">Васильки 1</Typography>\n            </ListItemText>\n          </ListItem>\n\n          <ListItem\n            className={classes.textListItem}\n            button\n            onClick={() => navigateTo(ROUTES.USER_STATUS)}\n          >\n            <ListItemText>\n              <Typography variant=\"overline\">Статус</Typography>\n              <Typography variant=\"body1\">Перерыв с 10.00 до 10.30</Typography>\n            </ListItemText>\n          </ListItem>\n        </List>\n\n        <Divider />\n\n        <List className={classes.list}>\n          <ListItem\n            className={classes.iconListItem}\n            button\n            onClick={() => navigateTo(ROUTES.ORDERS)}\n          >\n            <ListItemIcon>\n              <IconDriveEta color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Доставки\" />\n          </ListItem>\n\n          <ListItem\n            className={classes.iconListItem}\n            button\n            onClick={() => navigateTo(ROUTES.MESSAGES)}\n          >\n            <ListItemIcon>\n              <IconInbox color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Сообщения\" />\n          </ListItem>\n\n          <ListItem\n            className={classes.iconListItem}\n            button\n            onClick={() => navigateTo(ROUTES.CONTACTS)}\n          >\n            <ListItemIcon>\n              <IconContacts color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Контакты\" />\n          </ListItem>\n        </List>\n\n        <div className={classes.bottomContainer}>\n          <Fab\n            className={classes.action}\n            variant=\"extended\"\n            size=\"medium\"\n            color=\"secondary\"\n            aria-label=\"Add\"\n          >\n            Закрыть смену\n          </Fab>\n\n          <Fab\n            className={classes.action}\n            variant=\"extended\"\n            size=\"medium\"\n            color=\"secondary\"\n            aria-label=\"Add\"\n            onClick={logout}\n          >\n            Выйти\n          </Fab>\n        </div>\n      </div>\n    </SwipeableDrawer>\n  );\n};\n\nexport default withRouter(Drawer);\n","import { useRef, useEffect } from 'react';\n\nconst useFreshRef = (value) => {\n  // Create initial 'ref'\n  const ref = useRef(value);\n\n  // Refresh 'ref' value on every render\n  useEffect(() => {\n    ref.current = value;\n  });\n\n  return ref;\n};\n\nexport default useFreshRef;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    buttonClose: {\n      padding: theme.spacing(0.5),\n    },\n  }),\n  { name: 'Snackbar' },\n);\n","import React from 'react';\nimport MuiSnackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconClose from '@material-ui/icons/Close';\n\nimport useFreshRef from 'hooks/useFreshRef';\nimport { removeNotification, AppDispatchContext } from '../state';\nimport useStyles from './useStyles';\n\nconst TIMEOUT = 3000;\n\nconst Snackbar = ({ notifications, ...restProps }) => {\n  // Style hook\n  const classes = useStyles({ classes: restProps.classes });\n\n  // Open/closed state\n  const [open, setOpen] = React.useState(false);\n  const [current, setCurrent] = React.useState(null);\n  const currentRef = useFreshRef(current);\n\n  // Local state hook\n  const dispatch = React.useContext(AppDispatchContext);\n\n  // Effect to change current notification\n  React.useEffect(() => {\n    const last =\n      notifications.length > 0 ? notifications[notifications.length - 1] : null;\n    if (currentRef.current) {\n      dispatch(removeNotification(currentRef.current.id));\n      setOpen(false);\n    }\n    setCurrent(last);\n\n    console.log(notifications);\n  }, [dispatch, currentRef, notifications]);\n\n  // Effect to hide current notification\n  React.useEffect(() => {\n    if (!current) {\n      setOpen(false);\n      return;\n    }\n\n    setOpen(true);\n    const timeout = setTimeout(\n      () => dispatch(removeNotification(current.id)),\n      TIMEOUT,\n    );\n    return () => clearTimeout(timeout);\n  }, [dispatch, current]);\n\n  const handleClose = (event, reason) => {\n    if (!current || reason === 'clickaway') {\n      return;\n    }\n\n    dispatch(removeNotification(current.id));\n  };\n\n  return (\n    <MuiSnackbar\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      open={open}\n      onClose={handleClose}\n      ContentProps={{\n        'aria-describedby': 'message-id',\n      }}\n      message={current ? <span id=\"message-id\">{current.message}</span> : null}\n      action={[\n        <IconButton\n          className={classes.buttonClose}\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          onClick={handleClose}\n        >\n          <IconClose />\n        </IconButton>,\n      ]}\n    />\n  );\n};\n\nexport default Snackbar;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'stretch',\n    },\n\n    header: {\n      backgroundColor: '#282c34',\n      textAlign: 'center',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: 'calc(10px + 2vmin)',\n      color: 'white',\n    },\n  }),\n  { name: 'Root' },\n);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport {\n  HashRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from 'react-router-dom';\n\nimport store from 'store';\nimport RestfrontMuiTheme from 'components/RestfrontMuiTheme';\nimport PrivateRoute from 'components/PrivateRoute';\nimport { isAuthenticated } from 'system/auth';\nimport ROUTES from 'system/routes';\nimport PageLogin from '../Login';\nimport PageOrders from '../Orders';\nimport PageOrder from '../Order';\nimport PageMessages from '../Messages';\nimport PageContacts from '../Contacts';\nimport PageRestaurants from '../Restaurants';\nimport PageUserStatus from '../UserStatus';\nimport { useLocalState, AppDispatchContext } from './state';\nimport Drawer from './Drawer';\nimport Snackbar from './Snackbar';\nimport useStyles from './useStyles';\n\nconst Root = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Local state hook\n  const [state, appDispatch] = useLocalState();\n  const { drawerOpened, notifications } = state;\n\n  return (\n    <Provider store={store}>\n      <RestfrontMuiTheme>\n        <Router>\n          <AppDispatchContext.Provider value={appDispatch}>\n            <div className={classes.root}>\n              <Snackbar notifications={notifications} />\n\n              {isAuthenticated() && (\n                <>\n                  <header className={classes.header} />\n                  <Drawer open={drawerOpened} />\n                </>\n              )}\n\n              <Switch>\n                <Route path={ROUTES.LOGIN}>\n                  <PageLogin />\n                </Route>\n\n                <PrivateRoute\n                  exact\n                  path={ROUTES.ORDERS}\n                  component={PageOrders}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.ORDER}/:id`}\n                  component={PageOrder}\n                />\n                <PrivateRoute\n                  exact\n                  path={ROUTES.MESSAGES}\n                  component={PageMessages}\n                />\n                <PrivateRoute\n                  exact\n                  path={ROUTES.CONTACTS}\n                  component={PageContacts}\n                />\n\n                <PrivateRoute\n                  exact\n                  path={ROUTES.RESTAURANTS}\n                  component={PageRestaurants}\n                />\n                <PrivateRoute\n                  exact\n                  path={ROUTES.USER_STATUS}\n                  component={PageUserStatus}\n                />\n\n                <Redirect to={ROUTES.ORDERS} />\n              </Switch>\n            </div>\n          </AppDispatchContext.Provider>\n        </Router>\n      </RestfrontMuiTheme>\n    </Provider>\n  );\n};\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport Root from './views/Root';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n\n/*\nlet deferredPrompt;\nwindow.addEventListener('beforeinstallprompt', (e) => {\n  // Stash the event so it can be triggered later.\n  deferredPrompt = e;\n\n  // Show the prompt\n  deferredPrompt.prompt();\n\n  // Wait for the user to respond to the prompt\n  deferredPrompt.userChoice.then((choiceResult) => {\n    if (choiceResult.outcome === 'accepted') {\n      console.log('User accepted the A2HS prompt');\n    } else {\n      console.log('User dismissed the A2HS prompt');\n    }\n    deferredPrompt = null;\n  });\n});\n*/\n"],"sourceRoot":""}