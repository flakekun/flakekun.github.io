{"version":3,"sources":["img/mascot-login-page.png","img/logo.svg","serviceWorker.js","system/auth.js","api/utils.js","store/utils.js","store/actions/order.js","api/order.js","store/reducers/order.js","store/actions/restaurant.js","api/restaurant.js","store/reducers/restaurant.js","api/userStatus.js","store/actions/dictionary.js","store/reducers/dictionary.js","store/reducers/index.js","store/index.js","components/RestfrontMuiTheme.js","components/PrivateRoute.js","system/routes.js","views/Root/state.js","views/Login/useStyles.js","views/Login/index.js","api/auth.js","system/utils.js","components/MenuAppBar/useStyles.js","components/MenuAppBar/index.js","hooks/useEffectOnce.js","data/order.js","views/Orders/OrderList/OrderListItem/useStyles.js","views/Orders/OrderList/OrderListItem/index.js","views/Orders/OrderList/useStyles.js","views/Orders/OrderList/index.js","views/Orders/EmptyScreen/useStyles.js","views/Orders/EmptyScreen/index.js","views/Orders/useStyles.js","views/Orders/index.js","components/SimpleAppBar/useStyles.js","components/SimpleAppBar/index.js","components/OSMMap/useStyles.js","components/OSMMap/index.js","views/Order/OrderInfo/InfoItem/useStyles.js","views/Order/OrderInfo/InfoItem/index.js","views/Order/OrderInfo/useStyles.js","views/Order/OrderInfo/index.js","system/format.js","views/Order/useStyles.js","views/Order/index.js","views/Messages/EmptyScreen/useStyles.js","views/Messages/EmptyScreen/index.js","views/Messages/useStyles.js","views/Messages/index.js","views/Contacts/useStyles.js","views/Contacts/index.js","data/restaurant.js","views/Restaurants/RestaurantList/useStyles.js","views/Restaurants/RestaurantList/index.js","views/Restaurants/useStyles.js","views/Restaurants/index.js","views/UserStatus/StatusList/useStyles.js","views/UserStatus/StatusList/index.js","views/UserStatus/useStyles.js","views/UserStatus/index.js","views/Root/Drawer/useStyles.js","views/Root/Drawer/index.js","hooks/useFreshRef.js","views/Root/Snackbar/useStyles.js","views/Root/Snackbar/index.js","views/Root/useStyles.js","views/Root/index.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","readToken","localStorage","getItem","isAuthenticated","unwrapErrorResponse","response","status","json","then","error","Error","message","text","_","isEmpty","statusText","unwrapJsonResponse","ok","formatServerUrl","route","params","url","trim","paramsText","isObject","Object","keys","forEach","key","length","search","process","doFetch","method","options","formattedUrl","query","fetchOptions","headers","Headers","body","isFunction","prepareForRequest","JSON","stringify","set","noAuth","authToken","fetch","Http","ASYNC_STATUS","queryApi","actionType","promiseFunc","args","dispatch","a","async","type","data","payload","processAsyncAction","state","action","fields","loading","createReducer","reducerObject","initialState","has","QUERY_ORDERS","queryOrders","dateBegin","DateTime","local","toISODate","dateEnd","FETCH_ORDER","fetchOrder","id","arrayAddOrReplace","array","obj","findObj","some","arrayIncludes","newObj","map","arrayReplace","arrayAdd","orders","QUERY_RESTAURANTS","queryRestaurants","restaurants","STATUSES_TEST_DATA","name","QUERY_USER_STATUSES","queryUserStatuses","Promise","resolve","userStatusesLoading","userStatuses","combineReducers","order","restaurant","dictionary","composeEnhancers","compose","createStore","reducers","applyMiddleware","thunk","theme","createMuiTheme","palette","primary","main","secondary","typography","overline","color","overrides","MuiFab","root","backgroundColor","MuiTooltip","tooltip","fontSize","app","orderStatus","pending","assigned","delivery","RestfrontMuiTheme","children","PrivateRoute","Component","component","rest","render","props","to","pathname","from","removeNotification","INITIAL_STATE","drawerOpened","notifications","reducer","notification","filter","n","AppDispatchContext","React","createContext","makeStyles","display","flexDirection","alignItems","width","padding","spacing","breakpoints","up","marginLeft","marginRight","logo","height","marginBottom","mascot","form","marginTop","textField","margin","submit","withRouter","history","classes","useStyles","useContext","useState","username","setUsername","password","setPassword","useEffect","className","src","ImgLogo","alt","ImgMascot","onSubmit","e","preventDefault","login","token","setItem","replace","ROUTES","catch","variant","Math","random","toString","substr","console","log","TextField","label","value","onChange","target","autoComplete","autoFocus","required","fullWidth","Button","menuButton","grow","flexGrow","AppBar","caption","position","Toolbar","IconButton","aria-label","onClick","Typography","effect","STATUS","STATUS_NAMES","SERVER_STATUS","append","str","part","divider","formatAddress","result","city","street","house","housing","entrance","floor","apartment","paddingRight","number","address","OrderListItem","restProps","ListItem","button","list","OrderList","onOrderClick","List","justifyContent","EmptyScreen","connect","useEffectOnce","MenuAppBar","push","SimpleAppBar","defaultProps","OSMMap","mapRef","createRef","OLMap","current","layers","OLLayerTile","source","OLSourceOSM","view","OLView","center","fromLonLat","zoom","ref","lineHeight","body1","fontWeight","fontWeightMedium","flex","paddingLeft","InfoItem","orderLines","orderLine","lineName","lineQuantity","textAlign","statusBar","common","white","OrderInfo","statusName","useMemo","deliveryStatus","getDeliveryStatus","client","surName","firstName","middleName","formatClient","lines","line","good","quantity","comment","prepared","abs","rounded","round","intPart","trunc","fractPart","intStr","numeral","format","fractStr","formatMoney","reduce","acc","sumWithDiscountNcu","calculateTotalSum","orderId","Number","find","orderNumber","appCaption","actions","Messages","Contacts","appendAddress","restData","RestaurantList","ListItemText","StatusList","items","item","statuses","content","userContainer","avatar","avatarImg","top","left","textListItem","paddingTop","paddingBottom","iconListItem","bottomContainer","open","closeDrawer","navigateTo","SwipeableDrawer","onClose","onOpen","Avatar","img","Divider","ListItemIcon","Fab","size","removeItem","useFreshRef","useRef","buttonClose","Snackbar","setOpen","setCurrent","currentRef","last","timeout","setTimeout","clearTimeout","handleClose","event","reason","anchorOrigin","vertical","horizontal","ContentProps","minHeight","header","Root","useReducer","appDispatch","store","Provider","path","exact","PageOrders","PageOrder","PageMessages","PageContacts","PageRestaurants","PageUserStatus","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.809697cb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mascot-login-page.fb3b97e8.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.e04f2cdf.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. Root is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","const LS_NAME = 'authToken';\n\nexport const readToken = () => {\n  return localStorage.getItem(LS_NAME);\n};\n\nexport const writeToken = (token) => {\n  localStorage.setItem(LS_NAME, token);\n};\n\nexport const clearToken = () => {\n  localStorage.removeItem(LS_NAME);\n};\n\nexport const isAuthenticated = () => Boolean(readToken());\n","import _ from 'lodash';\n\nimport { readToken } from '../system/auth';\n\nconst unwrapErrorResponse = (response) => {\n  // Если код ошибки - 500, то в теле должно быть описание ошибки в формате JSON ...\n  if (response.status === 500) {\n    return response.json().then((error) => {\n      throw new Error(error.message);\n    });\n  }\n  // ... иначе пытаемся прочитать ее как текст\n  return response.text().then((error) => {\n    if (!_.isEmpty(error)) {\n      throw new Error(error);\n    }\n\n    // Если в теле ответа было пусто, то используем описание статуса ответа\n    throw new Error(response.statusText);\n  });\n};\n\nexport const unwrapTextResponse = (response) => {\n  // Если запрос завершился ошибкой, пытаемся разобрать ее текст\n  if (!response.ok) {\n    return unwrapErrorResponse(response);\n  }\n\n  return response.text();\n};\n\nexport const unwrapJsonResponse = (response) => {\n  // Если запрос завершился ошибкой, пытаемся разобрать ее текст\n  if (!response.ok) {\n    return unwrapErrorResponse(response);\n  }\n\n  return response.json();\n};\n\n/**\n * Создать функцию-преобразователь результата запроса к серверу в локальные объекты\n *\n * @param {Function} [Constructor] Функция-конструктор\n * @returns {Function}\n */\nexport const prepareMapper = (Constructor) => (data) => {\n  if (Array.isArray(data)) {\n    return data.map((item) => (Constructor ? new Constructor(item) : item));\n  }\n  return Constructor ? new Constructor(data) : data;\n};\n\nexport const serializeQueryFilter = (filter = {}) => {\n  let queryFilter = '';\n  Object.keys(filter).forEach((key) => {\n    if (filter[key] !== undefined) {\n      if (_.isBoolean(filter[key]) && filter[key]) {\n        queryFilter = `${queryFilter}&${encodeURIComponent(key)}`;\n      } else if (!_.isEmpty(filter[key])) {\n        queryFilter = `${queryFilter}&${encodeURIComponent(\n          key,\n        )}=${encodeURIComponent(filter[key])}`;\n      }\n    }\n  });\n\n  return queryFilter;\n};\n\nexport const serializeQuerySort = (sort = {}) => {\n  let querySort = '';\n  if (sort.name) {\n    querySort = `&sort=${sort.dir > 0 ? '' : '-'}${sort.name}`;\n  }\n  return querySort;\n};\n\nexport const serializeQueryPagination = (pagination) => {\n  let queryPagination = '';\n  if (pagination) {\n    queryPagination += `&pageSize=${pagination.pageSize || 100}`;\n    queryPagination += `&skip=${pagination.skip || 0}`;\n  }\n\n  return queryPagination;\n};\n\nfunction formatServerUrl(route, params) {\n  let url = (route || '').trim();\n\n  // Параметры\n  let paramsText = '';\n  if (_.isObject(params)) {\n    Object.keys(params).forEach((key) => {\n      if (params[key]) {\n        paramsText += paramsText.length > 0 ? '&' : '';\n        paramsText += `${key}=${params[key]}`;\n      }\n    });\n  }\n\n  if (!_.isEmpty(paramsText)) {\n    url += `?${paramsText}`;\n  }\n\n  // Возможно URI уже был подготовлен\n  if (url.search(/^http/i) >= 0) {\n    return url;\n  }\n\n  // Если передали только часть URL, то объединяем с адресом сервера\n  if (url[0] !== '/') {\n    url = `/${url}`;\n  }\n  return `${process.env.REACT_APP_SERVER_URL}/api${url}`;\n}\n\n/**\n * Обертка вокруг HTML fetch, для установки обязательных заголовков\n *\n * @param {String}          method      HTTP метод\n * @param {String|Response} url         Адрес или запрос\n * @param {Object}          [options]   Настройки запроса\n * @promise {*}\n */\nfunction doFetch(method, url, options = {}) {\n  // Адрес\n  const formattedUrl = formatServerUrl(url, options.query);\n  // Параметры запроса\n\n  const fetchOptions = {\n    method,\n    headers: new Headers(),\n  };\n\n  // Тело запроса\n  if (options.body) {\n    let { body } = options;\n    if (_.isObject(body)) {\n      // Если есть функция, подготавливающая объект к запросу, то заменим его на результат ее вызова\n      if (_.isFunction(body.prepareForRequest)) {\n        body = body.prepareForRequest();\n      }\n      body = JSON.stringify(body);\n    }\n    fetchOptions.body = body;\n  }\n\n  // Заголовки\n  fetchOptions.headers.set('Accept', 'application/json');\n  fetchOptions.headers.set('Content-Type', 'application/json; charset=utf-8');\n\n  // Аутентификация\n  if (!options.noAuth) {\n    const authToken = options.authToken || readToken();\n    if (authToken) {\n      fetchOptions.headers.set('Authorization', `Bearer ${authToken}`);\n    }\n  }\n\n  return window.fetch(formattedUrl, fetchOptions);\n}\n\n/**\n * Вспомогательные методы для запросов к серверу\n */\nexport const Http = {\n  /**\n   * GET запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  get(url, options) {\n    return doFetch('get', url, options);\n  },\n\n  /**\n   * POST запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  post(url, options) {\n    return doFetch('post', url, options);\n  },\n\n  /**\n   * PUT запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  put(url, options) {\n    return doFetch('put', url, options);\n  },\n\n  /**\n   * DELETE запрос\n   *\n   * @param {String} url         Адрес\n   * @param {Object} [options]   Параметры\n   * @promise {*}\n   */\n  delete(url, options) {\n    return doFetch('delete', url, options);\n  },\n};\n","import has from 'lodash/has';\n\nexport const ASYNC_STATUS = {\n  loading: 'loading',\n  success: 'success',\n  error: 'error',\n};\n\nexport const queryApi = (actionType, promiseFunc) => (...args) => async (\n  dispatch,\n) => {\n  dispatch({\n    type: actionType,\n    status: ASYNC_STATUS.loading,\n  });\n\n  try {\n    const data = await promiseFunc(...args);\n    dispatch({\n      type: actionType,\n      status: ASYNC_STATUS.success,\n      payload: { data },\n    });\n  } catch (error) {\n    dispatch({\n      type: actionType,\n      status: ASYNC_STATUS.error,\n      payload: { error },\n    });\n  }\n};\n\nexport const processAsyncAction = (state, action, fields) => {\n  const { status, payload } = action;\n\n  switch (status) {\n    case ASYNC_STATUS.success:\n      return {\n        ...state,\n        [fields.loading]: false,\n        [fields.data]: payload.data || [],\n      };\n\n    case ASYNC_STATUS.error:\n      return {\n        ...state,\n        [fields.loading]: false,\n      };\n\n    default:\n      return {\n        ...state,\n        [fields.loading]: true,\n      };\n  }\n};\n\nexport const createReducer = (reducerObject, initialState = {}) => (\n  state = initialState,\n  action,\n) =>\n  has(reducerObject, action.type)\n    ? reducerObject[action.type](state, action)\n    : state;\n","import * as apiOrder from 'api/order';\nimport { queryApi } from '../utils';\n\nconst PREFIX = 'order';\n\nexport const QUERY_ORDERS = `${PREFIX}-QUERY_ORDERS`;\nexport const queryOrders = queryApi(QUERY_ORDERS, apiOrder.fetchOrderList);\n\nexport const FETCH_ORDER = `${PREFIX}-FETCH_ORDER`;\nexport const fetchOrder = queryApi(FETCH_ORDER, apiOrder.fetchOrder);\n","import { DateTime } from 'luxon';\n\nimport { Http, unwrapJsonResponse } from './utils';\n\nexport const fetchOrderList = () => {\n  const url = '/gedemin/order';\n  const query = {\n    dateBegin: DateTime.local().toISODate(),\n    dateEnd: DateTime.local().toISODate(),\n  };\n  return Http.get(url, { query }).then(unwrapJsonResponse);\n};\n\nexport const fetchOrder = (id) => {\n  const url = `/gedemin/order/${id}`;\n  return Http.get(url).then(unwrapJsonResponse);\n};\n","import { QUERY_ORDERS, FETCH_ORDER } from '../actions/order';\nimport { createReducer, processAsyncAction, ASYNC_STATUS } from '../utils';\n\nconst STATE = {\n  loading: false,\n  orders: [],\n};\n\nconst arrayIncludes = (array, findObj) =>\n  array.some((obj) => obj.id === findObj.id);\n\nconst arrayAdd = (array, newObj) => [...array, newObj];\n\nconst arrayReplace = (array, newObj) =>\n  array.map((obj) => (obj.id === newObj.id ? newObj : obj));\n\nconst arrayAddOrReplace = (array, obj) =>\n  arrayIncludes(array, obj) ? arrayReplace(array, obj) : arrayAdd(array, obj);\n\nconst reducerObject = {\n  [QUERY_ORDERS]: (state, action) =>\n    processAsyncAction(state, action, {\n      loading: 'loading',\n      data: 'orders',\n    }),\n\n  [FETCH_ORDER]: (state, action) => {\n    const { status, payload } = action;\n    if (status === ASYNC_STATUS.success) {\n      return {\n        ...state,\n        orders: arrayAddOrReplace(state.orders, payload.data || null),\n      };\n    }\n    return state;\n  },\n};\n\nexport default createReducer(reducerObject, STATE);\n","import * as apiRestaurant from 'api/restaurant';\nimport { queryApi } from '../utils';\n\nconst PREFIX = 'restaurant';\n\nexport const QUERY_RESTAURANTS = `${PREFIX}-QUERY_RESTAURANTS`;\nexport const queryRestaurants = queryApi(\n  QUERY_RESTAURANTS,\n  apiRestaurant.queryRestaurants,\n);\n","import { Http, unwrapJsonResponse } from './utils';\n\nexport const queryRestaurants = () => {\n  const url = '/gedemin/restaurant';\n  return Http.get(url).then(unwrapJsonResponse);\n};\n","import { QUERY_RESTAURANTS } from '../actions/restaurant';\nimport { createReducer, processAsyncAction } from '../utils';\n\nconst STATE = {\n  loading: false,\n  restaurants: [],\n};\n\nconst reducerObject = {\n  [QUERY_RESTAURANTS]: (state, action) =>\n    processAsyncAction(state, action, {\n      loading: 'loading',\n      data: 'restaurants',\n    }),\n};\n\nexport default createReducer(reducerObject, STATE);\n","const STATUSES_TEST_DATA = [\n  { id: 1, name: 'Возврат на точку' },\n  { id: 2, name: 'На доставке' },\n  { id: 3, name: 'На заправке' },\n  { id: 4, name: 'Поломка' },\n  { id: 5, name: 'В пробке' },\n  { id: 6, name: 'Перерыв' },\n];\n\nexport const queryUserStatuses = () => {\n  return Promise.resolve(STATUSES_TEST_DATA);\n};\n","import * as apiUserStatus from 'api/userStatus';\nimport { queryApi } from '../utils';\n\nconst PREFIX = 'dictionary';\n\nexport const QUERY_USER_STATUSES = `${PREFIX}-QUERY_USER_STATUSES`;\nexport const queryUserStatuses = queryApi(\n  QUERY_USER_STATUSES,\n  apiUserStatus.queryUserStatuses,\n);\n","import { QUERY_USER_STATUSES } from '../actions/dictionary';\nimport { createReducer, processAsyncAction } from '../utils';\n\nconst STATE = {\n  userStatusesLoading: false,\n  userStatuses: [],\n};\n\nconst reducerObject = {\n  [QUERY_USER_STATUSES]: (state, action) =>\n    processAsyncAction(state, action, {\n      loading: 'userStatusesLoading',\n      data: 'userStatuses',\n    }),\n};\n\nexport default createReducer(reducerObject, STATE);\n","import { combineReducers } from 'redux';\n\nimport order from './order';\nimport restaurant from './restaurant';\nimport dictionary from './dictionary';\n\nexport default combineReducers({\n  order,\n  restaurant,\n  dictionary,\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducers from './reducers';\n\nconst composeEnhancers =\n  (process.env.NODE_ENV === 'development' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\nexport default createStore(reducers, composeEnhancers(applyMiddleware(thunk)));\n","import React from 'react';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nconst ORANGE = '#FF936B';\nconst BLUE_LIGHT = '#DAEDFD';\nconst BLUE = '#2196F3';\nconst GREEN = '#00DA77';\nconst WHITE = '#FFF';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: BLUE,\n    },\n    secondary: {\n      main: ORANGE,\n    },\n  },\n  typography: {\n    overline: {\n      color: 'rgba(0, 0, 0, 0.54)',\n    },\n  },\n  overrides: {\n    MuiFab: {\n      root: {\n        color: WHITE,\n        backgroundColor: GREEN,\n      },\n    },\n    MuiTooltip: {\n      tooltip: {\n        fontSize: '0.75rem',\n      },\n    },\n  },\n  app: {\n    palette: {\n      orderStatus: {\n        pending: ORANGE,\n        assigned: BLUE_LIGHT,\n        delivery: BLUE,\n      },\n    },\n  },\n});\n\nconst RestfrontMuiTheme = ({ children }) => (\n  <MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>\n);\n\nexport default RestfrontMuiTheme;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { isAuthenticated } from '../system/auth';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) =>\n      isAuthenticated() ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: '/login',\n            state: { from: props.location },\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default PrivateRoute;\n","export default {\n  LOGIN: '/login',\n  HOME: '/',\n  ORDERS: '/orders',\n  ORDER: '/order',\n  MESSAGES: '/messages',\n  CONTACTS: '/contacts',\n  RESTAURANTS: '/restaurants',\n  USER_STATUS: '/user-status',\n};\n","import React from 'react';\n\nimport { createReducer } from 'store/utils';\nimport { genID } from 'system/utils';\n\nconst OPEN_DRAWER = 'open-drawer';\nexport const openDrawer = () => ({\n  type: OPEN_DRAWER,\n});\n\nconst CLOSE_DRAWER = 'close-drawer';\nexport const closeDrawer = () => ({\n  type: CLOSE_DRAWER,\n});\n\nconst NOTIFICATION_ADD = 'notification-add';\nexport const addNotification = (variant, message) => ({\n  type: NOTIFICATION_ADD,\n  notification: {\n    id: genID(),\n    variant,\n    message,\n  },\n});\n\nconst NOTIFICATION_REMOVE = 'notification-remove';\nexport const removeNotification = (id) => ({\n  type: NOTIFICATION_REMOVE,\n  id,\n});\n\nconst INITIAL_STATE = {\n  drawerOpened: false,\n  notifications: [],\n};\n\nconst reducerObject = {\n  [OPEN_DRAWER]: (state, action) => {\n    return {\n      ...state,\n      drawerOpened: true,\n    };\n  },\n\n  [CLOSE_DRAWER]: (state, action) => {\n    return {\n      ...state,\n      drawerOpened: false,\n    };\n  },\n\n  [NOTIFICATION_ADD]: (state, action) => {\n    const { notification } = action;\n    return {\n      ...state,\n      notifications: [...state.notifications, notification],\n    };\n  },\n\n  [NOTIFICATION_REMOVE]: (state, action) => {\n    const { id } = action;\n    return {\n      ...state,\n      notifications: state.notifications.filter((n) => n.id !== id),\n    };\n  },\n};\nconst reducer = createReducer(reducerObject, INITIAL_STATE);\n\nexport const useLocalState = () => React.useReducer(reducer, INITIAL_STATE);\n\nexport const AppDispatchContext = React.createContext(null);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      width: 'auto',\n      padding: theme.spacing(3),\n      [theme.breakpoints.up(400 + theme.spacing(3) * 2)]: {\n        width: 400,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    logo: {\n      width: 'auto',\n      height: '4vh',\n      marginBottom: theme.spacing(2),\n    },\n    mascot: {\n      width: 'auto',\n      height: '57vh',\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(2),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    textField: {\n      margin: '0',\n      marginBottom: theme.spacing(1),\n    },\n    submit: {\n      marginTop: theme.spacing(3),\n      width: '50%',\n    },\n  }),\n  { name: 'Login' },\n);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nimport { login } from 'api/auth';\nimport { writeToken } from 'system/auth';\nimport ROUTES from 'system/routes';\nimport ImgMascot from 'img/mascot-login-page.png';\nimport ImgLogo from 'img/logo.svg';\nimport { addNotification, AppDispatchContext } from '../Root/state';\nimport useStyles from './useStyles';\n\nconst Login = ({ history }) => {\n  const classes = useStyles();\n\n  // Local state hook\n  const dispatch = React.useContext(AppDispatchContext);\n\n  // Form state\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!username || !password) {\n      return;\n    }\n\n    login(username, password)\n      .then((response) => {\n        writeToken(response.token);\n        history.replace(ROUTES.HOME);\n      })\n      .catch((e) => {\n        dispatch(addNotification('warning', 'Ошибка входа'));\n        console.log(e);\n      });\n  };\n\n  const checkAuthentication = () => null;\n\n  // Check authentication on load, and navigate to HOME if already logged in\n  React.useEffect(() => {\n    checkAuthentication();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <img className={classes.logo} src={ImgLogo} alt=\"Logo\" />\n      <img className={classes.mascot} src={ImgMascot} alt=\"Mascot\" />\n\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField\n          className={classes.textField}\n          label=\"Логин\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          autoComplete=\"username\"\n          autoFocus\n          margin=\"normal\"\n          variant=\"outlined\"\n          required\n          fullWidth\n        />\n\n        <TextField\n          className={classes.textField}\n          label=\"Пароль\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          autoComplete=\"current-password\"\n          margin=\"normal\"\n          variant=\"outlined\"\n          required\n          fullWidth\n        />\n\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n        >\n          Войти\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default withRouter(Login);\n","import { Http, unwrapJsonResponse } from './utils';\n\nexport const login = (login, password) => {\n  const url = `/gedemin/login`;\n  return Http.post(url, { body: { login, password } }).then(unwrapJsonResponse);\n};\n","export const genID = () =>\n  '_' +\n  Math.random()\n    .toString(36)\n    .substr(2, 9);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n    },\n    grow: {\n      flexGrow: '1',\n    },\n  }),\n  { name: 'MenuAppBar' },\n);\n","import React from 'react';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport IconMenu from '@material-ui/icons/Menu';\n\nimport {\n  AppDispatchContext,\n  openDrawer as openDrawerAction,\n} from 'views/Root/state';\nimport useStyles from './useStyles';\n\nconst AppBar = ({ caption }) => {\n  const classes = useStyles();\n\n  const dispatch = React.useContext(AppDispatchContext);\n\n  const openDrawer = () => dispatch(openDrawerAction());\n\n  return (\n    <MuiAppBar position=\"static\" color=\"default\">\n      <Toolbar>\n        <IconButton\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"Menu\"\n          onClick={openDrawer}\n        >\n          <IconMenu />\n        </IconButton>\n\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n          {caption}\n        </Typography>\n      </Toolbar>\n    </MuiAppBar>\n  );\n};\n\nexport default AppBar;\n","import React from 'react';\n\nexport default (effect) => {\n  React.useEffect(effect, []);\n};\n","export const STATUS = {\n  pending: 'pending',\n  assigned: 'assigned',\n  delivery: 'delivery',\n};\nconst STATUS_NAMES = {\n  [STATUS.pending]: 'Новая',\n  [STATUS.assigned]: 'Принята',\n  [STATUS.delivery]: 'В пути',\n};\n\nconst SERVER_STATUS = {\n  DEFERRED: 0, // отложенная\n  NEW: 1, // новый\n  RECEIVED: 2, // получен из внешней системы\n  IN_PROCESS: 3, // в обработке\n  CANCELED: 4, // отменен менеджером доставки\n  SENDED_TO_RESTAURANT: 5, // отправлен в ресторан\n  COOKING: 6, // готовится в ресторане\n  READY: 7, // готов в ресторане\n  CANCELED_BY_RESTAURANT: 8, // отменен рестораном\n  TAKEN_BY_CLIENT: 9, // забран клиентом\n\n  SENDED_TO_COURIER: 10, // отправлен курьеру\n  TAKEN_BY_COURIER: 11, // забран с ресторана\n  DELIVERED: 12, // доставлен\n  CANCELED_BY_COURIER: 13, // отменен курьером\n  CANCELED_BY_CLIENT: 14, // отменен клиентом\n};\n\nexport const getDeliveryStatus = (order) => {\n  if (order.status === SERVER_STATUS.TAKEN_BY_COURIER) {\n    return STATUS.delivery;\n  }\n  if (order.status === SERVER_STATUS.SENDED_TO_COURIER) {\n    return STATUS.assigned;\n  }\n  return STATUS.pending;\n};\n\nexport const getDeliveryStatusName = (status) => STATUS_NAMES[status];\n\nconst append = (str, part, divider = ', ') =>\n  (str ? `${str}${divider}` : '') + part;\n\nexport const formatAddress = (order) => {\n  if (!order) {\n    return '';\n  }\n  let result = '';\n  if (order.city) {\n    result = append(result, `г. ${order.city}`);\n  }\n  if (order.street) {\n    result = append(result, `ул. ${order.street}`);\n  }\n  if (order.house) {\n    result = append(result, `д. ${order.house}`);\n  }\n  if (order.housing) {\n    result = append(result, `к. ${order.housing}`);\n  }\n  if (order.entrance) {\n    result = append(result, `под. ${order.entrance}`);\n  }\n  if (order.floor) {\n    result = append(result, `эт. ${order.floor}`);\n  }\n  if (order.apartment) {\n    result = append(result, `кв. ${order.apartment}`);\n  }\n  return result;\n};\n\nexport const formatClient = (order) => {\n  if (!order || !order.client) {\n    return '';\n  }\n  const client = order.client;\n  let result = '';\n  if (client.surName) {\n    result = append(result, client.surName, ' ');\n  }\n  if (client.firstName) {\n    result = append(result, client.firstName, ' ');\n  }\n  if (client.middleName) {\n    result = append(result, client.middleName, ' ');\n  }\n  return result;\n};\n\nexport const calculateTotalSum = (order) =>\n  order.lines.reduce((acc, line) => acc + line.sumWithDiscountNcu, 0);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    root: {\n      padding: '0',\n      paddingRight: theme.spacing(1),\n    },\n    status: {\n      width: '8px',\n      height: '56px',\n      backgroundColor: 'gray',\n    },\n    number: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    },\n    address: {},\n  }),\n  { name: 'OrderListItem' },\n);\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport Typography from '@material-ui/core/Typography';\n\nimport { formatAddress } from 'data/order';\nimport useStyles from './useStyles';\n\nconst OrderListItem = ({ order, ...restProps }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <ListItem className={classes.root} button {...restProps}>\n      <div className={classes.status} />\n      <Typography variant=\"body1\" className={classes.number}>\n        {order.number}\n      </Typography>\n      <Typography variant=\"body2\" className={classes.address}>\n        {formatAddress(order)}\n      </Typography>\n    </ListItem>\n  );\n};\n\nexport default OrderListItem;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    list: {\n      padding: '0',\n    },\n  }),\n  { name: 'OrderList' },\n);\n","import React from 'react';\nimport List from '@material-ui/core/List';\n\nimport OrderListItem from './OrderListItem';\nimport useStyles from './useStyles';\n\nconst OrderList = ({ orders, onOrderClick }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <List className={classes.list}>\n        {orders.map((order) => (\n          <OrderListItem\n            key={order.id}\n            order={order}\n            onClick={() => onOrderClick(order)}\n          />\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default OrderList;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  }),\n  { name: 'EmptyScreen' },\n);\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport useStyles from './useStyles';\n\nconst EmptyScreen = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body1\">В данный момент у вас нет заказов</Typography>\n    </div>\n  );\n};\n\nexport default EmptyScreen;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Orders' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryOrders } from 'store/actions/order';\nimport ROUTES from 'system/routes';\nimport MenuAppBar from 'components/MenuAppBar';\nimport useEffectOnce from 'hooks/useEffectOnce';\nimport OrderList from './OrderList';\nimport EmptyScreen from './EmptyScreen';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ order }) => {\n  return {\n    orders: order.orders,\n  };\n};\n\nconst Orders = ({ orders, history, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  useEffectOnce(() => {\n    dispatch(queryOrders());\n  });\n\n  const navigateToOrder = (order) => {\n    history.push(`${ROUTES.ORDER}/${order.id}`);\n  };\n\n  return (\n    <div className={classes.root}>\n      <MenuAppBar caption=\"Доставки\" />\n\n      {orders.length > 0 ? (\n        <OrderList orders={orders} onOrderClick={navigateToOrder} />\n      ) : (\n        <EmptyScreen />\n      )}\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(Orders);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    menuButton: {\n      marginLeft: -12,\n      marginRight: 20,\n    },\n    grow: {\n      flexGrow: '1',\n    },\n  }),\n  { name: 'SimpleAppBar' },\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport MuiAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport IconArrowBack from '@material-ui/icons/ArrowBack';\n\nimport ROUTES from 'system/routes';\nimport useStyles from './useStyles';\n\nconst propTypes = {\n  caption: PropTypes.string,\n};\n\nconst defaultProps = {\n  caption: 'SimpleAppBar',\n};\n\nconst SimpleAppBar = ({ history, caption }) => {\n  const classes = useStyles();\n\n  const goBack = () => {\n    history.replace(ROUTES.HOME);\n  };\n\n  return (\n    <MuiAppBar position=\"static\" color=\"default\">\n      <Toolbar>\n        <IconButton\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"Menu\"\n          onClick={goBack}\n        >\n          <IconArrowBack />\n        </IconButton>\n\n        <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n          {caption}\n        </Typography>\n      </Toolbar>\n    </MuiAppBar>\n  );\n};\n\nSimpleAppBar.propTypes = propTypes;\nSimpleAppBar.defaultProps = defaultProps;\n\nexport default withRouter(SimpleAppBar);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {},\n    map: {},\n  }),\n  { name: 'OSMMap' },\n);\n","import React from 'react';\nimport { Map as OLMap, View as OLView } from 'ol';\nimport OLLayerTile from 'ol/layer/Tile';\nimport OLSourceOSM from 'ol/source/OSM';\nimport { fromLonLat } from 'ol/proj';\nimport 'ol/ol.css';\n\nimport useStyles from './useStyles';\n\nconst OSMMap = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Map DOM ref\n  const mapRef = React.createRef();\n\n  React.useEffect(() => {\n    const map = new OLMap({\n      target: mapRef.current,\n      layers: [\n        new OLLayerTile({\n          source: new OLSourceOSM(),\n        }),\n      ],\n      view: new OLView({\n        center: fromLonLat([27.55228, 53.903323]),\n        zoom: 12,\n      }),\n    });\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.map} ref={mapRef} />\n    </div>\n  );\n};\n\nexport default OSMMap;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    root: {\n      display: 'flex',\n      alignItems: 'stretch',\n      lineHeight: '1.5em',\n      padding: '4px 0 4px 0',\n    },\n    label: {\n      ...theme.typography.body1,\n      fontWeight: theme.typography.fontWeightMedium,\n      flex: '0 0 70px',\n      paddingLeft: theme.spacing(2),\n    },\n    value: {\n      ...theme.typography.body1,\n      flex: '1',\n      paddingRight: theme.spacing(2),\n    },\n  }),\n  { name: 'InfoItem' },\n);\n","import React from 'react';\n\nimport useStyles from './useStyles';\n\nconst InfoItem = ({ label, children, ...restProps }) => {\n  // Styles hook\n  const classes = useStyles({ classes: restProps.classes });\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.label}>{label}</div>\n      <div className={classes.value}>{children}</div>\n    </div>\n  );\n};\n\nexport default InfoItem;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    map: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n    orderLines: {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    orderLine: {\n      display: 'flex',\n    },\n    lineName: {\n      ...theme.typography.body1,\n      flex: '1',\n    },\n    lineQuantity: {\n      ...theme.typography.body1,\n      fontWeight: theme.typography.fontWeightMedium,\n      flex: '0 0 24px',\n      textAlign: 'right',\n    },\n    statusBar: {\n      backgroundColor: theme.app.palette.orderStatus.pending,\n      marginBottom: theme.spacing(1),\n\n      '& $label': {\n        color: theme.palette.common.white,\n      },\n      '& $value': {\n        color: theme.palette.common.white,\n      },\n    },\n  }),\n  { name: 'OrderInfo' },\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  formatClient,\n  formatAddress,\n  calculateTotalSum,\n  getDeliveryStatus,\n  getDeliveryStatusName,\n} from 'data/order';\nimport { formatMoney } from 'system/format';\nimport OSMMap from 'components/OSMMap';\nimport InfoItem from './InfoItem';\nimport useStyles from './useStyles';\n\nconst propTypes = {\n  order: PropTypes.shape({}).isRequired,\n};\n\nconst OrderInfo = ({ order, ...restProps }) => {\n  // Styles hook\n  const classes = useStyles({ classes: restProps.classes });\n\n  // Order delivery status\n  const statusName = React.useMemo(() => {\n    const deliveryStatus = getDeliveryStatus(order.status);\n    return getDeliveryStatusName(deliveryStatus);\n  }, [order.status]);\n\n  return (\n    <>\n      <InfoItem classes={{ root: classes.statusBar }} label=\"Статус\">\n        {statusName}\n      </InfoItem>\n\n      <InfoItem label=\"ФИО\">{formatClient(order)}</InfoItem>\n      <InfoItem label=\"Адрес\">{formatAddress(order)}</InfoItem>\n\n      <div className={classes.map}>\n        <OSMMap />\n      </div>\n\n      <InfoItem classes={{ value: classes.orderLines }} label=\"Заказ\">\n        {order.lines.map((line) => (\n          <div key={line.id} className={classes.orderLine}>\n            <div className={classes.lineName}>{line.good.name}</div>\n            <div className={classes.lineQuantity}>{line.quantity}</div>\n          </div>\n        ))}\n      </InfoItem>\n\n      {order.comment && <InfoItem label=\"Прим.\">{order.comment}</InfoItem>}\n\n      <InfoItem label=\"Сумма\">{formatMoney(calculateTotalSum(order))}</InfoItem>\n    </>\n  );\n};\n\nOrderInfo.propTypes = propTypes;\n\nexport default OrderInfo;\n","import numeral from 'numeral';\n\nexport const formatMoney = (value) => {\n  //\n  const prepared = Math.abs(value || 0);\n  const rounded = Math.round(prepared * 100) / 100;\n\n  const intPart = Math.trunc(rounded);\n  const fractPart = Math.round((rounded - intPart) * 100);\n\n  const intStr = numeral(intPart).format('0,0');\n  const fractStr = numeral(fractPart).format('00');\n\n  return `${value < 0 ? '- ' : ''}${intStr} руб. ${fractStr} коп.`;\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Order' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { fetchOrder } from 'store/actions/order';\nimport SimpleAppBar from 'components/SimpleAppBar';\nimport OrderInfo from './OrderInfo';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ order }, { match }) => {\n  const orderId = Number(match.params.id);\n  return {\n    order: order.orders.find((order) => order.id === orderId),\n  };\n};\n\nconst Order = ({ order, match, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  React.useEffect(() => {\n    const orderId = Number(match.params.id);\n    dispatch(fetchOrder(orderId));\n  }, [dispatch, match.params.id]);\n\n  const orderNumber = order ? order.number : '';\n  const appCaption = `Доставка${orderNumber ? ' № ' + orderNumber : ''}`;\n\n  return (\n    <div className={classes.root}>\n      <SimpleAppBar caption={appCaption} />\n\n      {order ? <OrderInfo order={order} /> : <span>Empty order</span>}\n\n      <div className={classes.actions} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(Order);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  }),\n  { name: 'EmptyScreen' },\n);\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\n\nimport useStyles from './useStyles';\n\nconst EmptyScreen = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body1\">\n        В данный момент у вас нет сообщений\n      </Typography>\n    </div>\n  );\n};\n\nexport default EmptyScreen;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Messages' },\n);\n","import React from 'react';\n\nimport MenuAppBar from 'components/MenuAppBar';\nimport EmptyScreen from './EmptyScreen';\nimport useStyles from './useStyles';\n\nconst Messages = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <MenuAppBar caption=\"Сообщения\" />\n\n      <EmptyScreen />\n    </div>\n  );\n};\n\nexport default Messages;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Contacts' },\n);\n","import React from 'react';\n\nimport MenuAppBar from 'components/MenuAppBar';\nimport useStyles from './useStyles';\n\nconst Contacts = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <MenuAppBar caption=\"Контакты\" />\n    </div>\n  );\n};\n\nexport default Contacts;\n","const appendAddress = (address, part) => (address ? `${address}, ` : '') + part;\n\nexport const formatAddress = (restaurant) => {\n  if (!restaurant || !restaurant.restData) {\n    return '';\n  }\n  const data = restaurant.restData;\n  let address = '';\n  if (data.city) {\n    address = appendAddress(address, `г. ${data.city}`);\n  }\n  if (data.street) {\n    address = appendAddress(address, `ул. ${data.street}`);\n  }\n  if (data.house) {\n    address = appendAddress(address, `д. ${data.house}`);\n  }\n  if (data.housing) {\n    address = appendAddress(address, `к. ${data.housing}`);\n  }\n  return address;\n};\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    list: {},\n  }),\n  { name: 'RestaurantList' },\n);\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { formatAddress } from 'data/restaurant';\nimport useStyles from './useStyles';\n\nconst RestaurantList = ({ restaurants, onClick }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <List>\n        {restaurants.map((restaurant) => (\n          <ListItem\n            key={restaurant.id}\n            button\n            onClick={() => onClick(restaurant)}\n          >\n            <ListItemText\n              primary={restaurant.name}\n              secondary={formatAddress(restaurant)}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default RestaurantList;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'Restaurants' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryRestaurants } from 'store/actions/restaurant';\nimport SimpleAppBar from 'components/SimpleAppBar';\nimport useEffectOnce from 'hooks/useEffectOnce';\nimport RestaurantList from './RestaurantList';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ restaurant }) => {\n  return {\n    restaurants: restaurant.restaurants,\n  };\n};\n\nconst Restaurants = ({ restaurants, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  useEffectOnce(() => {\n    dispatch(queryRestaurants());\n  });\n\n  const handleSelectRestaurant = (restaurant) => {\n    console.log(restaurant);\n  };\n\n  return (\n    <div className={classes.root}>\n      <SimpleAppBar caption=\"Точки доставки\" />\n\n      <RestaurantList\n        restaurants={restaurants}\n        onClick={handleSelectRestaurant}\n      />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(Restaurants);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    list: {},\n  }),\n  { name: 'StatusList' },\n);\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport useStyles from './useStyles';\n\nconst StatusList = ({ items, onClick }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <List>\n        {items.map((item) => (\n          <ListItem key={item.id} button onClick={() => onClick(item)}>\n            <ListItemText primary={item.name} />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default StatusList;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n  { name: 'UserStatus' },\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { queryUserStatuses } from 'store/actions/dictionary';\nimport SimpleAppBar from 'components/SimpleAppBar';\nimport useEffectOnce from 'hooks/useEffectOnce';\nimport StatusList from './StatusList';\nimport useStyles from './useStyles';\n\nconst mapStateToProps = ({ dictionary }) => {\n  return {\n    statuses: dictionary.userStatuses,\n  };\n};\n\nconst UserStatus = ({ statuses, dispatch }) => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Query data effect hook\n  useEffectOnce(() => {\n    dispatch(queryUserStatuses());\n  });\n\n  const handleSelectStatus = (item) => {\n    console.log(item);\n  };\n\n  return (\n    <div className={classes.root}>\n      <SimpleAppBar caption=\"Статусы\" />\n\n      <StatusList items={statuses} onClick={handleSelectStatus} />\n    </div>\n  );\n};\n\nexport default connect(mapStateToProps, null)(UserStatus);\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    content: {\n      width: '80vw',\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n    },\n    userContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: theme.spacing(2),\n    },\n    avatar: {\n      width: '128px',\n      height: '128px',\n      marginBottom: theme.spacing(2),\n    },\n    avatarImg: {\n      position: 'absolute',\n      top: '-25px',\n      left: '-30px',\n      width: '150%',\n      height: 'auto',\n    },\n    list: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n    },\n    textListItem: {\n      paddingTop: '6px',\n      paddingBottom: '6px',\n    },\n    iconListItem: {\n      paddingTop: '17px',\n      paddingBottom: '17px',\n    },\n    bottomContainer: {\n      flex: '1',\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'flex-end',\n      justifyContent: 'space-around',\n      padding: theme.spacing(2),\n    },\n    action: {\n      color: theme.palette.common.white,\n    },\n  }),\n  { name: 'Drawer' },\n);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Divider from '@material-ui/core/Divider';\nimport IconDriveEta from '@material-ui/icons/DriveEta';\nimport IconInbox from '@material-ui/icons/Inbox';\nimport IconContacts from '@material-ui/icons/Contacts';\nimport Fab from '@material-ui/core/Fab';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\n\nimport ImgMascot from 'img/mascot-login-page.png';\nimport { clearToken } from 'system/auth';\nimport ROUTES from 'system/routes';\nimport {\n  AppDispatchContext,\n  openDrawer as openDrawerAction,\n  closeDrawer as closeDrawerAction,\n} from '../state';\nimport useStyles from './useStyles';\n\nconst Drawer = ({ open, history }) => {\n  const classes = useStyles();\n\n  const dispatch = React.useContext(AppDispatchContext);\n\n  const openDrawer = () => dispatch(openDrawerAction());\n  const closeDrawer = () => dispatch(closeDrawerAction());\n\n  const navigateTo = (route) => {\n    closeDrawer();\n    history.replace(route);\n  };\n\n  const logout = () => {\n    closeDrawer();\n    clearToken();\n    history.replace(ROUTES.LOGIN);\n  };\n\n  return (\n    <SwipeableDrawer open={open} onClose={closeDrawer} onOpen={openDrawer}>\n      <div className={classes.content}>\n        <div className={classes.userContainer}>\n          <Avatar\n            classes={{ root: classes.avatar, img: classes.avatarImg }}\n            alt=\"User\"\n            src={ImgMascot}\n          />\n          <Typography variant=\"h6\">Вася Пупкин</Typography>\n          <Typography variant=\"subtitle1\">курьер</Typography>\n        </div>\n\n        <Divider />\n\n        <List className={classes.list}>\n          <ListItem\n            className={classes.textListItem}\n            button\n            onClick={() => navigateTo(ROUTES.RESTAURANTS)}\n          >\n            <ListItemText>\n              <Typography variant=\"overline\">Точка</Typography>\n              <Typography variant=\"body1\">Васильки 1</Typography>\n            </ListItemText>\n          </ListItem>\n\n          <ListItem\n            className={classes.textListItem}\n            button\n            onClick={() => navigateTo(ROUTES.USER_STATUS)}\n          >\n            <ListItemText>\n              <Typography variant=\"overline\">Статус</Typography>\n              <Typography variant=\"body1\">Перерыв с 10.00 до 10.30</Typography>\n            </ListItemText>\n          </ListItem>\n        </List>\n\n        <Divider />\n\n        <List className={classes.list}>\n          <ListItem\n            className={classes.iconListItem}\n            button\n            onClick={() => navigateTo(ROUTES.ORDERS)}\n          >\n            <ListItemIcon>\n              <IconDriveEta color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Доставки\" />\n          </ListItem>\n\n          <ListItem\n            className={classes.iconListItem}\n            button\n            onClick={() => navigateTo(ROUTES.MESSAGES)}\n          >\n            <ListItemIcon>\n              <IconInbox color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Сообщения\" />\n          </ListItem>\n\n          <ListItem\n            className={classes.iconListItem}\n            button\n            onClick={() => navigateTo(ROUTES.CONTACTS)}\n          >\n            <ListItemIcon>\n              <IconContacts color=\"primary\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Контакты\" />\n          </ListItem>\n        </List>\n\n        <div className={classes.bottomContainer}>\n          <Fab\n            className={classes.action}\n            variant=\"extended\"\n            size=\"medium\"\n            color=\"secondary\"\n            aria-label=\"Add\"\n          >\n            Закрыть смену\n          </Fab>\n\n          <Fab\n            className={classes.action}\n            variant=\"extended\"\n            size=\"medium\"\n            color=\"secondary\"\n            aria-label=\"Add\"\n            onClick={logout}\n          >\n            Выйти\n          </Fab>\n        </div>\n      </div>\n    </SwipeableDrawer>\n  );\n};\n\nexport default withRouter(Drawer);\n","import { useRef, useEffect } from 'react';\n\nconst useFreshRef = (value) => {\n  // Create initial 'ref'\n  const ref = useRef(value);\n\n  // Refresh 'ref' value on every render\n  useEffect(() => {\n    ref.current = value;\n  });\n\n  return ref;\n};\n\nexport default useFreshRef;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  (theme) => ({\n    buttonClose: {\n      padding: theme.spacing(0.5),\n    },\n  }),\n  { name: 'Snackbar' },\n);\n","import React from 'react';\nimport MuiSnackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport IconClose from '@material-ui/icons/Close';\n\nimport useFreshRef from 'hooks/useFreshRef';\nimport { removeNotification, AppDispatchContext } from '../state';\nimport useStyles from './useStyles';\n\nconst TIMEOUT = 3000;\n\nconst Snackbar = ({ notifications, ...restProps }) => {\n  // Style hook\n  const classes = useStyles({ classes: restProps.classes });\n\n  // Open/closed state\n  const [open, setOpen] = React.useState(false);\n  const [current, setCurrent] = React.useState(null);\n  const currentRef = useFreshRef(current);\n\n  // Local state hook\n  const dispatch = React.useContext(AppDispatchContext);\n\n  // Effect to change current notification\n  React.useEffect(() => {\n    const last =\n      notifications.length > 0 ? notifications[notifications.length - 1] : null;\n    if (currentRef.current) {\n      dispatch(removeNotification(currentRef.current.id));\n      setOpen(false);\n    }\n    setCurrent(last);\n\n    console.log(notifications);\n  }, [dispatch, currentRef, notifications]);\n\n  // Effect to hide current notification\n  React.useEffect(() => {\n    if (!current) {\n      setOpen(false);\n      return;\n    }\n\n    setOpen(true);\n    const timeout = setTimeout(\n      () => dispatch(removeNotification(current.id)),\n      TIMEOUT,\n    );\n    return () => clearTimeout(timeout);\n  }, [dispatch, current]);\n\n  const handleClose = (event, reason) => {\n    if (!current || reason === 'clickaway') {\n      return;\n    }\n\n    dispatch(removeNotification(current.id));\n  };\n\n  return (\n    <MuiSnackbar\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n      open={open}\n      onClose={handleClose}\n      ContentProps={{\n        'aria-describedby': 'message-id',\n      }}\n      message={current ? <span id=\"message-id\">{current.message}</span> : null}\n      action={[\n        <IconButton\n          className={classes.buttonClose}\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          onClick={handleClose}\n        >\n          <IconClose />\n        </IconButton>,\n      ]}\n    />\n  );\n};\n\nexport default Snackbar;\n","import { makeStyles } from '@material-ui/core';\n\nexport default makeStyles(\n  () => ({\n    root: {\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'stretch',\n    },\n\n    header: {\n      backgroundColor: '#282c34',\n      textAlign: 'center',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: 'calc(10px + 2vmin)',\n      color: 'white',\n    },\n  }),\n  { name: 'Root' },\n);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from 'react-router-dom';\n\nimport store from 'store';\nimport RestfrontMuiTheme from 'components/RestfrontMuiTheme';\nimport PrivateRoute from 'components/PrivateRoute';\nimport { isAuthenticated } from 'system/auth';\nimport ROUTES from 'system/routes';\nimport PageLogin from '../Login';\nimport PageOrders from '../Orders';\nimport PageOrder from '../Order';\nimport PageMessages from '../Messages';\nimport PageContacts from '../Contacts';\nimport PageRestaurants from '../Restaurants';\nimport PageUserStatus from '../UserStatus';\nimport { useLocalState, AppDispatchContext } from './state';\nimport Drawer from './Drawer';\nimport Snackbar from './Snackbar';\nimport useStyles from './useStyles';\n\nconst Root = () => {\n  // Styles hook\n  const classes = useStyles();\n\n  // Local state hook\n  const [state, appDispatch] = useLocalState();\n  const { drawerOpened, notifications } = state;\n\n  return (\n    <Provider store={store}>\n      <RestfrontMuiTheme>\n        <Router>\n          <AppDispatchContext.Provider value={appDispatch}>\n            <div className={classes.root}>\n              <Snackbar notifications={notifications} />\n\n              {isAuthenticated() && (\n                <>\n                  <header className={classes.header} />\n                  <Drawer open={drawerOpened} />\n                </>\n              )}\n\n              <Switch>\n                <Route path={ROUTES.LOGIN}>\n                  <PageLogin />\n                </Route>\n\n                <PrivateRoute\n                  exact\n                  path={ROUTES.ORDERS}\n                  component={PageOrders}\n                />\n                <PrivateRoute\n                  path={`${ROUTES.ORDER}/:id`}\n                  component={PageOrder}\n                />\n                <PrivateRoute\n                  exact\n                  path={ROUTES.MESSAGES}\n                  component={PageMessages}\n                />\n                <PrivateRoute\n                  exact\n                  path={ROUTES.CONTACTS}\n                  component={PageContacts}\n                />\n\n                <PrivateRoute\n                  exact\n                  path={ROUTES.RESTAURANTS}\n                  component={PageRestaurants}\n                />\n                <PrivateRoute\n                  exact\n                  path={ROUTES.USER_STATUS}\n                  component={PageUserStatus}\n                />\n\n                <Redirect to={ROUTES.ORDERS} />\n              </Switch>\n            </div>\n          </AppDispatchContext.Provider>\n        </Router>\n      </RestfrontMuiTheme>\n    </Provider>\n  );\n};\n\nexport default Root;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport Root from './views/Root';\n\nReactDOM.render(<Root />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}